/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./locales/en.json":
/*!*************************!*\
  !*** ./locales/en.json ***!
  \*************************/
/*! exports provided: confirm.no, confirm.yes, customer, customer.card.number, customer.phone, erply.api.network.error, order.action.add.back, order.action.confirm, order.action.finish.picking, order.action.heading, order.action.move.history, order.action.remove, order.action.save, order.action.start.picking, order.date, order.date.created, order.delivery.date.time, order.pickup.type, order.edit.actions, order.edit.title, order.edit.confirmation.title, order.edit.confirmation.plu.remove, order.edit.confirmation.order.cancelled, order.edit.confirmation.confirmation.text, order.invalid.cashinvoice.error, order.notes, order.number, order.picking.text, order.picking.title, order.pickup.date.time, order.pickup.status.cancelled, order.pickup.status.confirmed, order.pickup.status.delivered, order.pickup.status.new, order.pickup.status.picked, order.pickup.status.picking, order.print.action.failure, order.print.action.progress, order.print.generate, order.print.generate.error, order.print.notes, order.print.receipts.fetch.error, order.print.receipts.missing, order.print.title, order.reference.no, order.return.documents, order.row.price, order.row.product.code, order.row.product.description, order.row.product.name, order.row.quantity, order.row.total, order.save.action.error, order.save.action.text, order.status, order.subtotal.with.value, order.tax.total.with.value, order.total.with.value, order.with.number, order.fetch.customer.info.error, orders.fetch.recent.orders, orders.fetch.recent.orders.error, orders.fetch.unprocessed.orders, orders.fetch.unprocessed.orders.error, orders.list.refresh.button, orders.list.title, orders.tab.history, orders.tab.unfinished, orders.update.new.orders, default */
/***/ (function(module) {

eval("module.exports = {\"confirm.no\":\"No\",\"confirm.yes\":\"Yes\",\"customer\":\"Customer\",\"customer.card.number\":\"Customer card number\",\"customer.phone\":\"Phone\",\"erply.api.network.error\":\"No internet connection\",\"order.action.add.back\":\"Add back\",\"order.action.confirm\":\"Confirm\",\"order.action.finish.picking\":\"Finish picking\",\"order.action.heading\":\"Action\",\"order.action.move.history\":\"Move to history\",\"order.action.remove\":\"Remove\",\"order.action.save\":\"Save\",\"order.action.start.picking\":\"Start picking\",\"order.date\":\"Date\",\"order.date.created\":\"Date created\",\"order.delivery.date.time\":\"Delivery date time\",\"order.pickup.type\":\"Pickup type\",\"order.edit.actions\":\"Actions\",\"order.edit.title\":\"Edit order #{number}\",\"order.edit.confirmation.title\":\"Edit order confirmation\",\"order.edit.confirmation.plu.remove\":\"You have removed PLU(s) {pluList}.\",\"order.edit.confirmation.order.cancelled\":\"The order will be <strong>cancelled</strong>.\",\"order.edit.confirmation.confirmation.text\":\"Do you want to continue?\",\"order.invalid.cashinvoice.error\":\"Invalid company order. No payments have been made, cannot make a return.\",\"order.notes\":\"Notes\",\"order.number\":\"Number\",\"order.picking.text\":\"Did all products exist?\",\"order.picking.title\":\"Picking confirmation\",\"order.pickup.date.time\":\"Pickup date time\",\"order.pickup.status.cancelled\":\"CANCELLED\",\"order.pickup.status.confirmed\":\"CONFIRMED\",\"order.pickup.status.delivered\":\"DELIVERED\",\"order.pickup.status.new\":\"NEW\",\"order.pickup.status.picked\":\"PICKED\",\"order.pickup.status.picking\":\"PICKING\",\"order.print.action.failure\":\"Failed to print order\",\"order.print.action.progress\":\"Printing order receipt\",\"order.print.generate\":\"Generating template\",\"order.print.generate.error\":\"Failed to generate template\",\"order.print.notes\":\"Notes: {notes}\",\"order.print.receipts.fetch.error\":\"Could not retrieve receipts\",\"order.print.receipts.missing\":\"No receipts found for order\",\"order.print.title\":\"Picking list\",\"order.reference.no\":\"Reference no.\",\"order.return.documents\":\"Return documents\",\"order.row.price\":\"Price\",\"order.row.product.code\":\"Product code\",\"order.row.product.description\":\"Product description\",\"order.row.product.name\":\"Product name\",\"order.row.quantity\":\"Quantity\",\"order.row.total\":\"Total\",\"order.save.action.error\":\"Failed to update the order, error: {error}\",\"order.save.action.text\":\"Updating order\",\"order.status\":\"Status\",\"order.subtotal.with.value\":\"Sub-total: {value}\",\"order.tax.total.with.value\":\"Tax: {value}\",\"order.total.with.value\":\"Total: {value}\",\"order.with.number\":\"Order #{number}\",\"order.fetch.customer.info.error\":\"Failed to get customer information\",\"orders.fetch.recent.orders\":\"Getting recent orders\",\"orders.fetch.recent.orders.error\":\"Failed to fetch recent orders, error: {error}\",\"orders.fetch.unprocessed.orders\":\"Loading orders\",\"orders.fetch.unprocessed.orders.error\":\"Failed to load orders, error: {error}\",\"orders.list.refresh.button\":\"Refresh\",\"orders.list.title\":\"Order Notification Manager\",\"orders.tab.history\":\"History\",\"orders.tab.unfinished\":\"Unfinished\",\"orders.update.new.orders\":\"New orders\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9sb2NhbGVzL2VuLmpzb24uanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./locales/en.json\n");

/***/ }),

/***/ "./locales/fr.json":
/*!*************************!*\
  !*** ./locales/fr.json ***!
  \*************************/
/*! exports provided: confirm.no, confirm.yes, customer, customer.card.number, customer.phone, erply.api.network.error, order.action.add.back, order.action.confirm, order.action.finish.picking, order.action.heading, order.action.move.history, order.action.remove, order.action.save, order.action.start.picking, order.date, order.date.created, order.delivery.date.time, order.pickup.type, order.edit.actions, order.edit.title, order.edit.confirmation.title, order.edit.confirmation.plu.remove, order.edit.confirmation.order.cancelled, order.edit.confirmation.confirmation.text, order.invalid.cashinvoice.error, order.notes, order.number, order.picking.text, order.picking.title, order.pickup.date.time, order.pickup.status.cancelled, order.pickup.status.confirmed, order.pickup.status.delivered, order.pickup.status.new, order.pickup.status.picked, order.pickup.status.picking, order.print.action.failure, order.print.action.progress, order.print.generate, order.print.generate.error, order.print.notes, order.print.receipts.fetch.error, order.print.receipts.missing, order.print.title, order.reference.no, order.return.documents, order.row.price, order.row.product.code, order.row.product.description, order.row.product.name, order.row.quantity, order.row.total, order.save.action.error, order.save.action.text, order.status, order.subtotal.with.value, order.tax.total.with.value, order.total.with.value, order.with.number, order.fetch.customer.info.error, orders.fetch.recent.orders, orders.fetch.recent.orders.error, orders.fetch.unprocessed.orders, orders.fetch.unprocessed.orders.error, orders.list.refresh.button, orders.list.title, orders.tab.history, orders.tab.unfinished, orders.update.new.orders, default */
/***/ (function(module) {

eval("module.exports = {\"confirm.no\":\"Non\",\"confirm.yes\":\"Oui\",\"customer\":\"Client\",\"customer.card.number\":\"Numéro de carte\",\"customer.phone\":\"Téléphone\",\"erply.api.network.error\":\"Pas de connection internet\",\"order.action.add.back\":\"Rajouter\",\"order.action.confirm\":\"Confirmer\",\"order.action.finish.picking\":\"Commande prête\",\"order.action.heading\":\"Action\",\"order.action.move.history\":\"Ajouter à l’historique\",\"order.action.remove\":\"Retirer\",\"order.action.save\":\"Sauvegarder\",\"order.action.start.picking\":\"Préparer\",\"order.date\":\"Date\",\"order.date.created\":\"Date de création\",\"order.delivery.date.time\":\"Date et heure de livraison\",\"order.pickup.type\":\"Type de ramassez\",\"order.edit.actions\":\"Actions\",\"order.edit.title\":\"Modifier la commande n°{number}\",\"order.edit.confirmation.title\":\"Confirmation de modification de la commande\",\"order.edit.confirmation.plu.remove\":\"Vous avez retiré le(s) PLU(s) {pluList}.\",\"order.edit.confirmation.order.cancelled\":\"La commande sera <strong>annulée</strong>.\",\"order.edit.confirmation.confirmation.text\":\"Voulez-vous continuer?\",\"order.invalid.cashinvoice.error\":\"Commande d’entreprise non valide. Aucun paiement n’a été fait, impossible d’effectuer un retour\",\"order.notes\":\"Notes\",\"order.number\":\"Numéro\",\"order.picking.text\":\"Tous les produits étaient-ils disponibles?\",\"order.picking.title\":\"Confirmation de réception\",\"order.pickup.date.time\":\"Date et heure de ramassage\",\"order.pickup.status.cancelled\":\"ANNULÉE\",\"order.pickup.status.confirmed\":\"CONFIRMÉE\",\"order.pickup.status.delivered\":\"LIVRÉE\",\"order.pickup.status.new\":\"NOUVELLE\",\"order.pickup.status.picked\":\"RAMASSÉE\",\"order.pickup.status.picking\":\"EN COURS DE PREPARATION\",\"order.print.action.failure\":\"L’impression de la commande a échoué\",\"order.print.action.progress\":\"Impression du reçu de la commande en cours\",\"order.print.generate\":\"Création du modèle de document en cours\",\"order.print.generate.error\":\"Échec de la génération du modèle\",\"order.print.notes\":\"Notes: {notes}\",\"order.print.receipts.fetch.error\":\"Could not retrieve receipts\",\"order.print.receipts.missing\":\"No receipts found for order\",\"order.print.title\":\"Liste de préparation\",\"order.reference.no\":\"N° de référence\",\"order.return.documents\":\"Documents de retour\",\"order.row.price\":\"Prix\",\"order.row.product.code\":\"Code produit\",\"order.row.product.description\":\"Description du produit\",\"order.row.product.name\":\"Nom du produit\",\"order.row.quantity\":\"Quantité\",\"order.row.total\":\"Total\",\"order.save.action.error\":\"Impossible de mettre à jour la commande, erreur : {error}\",\"order.save.action.text\":\"Mise à jour de la commande\",\"order.status\":\"État\",\"order.subtotal.with.value\":\"Sub-total: {value}\",\"order.tax.total.with.value\":\"Tax: {value}\",\"order.total.with.value\":\"Total: {value}\",\"order.with.number\":\"Commande n°{number}\",\"order.fetch.customer.info.error\":\"Impossible d'obtenir les informations sur le client\",\"orders.fetch.recent.orders\":\"Chargement des commandes récentes\",\"orders.fetch.recent.orders.error\":\"Impossible de charger les commandes récentes, erreur : {error}\",\"orders.fetch.unprocessed.orders\":\"Chargement des commandes\",\"orders.fetch.unprocessed.orders.error\":\"Impossible de charger les commandes, erreur : {error}\",\"orders.list.refresh.button\":\"Rafraîchir\",\"orders.list.title\":\"Commandes\",\"orders.tab.history\":\"Historique\",\"orders.tab.unfinished\":\"En cours\",\"orders.update.new.orders\":\"Nouvelles commandes\"};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9sb2NhbGVzL2ZyLmpzb24uanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./locales/fr.json\n");

/***/ }),

/***/ "./node_modules/big.js/big.js":
/*!************************************!*\
  !*** ./node_modules/big.js/big.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*\r\n *  big.js v5.2.2\r\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\r\n *  Copyright (c) 2018 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *  https://github.com/MikeMcl/big.js/LICENCE\r\n */\r\n;(function (GLOBAL) {\r\n  'use strict';\r\n  var Big,\r\n\r\n\r\n/************************************** EDITABLE DEFAULTS *****************************************/\r\n\r\n\r\n    // The default values below must be integers within the stated ranges.\r\n\r\n    /*\r\n     * The maximum number of decimal places (DP) of the results of operations involving division:\r\n     * div and sqrt, and pow with negative exponents.\r\n     */\r\n    DP = 20,          // 0 to MAX_DP\r\n\r\n    /*\r\n     * The rounding mode (RM) used when rounding to the above decimal places.\r\n     *\r\n     *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\r\n     *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\r\n     *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\r\n     *  3  Away from zero.                                  (ROUND_UP)\r\n     */\r\n    RM = 1,             // 0, 1, 2 or 3\r\n\r\n    // The maximum value of DP and Big.DP.\r\n    MAX_DP = 1E6,       // 0 to 1000000\r\n\r\n    // The maximum magnitude of the exponent argument to the pow method.\r\n    MAX_POWER = 1E6,    // 1 to 1000000\r\n\r\n    /*\r\n     * The negative exponent (NE) at and beneath which toString returns exponential notation.\r\n     * (JavaScript numbers: -7)\r\n     * -1000000 is the minimum recommended exponent value of a Big.\r\n     */\r\n    NE = -7,            // 0 to -1000000\r\n\r\n    /*\r\n     * The positive exponent (PE) at and above which toString returns exponential notation.\r\n     * (JavaScript numbers: 21)\r\n     * 1000000 is the maximum recommended exponent value of a Big.\r\n     * (This limit is not enforced or checked.)\r\n     */\r\n    PE = 21,            // 0 to 1000000\r\n\r\n\r\n/**************************************************************************************************/\r\n\r\n\r\n    // Error messages.\r\n    NAME = '[big.js] ',\r\n    INVALID = NAME + 'Invalid ',\r\n    INVALID_DP = INVALID + 'decimal places',\r\n    INVALID_RM = INVALID + 'rounding mode',\r\n    DIV_BY_ZERO = NAME + 'Division by zero',\r\n\r\n    // The shared prototype object.\r\n    P = {},\r\n    UNDEFINED = void 0,\r\n    NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\r\n\r\n\r\n  /*\r\n   * Create and return a Big constructor.\r\n   *\r\n   */\r\n  function _Big_() {\r\n\r\n    /*\r\n     * The Big constructor and exported function.\r\n     * Create and return a new instance of a Big number object.\r\n     *\r\n     * n {number|string|Big} A numeric value.\r\n     */\r\n    function Big(n) {\r\n      var x = this;\r\n\r\n      // Enable constructor usage without new.\r\n      if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);\r\n\r\n      // Duplicate.\r\n      if (n instanceof Big) {\r\n        x.s = n.s;\r\n        x.e = n.e;\r\n        x.c = n.c.slice();\r\n      } else {\r\n        parse(x, n);\r\n      }\r\n\r\n      /*\r\n       * Retain a reference to this Big constructor, and shadow Big.prototype.constructor which\r\n       * points to Object.\r\n       */\r\n      x.constructor = Big;\r\n    }\r\n\r\n    Big.prototype = P;\r\n    Big.DP = DP;\r\n    Big.RM = RM;\r\n    Big.NE = NE;\r\n    Big.PE = PE;\r\n    Big.version = '5.2.2';\r\n\r\n    return Big;\r\n  }\r\n\r\n\r\n  /*\r\n   * Parse the number or string value passed to a Big constructor.\r\n   *\r\n   * x {Big} A Big number instance.\r\n   * n {number|string} A numeric value.\r\n   */\r\n  function parse(x, n) {\r\n    var e, i, nl;\r\n\r\n    // Minus zero?\r\n    if (n === 0 && 1 / n < 0) n = '-0';\r\n    else if (!NUMERIC.test(n += '')) throw Error(INVALID + 'number');\r\n\r\n    // Determine sign.\r\n    x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\r\n\r\n    // Decimal point?\r\n    if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\r\n\r\n    // Exponential form?\r\n    if ((i = n.search(/e/i)) > 0) {\r\n\r\n      // Determine exponent.\r\n      if (e < 0) e = i;\r\n      e += +n.slice(i + 1);\r\n      n = n.substring(0, i);\r\n    } else if (e < 0) {\r\n\r\n      // Integer.\r\n      e = n.length;\r\n    }\r\n\r\n    nl = n.length;\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\r\n\r\n    if (i == nl) {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    } else {\r\n\r\n      // Determine trailing zeros.\r\n      for (; nl > 0 && n.charAt(--nl) == '0';);\r\n      x.e = e - i - 1;\r\n      x.c = [];\r\n\r\n      // Convert string to array of digits without leading/trailing zeros.\r\n      for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  /*\r\n   * Round Big x to a maximum of dp decimal places using rounding mode rm.\r\n   * Called by stringify, P.div, P.round and P.sqrt.\r\n   *\r\n   * x {Big} The Big to round.\r\n   * dp {number} Integer, 0 to MAX_DP inclusive.\r\n   * rm {number} 0, 1, 2 or 3 (DOWN, HALF_UP, HALF_EVEN, UP)\r\n   * [more] {boolean} Whether the result of division was truncated.\r\n   */\r\n  function round(x, dp, rm, more) {\r\n    var xc = x.c,\r\n      i = x.e + dp + 1;\r\n\r\n    if (i < xc.length) {\r\n      if (rm === 1) {\r\n\r\n        // xc[i] is the digit after the digit that may be rounded up.\r\n        more = xc[i] >= 5;\r\n      } else if (rm === 2) {\r\n        more = xc[i] > 5 || xc[i] == 5 &&\r\n          (more || i < 0 || xc[i + 1] !== UNDEFINED || xc[i - 1] & 1);\r\n      } else if (rm === 3) {\r\n        more = more || !!xc[0];\r\n      } else {\r\n        more = false;\r\n        if (rm !== 0) throw Error(INVALID_RM);\r\n      }\r\n\r\n      if (i < 1) {\r\n        xc.length = 1;\r\n\r\n        if (more) {\r\n\r\n          // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n          x.e = -dp;\r\n          xc[0] = 1;\r\n        } else {\r\n\r\n          // Zero.\r\n          xc[0] = x.e = 0;\r\n        }\r\n      } else {\r\n\r\n        // Remove any digits after the required decimal places.\r\n        xc.length = i--;\r\n\r\n        // Round up?\r\n        if (more) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up.\r\n          for (; ++xc[i] > 9;) {\r\n            xc[i] = 0;\r\n            if (!i--) {\r\n              ++x.e;\r\n              xc.unshift(1);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; !xc[--i];) xc.pop();\r\n      }\r\n    } else if (rm < 0 || rm > 3 || rm !== ~~rm) {\r\n      throw Error(INVALID_RM);\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of Big x in normal or exponential notation.\r\n   * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\r\n   *\r\n   * x {Big}\r\n   * id? {number} Caller id.\r\n   *         1 toExponential\r\n   *         2 toFixed\r\n   *         3 toPrecision\r\n   *         4 valueOf\r\n   * n? {number|undefined} Caller's argument.\r\n   * k? {number|undefined}\r\n   */\r\n  function stringify(x, id, n, k) {\r\n    var e, s,\r\n      Big = x.constructor,\r\n      z = !x.c[0];\r\n\r\n    if (n !== UNDEFINED) {\r\n      if (n !== ~~n || n < (id == 3) || n > MAX_DP) {\r\n        throw Error(id == 3 ? INVALID + 'precision' : INVALID_DP);\r\n      }\r\n\r\n      x = new Big(x);\r\n\r\n      // The index of the digit that may be rounded up.\r\n      n = k - x.e;\r\n\r\n      // Round?\r\n      if (x.c.length > ++k) round(x, n, Big.RM);\r\n\r\n      // toFixed: recalculate k as x.e may have changed if value rounded up.\r\n      if (id == 2) k = x.e + n + 1;\r\n\r\n      // Append zeros?\r\n      for (; x.c.length < k;) x.c.push(0);\r\n    }\r\n\r\n    e = x.e;\r\n    s = x.c.join('');\r\n    n = s.length;\r\n\r\n    // Exponential notation?\r\n    if (id != 2 && (id == 1 || id == 3 && k <= e || e <= Big.NE || e >= Big.PE)) {\r\n      s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\r\n\r\n    // Normal notation.\r\n    } else if (e < 0) {\r\n      for (; ++e;) s = '0' + s;\r\n      s = '0.' + s;\r\n    } else if (e > 0) {\r\n      if (++e > n) for (e -= n; e--;) s += '0';\r\n      else if (e < n) s = s.slice(0, e) + '.' + s.slice(e);\r\n    } else if (n > 1) {\r\n      s = s.charAt(0) + '.' + s.slice(1);\r\n    }\r\n\r\n    return x.s < 0 && (!z || id == 4) ? '-' + s : s;\r\n  }\r\n\r\n\r\n  // Prototype/instance methods\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the absolute value of this Big.\r\n   */\r\n  P.abs = function () {\r\n    var x = new this.constructor(this);\r\n    x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return 1 if the value of this Big is greater than the value of Big y,\r\n   *       -1 if the value of this Big is less than the value of Big y, or\r\n   *        0 if they have the same value.\r\n  */\r\n  P.cmp = function (y) {\r\n    var isneg,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new x.constructor(y)).c,\r\n      i = x.s,\r\n      j = y.s,\r\n      k = x.e,\r\n      l = y.e;\r\n\r\n    // Either zero?\r\n    if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\r\n\r\n    // Signs differ?\r\n    if (i != j) return i;\r\n\r\n    isneg = i < 0;\r\n\r\n    // Compare exponents.\r\n    if (k != l) return k > l ^ isneg ? 1 : -1;\r\n\r\n    j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n    // Compare digit by digit.\r\n    for (i = -1; ++i < j;) {\r\n      if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\r\n    }\r\n\r\n    // Compare lengths.\r\n    return k == l ? 0 : k > l ^ isneg ? 1 : -1;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\r\n   * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n   */\r\n  P.div = function (y) {\r\n    var x = this,\r\n      Big = x.constructor,\r\n      a = x.c,                  // dividend\r\n      b = (y = new Big(y)).c,   // divisor\r\n      k = x.s == y.s ? 1 : -1,\r\n      dp = Big.DP;\r\n\r\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) throw Error(INVALID_DP);\r\n\r\n    // Divisor is zero?\r\n    if (!b[0]) throw Error(DIV_BY_ZERO);\r\n\r\n    // Dividend is 0? Return +-0.\r\n    if (!a[0]) return new Big(k * 0);\r\n\r\n    var bl, bt, n, cmp, ri,\r\n      bz = b.slice(),\r\n      ai = bl = b.length,\r\n      al = a.length,\r\n      r = a.slice(0, bl),   // remainder\r\n      rl = r.length,\r\n      q = y,                // quotient\r\n      qc = q.c = [],\r\n      qi = 0,\r\n      d = dp + (q.e = x.e - y.e) + 1;    // number of digits of the result\r\n\r\n    q.s = k;\r\n    k = d < 0 ? 0 : d;\r\n\r\n    // Create version of divisor with leading zero.\r\n    bz.unshift(0);\r\n\r\n    // Add zeros to make remainder as long as divisor.\r\n    for (; rl++ < bl;) r.push(0);\r\n\r\n    do {\r\n\r\n      // n is how many times the divisor goes into current remainder.\r\n      for (n = 0; n < 10; n++) {\r\n\r\n        // Compare divisor and remainder.\r\n        if (bl != (rl = r.length)) {\r\n          cmp = bl > rl ? 1 : -1;\r\n        } else {\r\n          for (ri = -1, cmp = 0; ++ri < bl;) {\r\n            if (b[ri] != r[ri]) {\r\n              cmp = b[ri] > r[ri] ? 1 : -1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        // If divisor < remainder, subtract divisor from remainder.\r\n        if (cmp < 0) {\r\n\r\n          // Remainder can't be more than 1 digit longer than divisor.\r\n          // Equalise lengths using divisor with extra leading zero?\r\n          for (bt = rl == bl ? b : bz; rl;) {\r\n            if (r[--rl] < bt[rl]) {\r\n              ri = rl;\r\n              for (; ri && !r[--ri];) r[ri] = 9;\r\n              --r[ri];\r\n              r[rl] += 10;\r\n            }\r\n            r[rl] -= bt[rl];\r\n          }\r\n\r\n          for (; !r[0];) r.shift();\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Add the digit n to the result array.\r\n      qc[qi++] = cmp ? n : ++n;\r\n\r\n      // Update the remainder.\r\n      if (r[0] && cmp) r[rl] = a[ai] || 0;\r\n      else r = [a[ai]];\r\n\r\n    } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\r\n\r\n    // Leading zero? Do not remove if result is simply zero (qi == 1).\r\n    if (!qc[0] && qi != 1) {\r\n\r\n      // There can't be more than one zero.\r\n      qc.shift();\r\n      q.e--;\r\n    }\r\n\r\n    // Round?\r\n    if (qi > d) round(q, dp, Big.RM, r[0] !== UNDEFINED);\r\n\r\n    return q;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\r\n   */\r\n  P.eq = function (y) {\r\n    return !this.cmp(y);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is greater than the value of Big y, otherwise return\r\n   * false.\r\n   */\r\n  P.gt = function (y) {\r\n    return this.cmp(y) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\r\n   * return false.\r\n   */\r\n  P.gte = function (y) {\r\n    return this.cmp(y) > -1;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is less than the value of Big y, otherwise return false.\r\n   */\r\n  P.lt = function (y) {\r\n    return this.cmp(y) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\r\n   * return false.\r\n   */\r\n  P.lte = function (y) {\r\n    return this.cmp(y) < 1;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big minus the value of Big y.\r\n   */\r\n  P.minus = P.sub = function (y) {\r\n    var i, j, t, xlty,\r\n      x = this,\r\n      Big = x.constructor,\r\n      a = x.s,\r\n      b = (y = new Big(y)).s;\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xc = x.c.slice(),\r\n      xe = x.e,\r\n      yc = y.c,\r\n      ye = y.e;\r\n\r\n    // Either zero?\r\n    if (!xc[0] || !yc[0]) {\r\n\r\n      // y is non-zero? x is non-zero? Or both are zero.\r\n      return yc[0] ? (y.s = -b, y) : new Big(xc[0] ? x : 0);\r\n    }\r\n\r\n    // Determine which is the bigger number. Prepend zeros to equalise exponents.\r\n    if (a = xe - ye) {\r\n\r\n      if (xlty = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (b = a; b--;) t.push(0);\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = ((xlty = xc.length < yc.length) ? xc : yc).length;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n        if (xc[b] != yc[b]) {\r\n          xlty = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xlty) {\r\n      t = xc;\r\n      xc = yc;\r\n      yc = t;\r\n      y.s = -y.s;\r\n    }\r\n\r\n    /*\r\n     * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\r\n     * needs to start at yc.length.\r\n     */\r\n    if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\r\n\r\n    // Subtract yc from xc.\r\n    for (b = i; j > a;) {\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i];) xc[i] = 9;\r\n        --xc[i];\r\n        xc[j] += 10;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove trailing zeros.\r\n    for (; xc[--b] === 0;) xc.pop();\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] === 0;) {\r\n      xc.shift();\r\n      --ye;\r\n    }\r\n\r\n    if (!xc[0]) {\r\n\r\n      // n - n = +0\r\n      y.s = 1;\r\n\r\n      // Result must be zero.\r\n      xc = [ye = 0];\r\n    }\r\n\r\n    y.c = xc;\r\n    y.e = ye;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big modulo the value of Big y.\r\n   */\r\n  P.mod = function (y) {\r\n    var ygtx,\r\n      x = this,\r\n      Big = x.constructor,\r\n      a = x.s,\r\n      b = (y = new Big(y)).s;\r\n\r\n    if (!y.c[0]) throw Error(DIV_BY_ZERO);\r\n\r\n    x.s = y.s = 1;\r\n    ygtx = y.cmp(x) == 1;\r\n    x.s = a;\r\n    y.s = b;\r\n\r\n    if (ygtx) return new Big(x);\r\n\r\n    a = Big.DP;\r\n    b = Big.RM;\r\n    Big.DP = Big.RM = 0;\r\n    x = x.div(y);\r\n    Big.DP = a;\r\n    Big.RM = b;\r\n\r\n    return this.minus(x.times(y));\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big plus the value of Big y.\r\n   */\r\n  P.plus = P.add = function (y) {\r\n    var t,\r\n      x = this,\r\n      Big = x.constructor,\r\n      a = x.s,\r\n      b = (y = new Big(y)).s;\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e,\r\n      xc = x.c,\r\n      ye = y.e,\r\n      yc = y.c;\r\n\r\n    // Either zero? y is non-zero? x is non-zero? Or both are zero.\r\n    if (!xc[0] || !yc[0]) return yc[0] ? y : new Big(xc[0] ? x : a * 0);\r\n\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents.\r\n    // Note: reverse faster than unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--;) t.push(0);\r\n      t.reverse();\r\n    }\r\n\r\n    // Point xc to the longer array.\r\n    if (xc.length - yc.length < 0) {\r\n      t = yc;\r\n      yc = xc;\r\n      xc = t;\r\n    }\r\n\r\n    a = yc.length;\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\r\n    for (b = 0; a; xc[a] %= 10) b = (xc[--a] = xc[a] + yc[a] + b) / 10 | 0;\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n\r\n    if (b) {\r\n      xc.unshift(b);\r\n      ++ye;\r\n    }\r\n\r\n    // Remove trailing zeros.\r\n    for (a = xc.length; xc[--a] === 0;) xc.pop();\r\n\r\n    y.c = xc;\r\n    y.e = ye;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a Big whose value is the value of this Big raised to the power n.\r\n   * If n is negative, round to a maximum of Big.DP decimal places using rounding\r\n   * mode Big.RM.\r\n   *\r\n   * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\r\n   */\r\n  P.pow = function (n) {\r\n    var x = this,\r\n      one = new x.constructor(1),\r\n      y = one,\r\n      isneg = n < 0;\r\n\r\n    if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) throw Error(INVALID + 'exponent');\r\n    if (isneg) n = -n;\r\n\r\n    for (;;) {\r\n      if (n & 1) y = y.times(x);\r\n      n >>= 1;\r\n      if (!n) break;\r\n      x = x.times(x);\r\n    }\r\n\r\n    return isneg ? one.div(y) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big rounded using rounding mode rm\r\n   * to a maximum of dp decimal places, or, if dp is negative, to an integer which is a\r\n   * multiple of 10**-dp.\r\n   * If dp is not specified, round to 0 decimal places.\r\n   * If rm is not specified, use Big.RM.\r\n   *\r\n   * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\r\n   * rm? 0, 1, 2 or 3 (ROUND_DOWN, ROUND_HALF_UP, ROUND_HALF_EVEN, ROUND_UP)\r\n   */\r\n  P.round = function (dp, rm) {\r\n    var Big = this.constructor;\r\n    if (dp === UNDEFINED) dp = 0;\r\n    else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) throw Error(INVALID_DP);\r\n    return round(new Big(this), dp, rm === UNDEFINED ? Big.RM : rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the square root of the value of this Big, rounded, if\r\n   * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\r\n   */\r\n  P.sqrt = function () {\r\n    var r, c, t,\r\n      x = this,\r\n      Big = x.constructor,\r\n      s = x.s,\r\n      e = x.e,\r\n      half = new Big(0.5);\r\n\r\n    // Zero?\r\n    if (!x.c[0]) return new Big(x);\r\n\r\n    // Negative?\r\n    if (s < 0) throw Error(NAME + 'No square root');\r\n\r\n    // Estimate.\r\n    s = Math.sqrt(x + '');\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\r\n    if (s === 0 || s === 1 / 0) {\r\n      c = x.c.join('');\r\n      if (!(c.length + e & 1)) c += '0';\r\n      s = Math.sqrt(c);\r\n      e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\r\n      r = new Big((s == 1 / 0 ? '1e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\r\n    } else {\r\n      r = new Big(s);\r\n    }\r\n\r\n    e = r.e + (Big.DP += 4);\r\n\r\n    // Newton-Raphson iteration.\r\n    do {\r\n      t = r;\r\n      r = half.times(t.plus(x.div(t)));\r\n    } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\r\n\r\n    return round(r, Big.DP -= 4, Big.RM);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new Big whose value is the value of this Big times the value of Big y.\r\n   */\r\n  P.times = P.mul = function (y) {\r\n    var c,\r\n      x = this,\r\n      Big = x.constructor,\r\n      xc = x.c,\r\n      yc = (y = new Big(y)).c,\r\n      a = xc.length,\r\n      b = yc.length,\r\n      i = x.e,\r\n      j = y.e;\r\n\r\n    // Determine sign of result.\r\n    y.s = x.s == y.s ? 1 : -1;\r\n\r\n    // Return signed 0 if either 0.\r\n    if (!xc[0] || !yc[0]) return new Big(y.s * 0);\r\n\r\n    // Initialise exponent of result as x.e + y.e.\r\n    y.e = i + j;\r\n\r\n    // If array xc has fewer digits than yc, swap xc and yc, and lengths.\r\n    if (a < b) {\r\n      c = xc;\r\n      xc = yc;\r\n      yc = c;\r\n      j = a;\r\n      a = b;\r\n      b = j;\r\n    }\r\n\r\n    // Initialise coefficient array of result with zeros.\r\n    for (c = new Array(j = a + b); j--;) c[j] = 0;\r\n\r\n    // Multiply.\r\n\r\n    // i is initially xc.length.\r\n    for (i = b; i--;) {\r\n      b = 0;\r\n\r\n      // a is yc.length.\r\n      for (j = a + i; j > i;) {\r\n\r\n        // Current sum of products at this digit position, plus carry.\r\n        b = c[j] + yc[i] * xc[j - i - 1] + b;\r\n        c[j--] = b % 10;\r\n\r\n        // carry\r\n        b = b / 10 | 0;\r\n      }\r\n\r\n      c[j] = (c[j] + b) % 10;\r\n    }\r\n\r\n    // Increment result exponent if there is a final carry, otherwise remove leading zero.\r\n    if (b) ++y.e;\r\n    else c.shift();\r\n\r\n    // Remove trailing zeros.\r\n    for (i = c.length; !c[--i];) c.pop();\r\n    y.c = c;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big in exponential notation to dp fixed decimal\r\n   * places and rounded using Big.RM.\r\n   *\r\n   * dp? {number} Integer, 0 to MAX_DP inclusive.\r\n   */\r\n  P.toExponential = function (dp) {\r\n    return stringify(this, 1, dp, dp);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big in normal notation to dp fixed decimal\r\n   * places and rounded using Big.RM.\r\n   *\r\n   * dp? {number} Integer, 0 to MAX_DP inclusive.\r\n   *\r\n   * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\r\n   * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\r\n   */\r\n  P.toFixed = function (dp) {\r\n    return stringify(this, 2, dp, this.e + dp);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big rounded to sd significant digits using\r\n   * Big.RM. Use exponential notation if sd is less than the number of digits necessary to represent\r\n   * the integer part of the value in normal notation.\r\n   *\r\n   * sd {number} Integer, 1 to MAX_DP inclusive.\r\n   */\r\n  P.toPrecision = function (sd) {\r\n    return stringify(this, 3, sd, sd - 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big.\r\n   * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n   * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n   * Omit the sign for negative zero.\r\n   */\r\n  P.toString = function () {\r\n    return stringify(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this Big.\r\n   * Return exponential notation if this Big has a positive exponent equal to or greater than\r\n   * Big.PE, or a negative exponent equal to or less than Big.NE.\r\n   * Include the sign for negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return stringify(this, 4);\r\n  };\r\n\r\n\r\n  // Export\r\n\r\n\r\n  Big = _Big_();\r\n\r\n  Big['default'] = Big.Big = Big;\r\n\r\n  //AMD.\r\n  if (true) {\r\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () { return Big; }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\r\n\r\n  // Node and other CommonJS-like environments that support module.exports.\r\n  } else {}\r\n})(this);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmlnLmpzL2JpZy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iaWcuanMvYmlnLmpzPzlkY2QiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogIGJpZy5qcyB2NS4yLjJcclxuICogIEEgc21hbGwsIGZhc3QsIGVhc3ktdG8tdXNlIGxpYnJhcnkgZm9yIGFyYml0cmFyeS1wcmVjaXNpb24gZGVjaW1hbCBhcml0aG1ldGljLlxyXG4gKiAgQ29weXJpZ2h0IChjKSAyMDE4IE1pY2hhZWwgTWNsYXVnaGxpbiA8TThjaDg4bEBnbWFpbC5jb20+XHJcbiAqICBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9iaWcuanMvTElDRU5DRVxyXG4gKi9cclxuOyhmdW5jdGlvbiAoR0xPQkFMKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIHZhciBCaWcsXHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVESVRBQkxFIERFRkFVTFRTICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHJcbiAgICAvLyBUaGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cgbXVzdCBiZSBpbnRlZ2VycyB3aXRoaW4gdGhlIHN0YXRlZCByYW5nZXMuXHJcblxyXG4gICAgLypcclxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyAoRFApIG9mIHRoZSByZXN1bHRzIG9mIG9wZXJhdGlvbnMgaW52b2x2aW5nIGRpdmlzaW9uOlxyXG4gICAgICogZGl2IGFuZCBzcXJ0LCBhbmQgcG93IHdpdGggbmVnYXRpdmUgZXhwb25lbnRzLlxyXG4gICAgICovXHJcbiAgICBEUCA9IDIwLCAgICAgICAgICAvLyAwIHRvIE1BWF9EUFxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBUaGUgcm91bmRpbmcgbW9kZSAoUk0pIHVzZWQgd2hlbiByb3VuZGluZyB0byB0aGUgYWJvdmUgZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgKlxyXG4gICAgICogIDAgIFRvd2FyZHMgemVybyAoaS5lLiB0cnVuY2F0ZSwgbm8gcm91bmRpbmcpLiAgICAgICAoUk9VTkRfRE9XTilcclxuICAgICAqICAxICBUbyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHJvdW5kIHVwLiAgKFJPVU5EX0hBTEZfVVApXHJcbiAgICAgKiAgMiAgVG8gbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0byBldmVuLiAgIChST1VORF9IQUxGX0VWRU4pXHJcbiAgICAgKiAgMyAgQXdheSBmcm9tIHplcm8uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChST1VORF9VUClcclxuICAgICAqL1xyXG4gICAgUk0gPSAxLCAgICAgICAgICAgICAvLyAwLCAxLCAyIG9yIDNcclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSB2YWx1ZSBvZiBEUCBhbmQgQmlnLkRQLlxyXG4gICAgTUFYX0RQID0gMUU2LCAgICAgICAvLyAwIHRvIDEwMDAwMDBcclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSBtYWduaXR1ZGUgb2YgdGhlIGV4cG9uZW50IGFyZ3VtZW50IHRvIHRoZSBwb3cgbWV0aG9kLlxyXG4gICAgTUFYX1BPV0VSID0gMUU2LCAgICAvLyAxIHRvIDEwMDAwMDBcclxuXHJcbiAgICAvKlxyXG4gICAgICogVGhlIG5lZ2F0aXZlIGV4cG9uZW50IChORSkgYXQgYW5kIGJlbmVhdGggd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAqIChKYXZhU2NyaXB0IG51bWJlcnM6IC03KVxyXG4gICAgICogLTEwMDAwMDAgaXMgdGhlIG1pbmltdW0gcmVjb21tZW5kZWQgZXhwb25lbnQgdmFsdWUgb2YgYSBCaWcuXHJcbiAgICAgKi9cclxuICAgIE5FID0gLTcsICAgICAgICAgICAgLy8gMCB0byAtMTAwMDAwMFxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBUaGUgcG9zaXRpdmUgZXhwb25lbnQgKFBFKSBhdCBhbmQgYWJvdmUgd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAqIChKYXZhU2NyaXB0IG51bWJlcnM6IDIxKVxyXG4gICAgICogMTAwMDAwMCBpcyB0aGUgbWF4aW11bSByZWNvbW1lbmRlZCBleHBvbmVudCB2YWx1ZSBvZiBhIEJpZy5cclxuICAgICAqIChUaGlzIGxpbWl0IGlzIG5vdCBlbmZvcmNlZCBvciBjaGVja2VkLilcclxuICAgICAqL1xyXG4gICAgUEUgPSAyMSwgICAgICAgICAgICAvLyAwIHRvIDEwMDAwMDBcclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cclxuICAgIC8vIEVycm9yIG1lc3NhZ2VzLlxyXG4gICAgTkFNRSA9ICdbYmlnLmpzXSAnLFxyXG4gICAgSU5WQUxJRCA9IE5BTUUgKyAnSW52YWxpZCAnLFxyXG4gICAgSU5WQUxJRF9EUCA9IElOVkFMSUQgKyAnZGVjaW1hbCBwbGFjZXMnLFxyXG4gICAgSU5WQUxJRF9STSA9IElOVkFMSUQgKyAncm91bmRpbmcgbW9kZScsXHJcbiAgICBESVZfQllfWkVSTyA9IE5BTUUgKyAnRGl2aXNpb24gYnkgemVybycsXHJcblxyXG4gICAgLy8gVGhlIHNoYXJlZCBwcm90b3R5cGUgb2JqZWN0LlxyXG4gICAgUCA9IHt9LFxyXG4gICAgVU5ERUZJTkVEID0gdm9pZCAwLFxyXG4gICAgTlVNRVJJQyA9IC9eLT8oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/JC9pO1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBDcmVhdGUgYW5kIHJldHVybiBhIEJpZyBjb25zdHJ1Y3Rvci5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIF9CaWdfKCkge1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiBUaGUgQmlnIGNvbnN0cnVjdG9yIGFuZCBleHBvcnRlZCBmdW5jdGlvbi5cclxuICAgICAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IGluc3RhbmNlIG9mIGEgQmlnIG51bWJlciBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogbiB7bnVtYmVyfHN0cmluZ3xCaWd9IEEgbnVtZXJpYyB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQmlnKG4pIHtcclxuICAgICAgdmFyIHggPSB0aGlzO1xyXG5cclxuICAgICAgLy8gRW5hYmxlIGNvbnN0cnVjdG9yIHVzYWdlIHdpdGhvdXQgbmV3LlxyXG4gICAgICBpZiAoISh4IGluc3RhbmNlb2YgQmlnKSkgcmV0dXJuIG4gPT09IFVOREVGSU5FRCA/IF9CaWdfKCkgOiBuZXcgQmlnKG4pO1xyXG5cclxuICAgICAgLy8gRHVwbGljYXRlLlxyXG4gICAgICBpZiAobiBpbnN0YW5jZW9mIEJpZykge1xyXG4gICAgICAgIHgucyA9IG4ucztcclxuICAgICAgICB4LmUgPSBuLmU7XHJcbiAgICAgICAgeC5jID0gbi5jLnNsaWNlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGFyc2UoeCwgbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qXHJcbiAgICAgICAqIFJldGFpbiBhIHJlZmVyZW5jZSB0byB0aGlzIEJpZyBjb25zdHJ1Y3RvciwgYW5kIHNoYWRvdyBCaWcucHJvdG90eXBlLmNvbnN0cnVjdG9yIHdoaWNoXHJcbiAgICAgICAqIHBvaW50cyB0byBPYmplY3QuXHJcbiAgICAgICAqL1xyXG4gICAgICB4LmNvbnN0cnVjdG9yID0gQmlnO1xyXG4gICAgfVxyXG5cclxuICAgIEJpZy5wcm90b3R5cGUgPSBQO1xyXG4gICAgQmlnLkRQID0gRFA7XHJcbiAgICBCaWcuUk0gPSBSTTtcclxuICAgIEJpZy5ORSA9IE5FO1xyXG4gICAgQmlnLlBFID0gUEU7XHJcbiAgICBCaWcudmVyc2lvbiA9ICc1LjIuMic7XHJcblxyXG4gICAgcmV0dXJuIEJpZztcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFBhcnNlIHRoZSBudW1iZXIgb3Igc3RyaW5nIHZhbHVlIHBhc3NlZCB0byBhIEJpZyBjb25zdHJ1Y3Rvci5cclxuICAgKlxyXG4gICAqIHgge0JpZ30gQSBCaWcgbnVtYmVyIGluc3RhbmNlLlxyXG4gICAqIG4ge251bWJlcnxzdHJpbmd9IEEgbnVtZXJpYyB2YWx1ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBwYXJzZSh4LCBuKSB7XHJcbiAgICB2YXIgZSwgaSwgbmw7XHJcblxyXG4gICAgLy8gTWludXMgemVybz9cclxuICAgIGlmIChuID09PSAwICYmIDEgLyBuIDwgMCkgbiA9ICctMCc7XHJcbiAgICBlbHNlIGlmICghTlVNRVJJQy50ZXN0KG4gKz0gJycpKSB0aHJvdyBFcnJvcihJTlZBTElEICsgJ251bWJlcicpO1xyXG5cclxuICAgIC8vIERldGVybWluZSBzaWduLlxyXG4gICAgeC5zID0gbi5jaGFyQXQoMCkgPT0gJy0nID8gKG4gPSBuLnNsaWNlKDEpLCAtMSkgOiAxO1xyXG5cclxuICAgIC8vIERlY2ltYWwgcG9pbnQ/XHJcbiAgICBpZiAoKGUgPSBuLmluZGV4T2YoJy4nKSkgPiAtMSkgbiA9IG4ucmVwbGFjZSgnLicsICcnKTtcclxuXHJcbiAgICAvLyBFeHBvbmVudGlhbCBmb3JtP1xyXG4gICAgaWYgKChpID0gbi5zZWFyY2goL2UvaSkpID4gMCkge1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIGV4cG9uZW50LlxyXG4gICAgICBpZiAoZSA8IDApIGUgPSBpO1xyXG4gICAgICBlICs9ICtuLnNsaWNlKGkgKyAxKTtcclxuICAgICAgbiA9IG4uc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG5cclxuICAgICAgLy8gSW50ZWdlci5cclxuICAgICAgZSA9IG4ubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIG5sID0gbi5sZW5ndGg7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbmwgJiYgbi5jaGFyQXQoaSkgPT0gJzAnOykgKytpO1xyXG5cclxuICAgIGlmIChpID09IG5sKSB7XHJcblxyXG4gICAgICAvLyBaZXJvLlxyXG4gICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKDsgbmwgPiAwICYmIG4uY2hhckF0KC0tbmwpID09ICcwJzspO1xyXG4gICAgICB4LmUgPSBlIC0gaSAtIDE7XHJcbiAgICAgIHguYyA9IFtdO1xyXG5cclxuICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gYXJyYXkgb2YgZGlnaXRzIHdpdGhvdXQgbGVhZGluZy90cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChlID0gMDsgaSA8PSBubDspIHguY1tlKytdID0gK24uY2hhckF0KGkrKyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSb3VuZCBCaWcgeCB0byBhIG1heGltdW0gb2YgZHAgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybS5cclxuICAgKiBDYWxsZWQgYnkgc3RyaW5naWZ5LCBQLmRpdiwgUC5yb3VuZCBhbmQgUC5zcXJ0LlxyXG4gICAqXHJcbiAgICogeCB7QmlnfSBUaGUgQmlnIHRvIHJvdW5kLlxyXG4gICAqIGRwIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gTUFYX0RQIGluY2x1c2l2ZS5cclxuICAgKiBybSB7bnVtYmVyfSAwLCAxLCAyIG9yIDMgKERPV04sIEhBTEZfVVAsIEhBTEZfRVZFTiwgVVApXHJcbiAgICogW21vcmVdIHtib29sZWFufSBXaGV0aGVyIHRoZSByZXN1bHQgb2YgZGl2aXNpb24gd2FzIHRydW5jYXRlZC5cclxuICAgKi9cclxuICBmdW5jdGlvbiByb3VuZCh4LCBkcCwgcm0sIG1vcmUpIHtcclxuICAgIHZhciB4YyA9IHguYyxcclxuICAgICAgaSA9IHguZSArIGRwICsgMTtcclxuXHJcbiAgICBpZiAoaSA8IHhjLmxlbmd0aCkge1xyXG4gICAgICBpZiAocm0gPT09IDEpIHtcclxuXHJcbiAgICAgICAgLy8geGNbaV0gaXMgdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICAgIG1vcmUgPSB4Y1tpXSA+PSA1O1xyXG4gICAgICB9IGVsc2UgaWYgKHJtID09PSAyKSB7XHJcbiAgICAgICAgbW9yZSA9IHhjW2ldID4gNSB8fCB4Y1tpXSA9PSA1ICYmXHJcbiAgICAgICAgICAobW9yZSB8fCBpIDwgMCB8fCB4Y1tpICsgMV0gIT09IFVOREVGSU5FRCB8fCB4Y1tpIC0gMV0gJiAxKTtcclxuICAgICAgfSBlbHNlIGlmIChybSA9PT0gMykge1xyXG4gICAgICAgIG1vcmUgPSBtb3JlIHx8ICEheGNbMF07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbW9yZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChybSAhPT0gMCkgdGhyb3cgRXJyb3IoSU5WQUxJRF9STSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpIDwgMSkge1xyXG4gICAgICAgIHhjLmxlbmd0aCA9IDE7XHJcblxyXG4gICAgICAgIGlmIChtb3JlKSB7XHJcblxyXG4gICAgICAgICAgLy8gMSwgMC4xLCAwLjAxLCAwLjAwMSwgMC4wMDAxIGV0Yy5cclxuICAgICAgICAgIHguZSA9IC1kcDtcclxuICAgICAgICAgIHhjWzBdID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgICB4Y1swXSA9IHguZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgYW55IGRpZ2l0cyBhZnRlciB0aGUgcmVxdWlyZWQgZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgeGMubGVuZ3RoID0gaS0tO1xyXG5cclxuICAgICAgICAvLyBSb3VuZCB1cD9cclxuICAgICAgICBpZiAobW9yZSkge1xyXG5cclxuICAgICAgICAgIC8vIFJvdW5kaW5nIHVwIG1heSBtZWFuIHRoZSBwcmV2aW91cyBkaWdpdCBoYXMgdG8gYmUgcm91bmRlZCB1cC5cclxuICAgICAgICAgIGZvciAoOyArK3hjW2ldID4gOTspIHtcclxuICAgICAgICAgICAgeGNbaV0gPSAwO1xyXG4gICAgICAgICAgICBpZiAoIWktLSkge1xyXG4gICAgICAgICAgICAgICsreC5lO1xyXG4gICAgICAgICAgICAgIHhjLnVuc2hpZnQoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgICBmb3IgKGkgPSB4Yy5sZW5ndGg7ICF4Y1stLWldOykgeGMucG9wKCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAocm0gPCAwIHx8IHJtID4gMyB8fCBybSAhPT0gfn5ybSkge1xyXG4gICAgICB0aHJvdyBFcnJvcihJTlZBTElEX1JNKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIEJpZyB4IGluIG5vcm1hbCBvciBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgKiBIYW5kbGVzIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLCBQLnRvSlNPTiwgUC50b1ByZWNpc2lvbiwgUC50b1N0cmluZyBhbmQgUC52YWx1ZU9mLlxyXG4gICAqXHJcbiAgICogeCB7QmlnfVxyXG4gICAqIGlkPyB7bnVtYmVyfSBDYWxsZXIgaWQuXHJcbiAgICogICAgICAgICAxIHRvRXhwb25lbnRpYWxcclxuICAgKiAgICAgICAgIDIgdG9GaXhlZFxyXG4gICAqICAgICAgICAgMyB0b1ByZWNpc2lvblxyXG4gICAqICAgICAgICAgNCB2YWx1ZU9mXHJcbiAgICogbj8ge251bWJlcnx1bmRlZmluZWR9IENhbGxlcidzIGFyZ3VtZW50LlxyXG4gICAqIGs/IHtudW1iZXJ8dW5kZWZpbmVkfVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHN0cmluZ2lmeSh4LCBpZCwgbiwgaykge1xyXG4gICAgdmFyIGUsIHMsXHJcbiAgICAgIEJpZyA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIHogPSAheC5jWzBdO1xyXG5cclxuICAgIGlmIChuICE9PSBVTkRFRklORUQpIHtcclxuICAgICAgaWYgKG4gIT09IH5+biB8fCBuIDwgKGlkID09IDMpIHx8IG4gPiBNQVhfRFApIHtcclxuICAgICAgICB0aHJvdyBFcnJvcihpZCA9PSAzID8gSU5WQUxJRCArICdwcmVjaXNpb24nIDogSU5WQUxJRF9EUCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHggPSBuZXcgQmlnKHgpO1xyXG5cclxuICAgICAgLy8gVGhlIGluZGV4IG9mIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICBuID0gayAtIHguZTtcclxuXHJcbiAgICAgIC8vIFJvdW5kP1xyXG4gICAgICBpZiAoeC5jLmxlbmd0aCA+ICsraykgcm91bmQoeCwgbiwgQmlnLlJNKTtcclxuXHJcbiAgICAgIC8vIHRvRml4ZWQ6IHJlY2FsY3VsYXRlIGsgYXMgeC5lIG1heSBoYXZlIGNoYW5nZWQgaWYgdmFsdWUgcm91bmRlZCB1cC5cclxuICAgICAgaWYgKGlkID09IDIpIGsgPSB4LmUgKyBuICsgMTtcclxuXHJcbiAgICAgIC8vIEFwcGVuZCB6ZXJvcz9cclxuICAgICAgZm9yICg7IHguYy5sZW5ndGggPCBrOykgeC5jLnB1c2goMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZSA9IHguZTtcclxuICAgIHMgPSB4LmMuam9pbignJyk7XHJcbiAgICBuID0gcy5sZW5ndGg7XHJcblxyXG4gICAgLy8gRXhwb25lbnRpYWwgbm90YXRpb24/XHJcbiAgICBpZiAoaWQgIT0gMiAmJiAoaWQgPT0gMSB8fCBpZCA9PSAzICYmIGsgPD0gZSB8fCBlIDw9IEJpZy5ORSB8fCBlID49IEJpZy5QRSkpIHtcclxuICAgICAgcyA9IHMuY2hhckF0KDApICsgKG4gPiAxID8gJy4nICsgcy5zbGljZSgxKSA6ICcnKSArIChlIDwgMCA/ICdlJyA6ICdlKycpICsgZTtcclxuXHJcbiAgICAvLyBOb3JtYWwgbm90YXRpb24uXHJcbiAgICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcbiAgICAgIGZvciAoOyArK2U7KSBzID0gJzAnICsgcztcclxuICAgICAgcyA9ICcwLicgKyBzO1xyXG4gICAgfSBlbHNlIGlmIChlID4gMCkge1xyXG4gICAgICBpZiAoKytlID4gbikgZm9yIChlIC09IG47IGUtLTspIHMgKz0gJzAnO1xyXG4gICAgICBlbHNlIGlmIChlIDwgbikgcyA9IHMuc2xpY2UoMCwgZSkgKyAnLicgKyBzLnNsaWNlKGUpO1xyXG4gICAgfSBlbHNlIGlmIChuID4gMSkge1xyXG4gICAgICBzID0gcy5jaGFyQXQoMCkgKyAnLicgKyBzLnNsaWNlKDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4LnMgPCAwICYmICgheiB8fCBpZCA9PSA0KSA/ICctJyArIHMgOiBzO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIFByb3RvdHlwZS9pbnN0YW5jZSBtZXRob2RzXHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgQmlnLlxyXG4gICAqL1xyXG4gIFAuYWJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICAgIHgucyA9IDE7XHJcbiAgICByZXR1cm4geDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWcgeSxcclxuICAgKiAgICAgICAtMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWcgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWcgeSwgb3JcclxuICAgKiAgICAgICAgMCBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgdmFsdWUuXHJcbiAgKi9cclxuICBQLmNtcCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICB2YXIgaXNuZWcsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgeWMgPSAoeSA9IG5ldyB4LmNvbnN0cnVjdG9yKHkpKS5jLFxyXG4gICAgICBpID0geC5zLFxyXG4gICAgICBqID0geS5zLFxyXG4gICAgICBrID0geC5lLFxyXG4gICAgICBsID0geS5lO1xyXG5cclxuICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHJldHVybiAheGNbMF0gPyAheWNbMF0gPyAwIDogLWogOiBpO1xyXG5cclxuICAgIC8vIFNpZ25zIGRpZmZlcj9cclxuICAgIGlmIChpICE9IGopIHJldHVybiBpO1xyXG5cclxuICAgIGlzbmVnID0gaSA8IDA7XHJcblxyXG4gICAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgICBpZiAoayAhPSBsKSByZXR1cm4gayA+IGwgXiBpc25lZyA/IDEgOiAtMTtcclxuXHJcbiAgICBqID0gKGsgPSB4Yy5sZW5ndGgpIDwgKGwgPSB5Yy5sZW5ndGgpID8gayA6IGw7XHJcblxyXG4gICAgLy8gQ29tcGFyZSBkaWdpdCBieSBkaWdpdC5cclxuICAgIGZvciAoaSA9IC0xOyArK2kgPCBqOykge1xyXG4gICAgICBpZiAoeGNbaV0gIT0geWNbaV0pIHJldHVybiB4Y1tpXSA+IHljW2ldIF4gaXNuZWcgPyAxIDogLTE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcGFyZSBsZW5ndGhzLlxyXG4gICAgcmV0dXJuIGsgPT0gbCA/IDAgOiBrID4gbCBeIGlzbmVnID8gMSA6IC0xO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGRpdmlkZWQgYnkgdGhlIHZhbHVlIG9mIEJpZyB5LCByb3VuZGVkLFxyXG4gICAqIGlmIG5lY2Vzc2FyeSwgdG8gYSBtYXhpbXVtIG9mIEJpZy5EUCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIEJpZy5STS5cclxuICAgKi9cclxuICBQLmRpdiA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICB2YXIgeCA9IHRoaXMsXHJcbiAgICAgIEJpZyA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIGEgPSB4LmMsICAgICAgICAgICAgICAgICAgLy8gZGl2aWRlbmRcclxuICAgICAgYiA9ICh5ID0gbmV3IEJpZyh5KSkuYywgICAvLyBkaXZpc29yXHJcbiAgICAgIGsgPSB4LnMgPT0geS5zID8gMSA6IC0xLFxyXG4gICAgICBkcCA9IEJpZy5EUDtcclxuXHJcbiAgICBpZiAoZHAgIT09IH5+ZHAgfHwgZHAgPCAwIHx8IGRwID4gTUFYX0RQKSB0aHJvdyBFcnJvcihJTlZBTElEX0RQKTtcclxuXHJcbiAgICAvLyBEaXZpc29yIGlzIHplcm8/XHJcbiAgICBpZiAoIWJbMF0pIHRocm93IEVycm9yKERJVl9CWV9aRVJPKTtcclxuXHJcbiAgICAvLyBEaXZpZGVuZCBpcyAwPyBSZXR1cm4gKy0wLlxyXG4gICAgaWYgKCFhWzBdKSByZXR1cm4gbmV3IEJpZyhrICogMCk7XHJcblxyXG4gICAgdmFyIGJsLCBidCwgbiwgY21wLCByaSxcclxuICAgICAgYnogPSBiLnNsaWNlKCksXHJcbiAgICAgIGFpID0gYmwgPSBiLmxlbmd0aCxcclxuICAgICAgYWwgPSBhLmxlbmd0aCxcclxuICAgICAgciA9IGEuc2xpY2UoMCwgYmwpLCAgIC8vIHJlbWFpbmRlclxyXG4gICAgICBybCA9IHIubGVuZ3RoLFxyXG4gICAgICBxID0geSwgICAgICAgICAgICAgICAgLy8gcXVvdGllbnRcclxuICAgICAgcWMgPSBxLmMgPSBbXSxcclxuICAgICAgcWkgPSAwLFxyXG4gICAgICBkID0gZHAgKyAocS5lID0geC5lIC0geS5lKSArIDE7ICAgIC8vIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIHJlc3VsdFxyXG5cclxuICAgIHEucyA9IGs7XHJcbiAgICBrID0gZCA8IDAgPyAwIDogZDtcclxuXHJcbiAgICAvLyBDcmVhdGUgdmVyc2lvbiBvZiBkaXZpc29yIHdpdGggbGVhZGluZyB6ZXJvLlxyXG4gICAgYnoudW5zaGlmdCgwKTtcclxuXHJcbiAgICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gICAgZm9yICg7IHJsKysgPCBibDspIHIucHVzaCgwKTtcclxuXHJcbiAgICBkbyB7XHJcblxyXG4gICAgICAvLyBuIGlzIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byBjdXJyZW50IHJlbWFpbmRlci5cclxuICAgICAgZm9yIChuID0gMDsgbiA8IDEwOyBuKyspIHtcclxuXHJcbiAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgaWYgKGJsICE9IChybCA9IHIubGVuZ3RoKSkge1xyXG4gICAgICAgICAgY21wID0gYmwgPiBybCA/IDEgOiAtMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZm9yIChyaSA9IC0xLCBjbXAgPSAwOyArK3JpIDwgYmw7KSB7XHJcbiAgICAgICAgICAgIGlmIChiW3JpXSAhPSByW3JpXSkge1xyXG4gICAgICAgICAgICAgIGNtcCA9IGJbcmldID4gcltyaV0gPyAxIDogLTE7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIGRpdmlzb3IgPCByZW1haW5kZXIsIHN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgaWYgKGNtcCA8IDApIHtcclxuXHJcbiAgICAgICAgICAvLyBSZW1haW5kZXIgY2FuJ3QgYmUgbW9yZSB0aGFuIDEgZGlnaXQgbG9uZ2VyIHRoYW4gZGl2aXNvci5cclxuICAgICAgICAgIC8vIEVxdWFsaXNlIGxlbmd0aHMgdXNpbmcgZGl2aXNvciB3aXRoIGV4dHJhIGxlYWRpbmcgemVybz9cclxuICAgICAgICAgIGZvciAoYnQgPSBybCA9PSBibCA/IGIgOiBiejsgcmw7KSB7XHJcbiAgICAgICAgICAgIGlmIChyWy0tcmxdIDwgYnRbcmxdKSB7XHJcbiAgICAgICAgICAgICAgcmkgPSBybDtcclxuICAgICAgICAgICAgICBmb3IgKDsgcmkgJiYgIXJbLS1yaV07KSByW3JpXSA9IDk7XHJcbiAgICAgICAgICAgICAgLS1yW3JpXTtcclxuICAgICAgICAgICAgICByW3JsXSArPSAxMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByW3JsXSAtPSBidFtybF07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZm9yICg7ICFyWzBdOykgci5zaGlmdCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFkZCB0aGUgZGlnaXQgbiB0byB0aGUgcmVzdWx0IGFycmF5LlxyXG4gICAgICBxY1txaSsrXSA9IGNtcCA/IG4gOiArK247XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIHJlbWFpbmRlci5cclxuICAgICAgaWYgKHJbMF0gJiYgY21wKSByW3JsXSA9IGFbYWldIHx8IDA7XHJcbiAgICAgIGVsc2UgciA9IFthW2FpXV07XHJcblxyXG4gICAgfSB3aGlsZSAoKGFpKysgPCBhbCB8fCByWzBdICE9PSBVTkRFRklORUQpICYmIGstLSk7XHJcblxyXG4gICAgLy8gTGVhZGluZyB6ZXJvPyBEbyBub3QgcmVtb3ZlIGlmIHJlc3VsdCBpcyBzaW1wbHkgemVybyAocWkgPT0gMSkuXHJcbiAgICBpZiAoIXFjWzBdICYmIHFpICE9IDEpIHtcclxuXHJcbiAgICAgIC8vIFRoZXJlIGNhbid0IGJlIG1vcmUgdGhhbiBvbmUgemVyby5cclxuICAgICAgcWMuc2hpZnQoKTtcclxuICAgICAgcS5lLS07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUm91bmQ/XHJcbiAgICBpZiAocWkgPiBkKSByb3VuZChxLCBkcCwgQmlnLlJNLCByWzBdICE9PSBVTkRFRklORUQpO1xyXG5cclxuICAgIHJldHVybiBxO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgQmlnIHksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5lcSA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICByZXR1cm4gIXRoaXMuY21wKHkpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIEJpZyB5LCBvdGhlcndpc2UgcmV0dXJuXHJcbiAgICogZmFsc2UuXHJcbiAgICovXHJcbiAgUC5ndCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAoeSkgPiAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIEJpZyB5LCBvdGhlcndpc2VcclxuICAgKiByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5ndGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgcmV0dXJuIHRoaXMuY21wKHkpID4gLTE7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgQmlnIHksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5sdCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAoeSkgPCAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHZhbHVlIG9mIEJpZyB5LCBvdGhlcndpc2VcclxuICAgKiByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5sdGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgcmV0dXJuIHRoaXMuY21wKHkpIDwgMTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBtaW51cyB0aGUgdmFsdWUgb2YgQmlnIHkuXHJcbiAgICovXHJcbiAgUC5taW51cyA9IFAuc3ViID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHZhciBpLCBqLCB0LCB4bHR5LFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQmlnID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgYSA9IHgucyxcclxuICAgICAgYiA9ICh5ID0gbmV3IEJpZyh5KSkucztcclxuXHJcbiAgICAvLyBTaWducyBkaWZmZXI/XHJcbiAgICBpZiAoYSAhPSBiKSB7XHJcbiAgICAgIHkucyA9IC1iO1xyXG4gICAgICByZXR1cm4geC5wbHVzKHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB4YyA9IHguYy5zbGljZSgpLFxyXG4gICAgICB4ZSA9IHguZSxcclxuICAgICAgeWMgPSB5LmMsXHJcbiAgICAgIHllID0geS5lO1xyXG5cclxuICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHtcclxuXHJcbiAgICAgIC8vIHkgaXMgbm9uLXplcm8/IHggaXMgbm9uLXplcm8/IE9yIGJvdGggYXJlIHplcm8uXHJcbiAgICAgIHJldHVybiB5Y1swXSA/ICh5LnMgPSAtYiwgeSkgOiBuZXcgQmlnKHhjWzBdID8geCA6IDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSB3aGljaCBpcyB0aGUgYmlnZ2VyIG51bWJlci4gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuXHJcbiAgICBpZiAoYSA9IHhlIC0geWUpIHtcclxuXHJcbiAgICAgIGlmICh4bHR5ID0gYSA8IDApIHtcclxuICAgICAgICBhID0gLWE7XHJcbiAgICAgICAgdCA9IHhjO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHllID0geGU7XHJcbiAgICAgICAgdCA9IHljO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0LnJldmVyc2UoKTtcclxuICAgICAgZm9yIChiID0gYTsgYi0tOykgdC5wdXNoKDApO1xyXG4gICAgICB0LnJldmVyc2UoKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBFeHBvbmVudHMgZXF1YWwuIENoZWNrIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gICAgICBqID0gKCh4bHR5ID0geGMubGVuZ3RoIDwgeWMubGVuZ3RoKSA/IHhjIDogeWMpLmxlbmd0aDtcclxuXHJcbiAgICAgIGZvciAoYSA9IGIgPSAwOyBiIDwgajsgYisrKSB7XHJcbiAgICAgICAgaWYgKHhjW2JdICE9IHljW2JdKSB7XHJcbiAgICAgICAgICB4bHR5ID0geGNbYl0gPCB5Y1tiXTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHggPCB5PyBQb2ludCB4YyB0byB0aGUgYXJyYXkgb2YgdGhlIGJpZ2dlciBudW1iZXIuXHJcbiAgICBpZiAoeGx0eSkge1xyXG4gICAgICB0ID0geGM7XHJcbiAgICAgIHhjID0geWM7XHJcbiAgICAgIHljID0gdDtcclxuICAgICAgeS5zID0gLXkucztcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgICogQXBwZW5kIHplcm9zIHRvIHhjIGlmIHNob3J0ZXIuIE5vIG5lZWQgdG8gYWRkIHplcm9zIHRvIHljIGlmIHNob3J0ZXIgYXMgc3VidHJhY3Rpb24gb25seVxyXG4gICAgICogbmVlZHMgdG8gc3RhcnQgYXQgeWMubGVuZ3RoLlxyXG4gICAgICovXHJcbiAgICBpZiAoKGIgPSAoaiA9IHljLmxlbmd0aCkgLSAoaSA9IHhjLmxlbmd0aCkpID4gMCkgZm9yICg7IGItLTspIHhjW2krK10gPSAwO1xyXG5cclxuICAgIC8vIFN1YnRyYWN0IHljIGZyb20geGMuXHJcbiAgICBmb3IgKGIgPSBpOyBqID4gYTspIHtcclxuICAgICAgaWYgKHhjWy0tal0gPCB5Y1tqXSkge1xyXG4gICAgICAgIGZvciAoaSA9IGo7IGkgJiYgIXhjWy0taV07KSB4Y1tpXSA9IDk7XHJcbiAgICAgICAgLS14Y1tpXTtcclxuICAgICAgICB4Y1tqXSArPSAxMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGNbal0gLT0geWNbal07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yICg7IHhjWy0tYl0gPT09IDA7KSB4Yy5wb3AoKTtcclxuXHJcbiAgICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgZm9yICg7IHhjWzBdID09PSAwOykge1xyXG4gICAgICB4Yy5zaGlmdCgpO1xyXG4gICAgICAtLXllO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgheGNbMF0pIHtcclxuXHJcbiAgICAgIC8vIG4gLSBuID0gKzBcclxuICAgICAgeS5zID0gMTtcclxuXHJcbiAgICAgIC8vIFJlc3VsdCBtdXN0IGJlIHplcm8uXHJcbiAgICAgIHhjID0gW3llID0gMF07XHJcbiAgICB9XHJcblxyXG4gICAgeS5jID0geGM7XHJcbiAgICB5LmUgPSB5ZTtcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBtb2R1bG8gdGhlIHZhbHVlIG9mIEJpZyB5LlxyXG4gICAqL1xyXG4gIFAubW9kID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHZhciB5Z3R4LFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQmlnID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgYSA9IHgucyxcclxuICAgICAgYiA9ICh5ID0gbmV3IEJpZyh5KSkucztcclxuXHJcbiAgICBpZiAoIXkuY1swXSkgdGhyb3cgRXJyb3IoRElWX0JZX1pFUk8pO1xyXG5cclxuICAgIHgucyA9IHkucyA9IDE7XHJcbiAgICB5Z3R4ID0geS5jbXAoeCkgPT0gMTtcclxuICAgIHgucyA9IGE7XHJcbiAgICB5LnMgPSBiO1xyXG5cclxuICAgIGlmICh5Z3R4KSByZXR1cm4gbmV3IEJpZyh4KTtcclxuXHJcbiAgICBhID0gQmlnLkRQO1xyXG4gICAgYiA9IEJpZy5STTtcclxuICAgIEJpZy5EUCA9IEJpZy5STSA9IDA7XHJcbiAgICB4ID0geC5kaXYoeSk7XHJcbiAgICBCaWcuRFAgPSBhO1xyXG4gICAgQmlnLlJNID0gYjtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5taW51cyh4LnRpbWVzKHkpKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBwbHVzIHRoZSB2YWx1ZSBvZiBCaWcgeS5cclxuICAgKi9cclxuICBQLnBsdXMgPSBQLmFkZCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICB2YXIgdCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEJpZyA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIGEgPSB4LnMsXHJcbiAgICAgIGIgPSAoeSA9IG5ldyBCaWcoeSkpLnM7XHJcblxyXG4gICAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gICAgaWYgKGEgIT0gYikge1xyXG4gICAgICB5LnMgPSAtYjtcclxuICAgICAgcmV0dXJuIHgubWludXMoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHhlID0geC5lLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgeWUgPSB5LmUsXHJcbiAgICAgIHljID0geS5jO1xyXG5cclxuICAgIC8vIEVpdGhlciB6ZXJvPyB5IGlzIG5vbi16ZXJvPyB4IGlzIG5vbi16ZXJvPyBPciBib3RoIGFyZSB6ZXJvLlxyXG4gICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHJldHVybiB5Y1swXSA/IHkgOiBuZXcgQmlnKHhjWzBdID8geCA6IGEgKiAwKTtcclxuXHJcbiAgICB4YyA9IHhjLnNsaWNlKCk7XHJcblxyXG4gICAgLy8gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuXHJcbiAgICAvLyBOb3RlOiByZXZlcnNlIGZhc3RlciB0aGFuIHVuc2hpZnRzLlxyXG4gICAgaWYgKGEgPSB4ZSAtIHllKSB7XHJcbiAgICAgIGlmIChhID4gMCkge1xyXG4gICAgICAgIHllID0geGU7XHJcbiAgICAgICAgdCA9IHljO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGEgPSAtYTtcclxuICAgICAgICB0ID0geGM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgICBmb3IgKDsgYS0tOykgdC5wdXNoKDApO1xyXG4gICAgICB0LnJldmVyc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQb2ludCB4YyB0byB0aGUgbG9uZ2VyIGFycmF5LlxyXG4gICAgaWYgKHhjLmxlbmd0aCAtIHljLmxlbmd0aCA8IDApIHtcclxuICAgICAgdCA9IHljO1xyXG4gICAgICB5YyA9IHhjO1xyXG4gICAgICB4YyA9IHQ7XHJcbiAgICB9XHJcblxyXG4gICAgYSA9IHljLmxlbmd0aDtcclxuXHJcbiAgICAvLyBPbmx5IHN0YXJ0IGFkZGluZyBhdCB5Yy5sZW5ndGggLSAxIGFzIHRoZSBmdXJ0aGVyIGRpZ2l0cyBvZiB4YyBjYW4gYmUgbGVmdCBhcyB0aGV5IGFyZS5cclxuICAgIGZvciAoYiA9IDA7IGE7IHhjW2FdICU9IDEwKSBiID0gKHhjWy0tYV0gPSB4Y1thXSArIHljW2FdICsgYikgLyAxMCB8IDA7XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxyXG5cclxuICAgIGlmIChiKSB7XHJcbiAgICAgIHhjLnVuc2hpZnQoYik7XHJcbiAgICAgICsreWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChhID0geGMubGVuZ3RoOyB4Y1stLWFdID09PSAwOykgeGMucG9wKCk7XHJcblxyXG4gICAgeS5jID0geGM7XHJcbiAgICB5LmUgPSB5ZTtcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIHJhaXNlZCB0byB0aGUgcG93ZXIgbi5cclxuICAgKiBJZiBuIGlzIG5lZ2F0aXZlLCByb3VuZCB0byBhIG1heGltdW0gb2YgQmlnLkRQIGRlY2ltYWwgcGxhY2VzIHVzaW5nIHJvdW5kaW5nXHJcbiAgICogbW9kZSBCaWcuUk0uXHJcbiAgICpcclxuICAgKiBuIHtudW1iZXJ9IEludGVnZXIsIC1NQVhfUE9XRVIgdG8gTUFYX1BPV0VSIGluY2x1c2l2ZS5cclxuICAgKi9cclxuICBQLnBvdyA9IGZ1bmN0aW9uIChuKSB7XHJcbiAgICB2YXIgeCA9IHRoaXMsXHJcbiAgICAgIG9uZSA9IG5ldyB4LmNvbnN0cnVjdG9yKDEpLFxyXG4gICAgICB5ID0gb25lLFxyXG4gICAgICBpc25lZyA9IG4gPCAwO1xyXG5cclxuICAgIGlmIChuICE9PSB+fm4gfHwgbiA8IC1NQVhfUE9XRVIgfHwgbiA+IE1BWF9QT1dFUikgdGhyb3cgRXJyb3IoSU5WQUxJRCArICdleHBvbmVudCcpO1xyXG4gICAgaWYgKGlzbmVnKSBuID0gLW47XHJcblxyXG4gICAgZm9yICg7Oykge1xyXG4gICAgICBpZiAobiAmIDEpIHkgPSB5LnRpbWVzKHgpO1xyXG4gICAgICBuID4+PSAxO1xyXG4gICAgICBpZiAoIW4pIGJyZWFrO1xyXG4gICAgICB4ID0geC50aW1lcyh4KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXNuZWcgPyBvbmUuZGl2KHkpIDogeTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyByb3VuZGVkIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm1cclxuICAgKiB0byBhIG1heGltdW0gb2YgZHAgZGVjaW1hbCBwbGFjZXMsIG9yLCBpZiBkcCBpcyBuZWdhdGl2ZSwgdG8gYW4gaW50ZWdlciB3aGljaCBpcyBhXHJcbiAgICogbXVsdGlwbGUgb2YgMTAqKi1kcC5cclxuICAgKiBJZiBkcCBpcyBub3Qgc3BlY2lmaWVkLCByb3VuZCB0byAwIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAqIElmIHJtIGlzIG5vdCBzcGVjaWZpZWQsIHVzZSBCaWcuUk0uXHJcbiAgICpcclxuICAgKiBkcD8ge251bWJlcn0gSW50ZWdlciwgLU1BWF9EUCB0byBNQVhfRFAgaW5jbHVzaXZlLlxyXG4gICAqIHJtPyAwLCAxLCAyIG9yIDMgKFJPVU5EX0RPV04sIFJPVU5EX0hBTEZfVVAsIFJPVU5EX0hBTEZfRVZFTiwgUk9VTkRfVVApXHJcbiAgICovXHJcbiAgUC5yb3VuZCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIHZhciBCaWcgPSB0aGlzLmNvbnN0cnVjdG9yO1xyXG4gICAgaWYgKGRwID09PSBVTkRFRklORUQpIGRwID0gMDtcclxuICAgIGVsc2UgaWYgKGRwICE9PSB+fmRwIHx8IGRwIDwgLU1BWF9EUCB8fCBkcCA+IE1BWF9EUCkgdGhyb3cgRXJyb3IoSU5WQUxJRF9EUCk7XHJcbiAgICByZXR1cm4gcm91bmQobmV3IEJpZyh0aGlzKSwgZHAsIHJtID09PSBVTkRFRklORUQgPyBCaWcuUk0gOiBybSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZyB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHZhbHVlIG9mIHRoaXMgQmlnLCByb3VuZGVkLCBpZlxyXG4gICAqIG5lY2Vzc2FyeSwgdG8gYSBtYXhpbXVtIG9mIEJpZy5EUCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIEJpZy5STS5cclxuICAgKi9cclxuICBQLnNxcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgciwgYywgdCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEJpZyA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIHMgPSB4LnMsXHJcbiAgICAgIGUgPSB4LmUsXHJcbiAgICAgIGhhbGYgPSBuZXcgQmlnKDAuNSk7XHJcblxyXG4gICAgLy8gWmVybz9cclxuICAgIGlmICgheC5jWzBdKSByZXR1cm4gbmV3IEJpZyh4KTtcclxuXHJcbiAgICAvLyBOZWdhdGl2ZT9cclxuICAgIGlmIChzIDwgMCkgdGhyb3cgRXJyb3IoTkFNRSArICdObyBzcXVhcmUgcm9vdCcpO1xyXG5cclxuICAgIC8vIEVzdGltYXRlLlxyXG4gICAgcyA9IE1hdGguc3FydCh4ICsgJycpO1xyXG5cclxuICAgIC8vIE1hdGguc3FydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgICAvLyBSZS1lc3RpbWF0ZTogcGFzcyB4IGNvZWZmaWNpZW50IHRvIE1hdGguc3FydCBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgcmVzdWx0IGV4cG9uZW50LlxyXG4gICAgaWYgKHMgPT09IDAgfHwgcyA9PT0gMSAvIDApIHtcclxuICAgICAgYyA9IHguYy5qb2luKCcnKTtcclxuICAgICAgaWYgKCEoYy5sZW5ndGggKyBlICYgMSkpIGMgKz0gJzAnO1xyXG4gICAgICBzID0gTWF0aC5zcXJ0KGMpO1xyXG4gICAgICBlID0gKChlICsgMSkgLyAyIHwgMCkgLSAoZSA8IDAgfHwgZSAmIDEpO1xyXG4gICAgICByID0gbmV3IEJpZygocyA9PSAxIC8gMCA/ICcxZScgOiAocyA9IHMudG9FeHBvbmVudGlhbCgpKS5zbGljZSgwLCBzLmluZGV4T2YoJ2UnKSArIDEpKSArIGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgciA9IG5ldyBCaWcocyk7XHJcbiAgICB9XHJcblxyXG4gICAgZSA9IHIuZSArIChCaWcuRFAgKz0gNCk7XHJcblxyXG4gICAgLy8gTmV3dG9uLVJhcGhzb24gaXRlcmF0aW9uLlxyXG4gICAgZG8ge1xyXG4gICAgICB0ID0gcjtcclxuICAgICAgciA9IGhhbGYudGltZXModC5wbHVzKHguZGl2KHQpKSk7XHJcbiAgICB9IHdoaWxlICh0LmMuc2xpY2UoMCwgZSkuam9pbignJykgIT09IHIuYy5zbGljZSgwLCBlKS5qb2luKCcnKSk7XHJcblxyXG4gICAgcmV0dXJuIHJvdW5kKHIsIEJpZy5EUCAtPSA0LCBCaWcuUk0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWcgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIHRpbWVzIHRoZSB2YWx1ZSBvZiBCaWcgeS5cclxuICAgKi9cclxuICBQLnRpbWVzID0gUC5tdWwgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgdmFyIGMsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBCaWcgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgeWMgPSAoeSA9IG5ldyBCaWcoeSkpLmMsXHJcbiAgICAgIGEgPSB4Yy5sZW5ndGgsXHJcbiAgICAgIGIgPSB5Yy5sZW5ndGgsXHJcbiAgICAgIGkgPSB4LmUsXHJcbiAgICAgIGogPSB5LmU7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHNpZ24gb2YgcmVzdWx0LlxyXG4gICAgeS5zID0geC5zID09IHkucyA/IDEgOiAtMTtcclxuXHJcbiAgICAvLyBSZXR1cm4gc2lnbmVkIDAgaWYgZWl0aGVyIDAuXHJcbiAgICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkgcmV0dXJuIG5ldyBCaWcoeS5zICogMCk7XHJcblxyXG4gICAgLy8gSW5pdGlhbGlzZSBleHBvbmVudCBvZiByZXN1bHQgYXMgeC5lICsgeS5lLlxyXG4gICAgeS5lID0gaSArIGo7XHJcblxyXG4gICAgLy8gSWYgYXJyYXkgeGMgaGFzIGZld2VyIGRpZ2l0cyB0aGFuIHljLCBzd2FwIHhjIGFuZCB5YywgYW5kIGxlbmd0aHMuXHJcbiAgICBpZiAoYSA8IGIpIHtcclxuICAgICAgYyA9IHhjO1xyXG4gICAgICB4YyA9IHljO1xyXG4gICAgICB5YyA9IGM7XHJcbiAgICAgIGogPSBhO1xyXG4gICAgICBhID0gYjtcclxuICAgICAgYiA9IGo7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5pdGlhbGlzZSBjb2VmZmljaWVudCBhcnJheSBvZiByZXN1bHQgd2l0aCB6ZXJvcy5cclxuICAgIGZvciAoYyA9IG5ldyBBcnJheShqID0gYSArIGIpOyBqLS07KSBjW2pdID0gMDtcclxuXHJcbiAgICAvLyBNdWx0aXBseS5cclxuXHJcbiAgICAvLyBpIGlzIGluaXRpYWxseSB4Yy5sZW5ndGguXHJcbiAgICBmb3IgKGkgPSBiOyBpLS07KSB7XHJcbiAgICAgIGIgPSAwO1xyXG5cclxuICAgICAgLy8gYSBpcyB5Yy5sZW5ndGguXHJcbiAgICAgIGZvciAoaiA9IGEgKyBpOyBqID4gaTspIHtcclxuXHJcbiAgICAgICAgLy8gQ3VycmVudCBzdW0gb2YgcHJvZHVjdHMgYXQgdGhpcyBkaWdpdCBwb3NpdGlvbiwgcGx1cyBjYXJyeS5cclxuICAgICAgICBiID0gY1tqXSArIHljW2ldICogeGNbaiAtIGkgLSAxXSArIGI7XHJcbiAgICAgICAgY1tqLS1dID0gYiAlIDEwO1xyXG5cclxuICAgICAgICAvLyBjYXJyeVxyXG4gICAgICAgIGIgPSBiIC8gMTAgfCAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjW2pdID0gKGNbal0gKyBiKSAlIDEwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluY3JlbWVudCByZXN1bHQgZXhwb25lbnQgaWYgdGhlcmUgaXMgYSBmaW5hbCBjYXJyeSwgb3RoZXJ3aXNlIHJlbW92ZSBsZWFkaW5nIHplcm8uXHJcbiAgICBpZiAoYikgKyt5LmU7XHJcbiAgICBlbHNlIGMuc2hpZnQoKTtcclxuXHJcbiAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKGkgPSBjLmxlbmd0aDsgIWNbLS1pXTspIGMucG9wKCk7XHJcbiAgICB5LmMgPSBjO1xyXG5cclxuICAgIHJldHVybiB5O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnIGluIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGRwIGZpeGVkIGRlY2ltYWxcclxuICAgKiBwbGFjZXMgYW5kIHJvdW5kZWQgdXNpbmcgQmlnLlJNLlxyXG4gICAqXHJcbiAgICogZHA/IHtudW1iZXJ9IEludGVnZXIsIDAgdG8gTUFYX0RQIGluY2x1c2l2ZS5cclxuICAgKi9cclxuICBQLnRvRXhwb25lbnRpYWwgPSBmdW5jdGlvbiAoZHApIHtcclxuICAgIHJldHVybiBzdHJpbmdpZnkodGhpcywgMSwgZHAsIGRwKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyBpbiBub3JtYWwgbm90YXRpb24gdG8gZHAgZml4ZWQgZGVjaW1hbFxyXG4gICAqIHBsYWNlcyBhbmQgcm91bmRlZCB1c2luZyBCaWcuUk0uXHJcbiAgICpcclxuICAgKiBkcD8ge251bWJlcn0gSW50ZWdlciwgMCB0byBNQVhfRFAgaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogKC0wKS50b0ZpeGVkKDApIGlzICcwJywgYnV0ICgtMC4xKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAgICogKC0wKS50b0ZpeGVkKDEpIGlzICcwLjAnLCBidXQgKC0wLjAxKS50b0ZpeGVkKDEpIGlzICctMC4wJy5cclxuICAgKi9cclxuICBQLnRvRml4ZWQgPSBmdW5jdGlvbiAoZHApIHtcclxuICAgIHJldHVybiBzdHJpbmdpZnkodGhpcywgMiwgZHAsIHRoaXMuZSArIGRwKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZyByb3VuZGVkIHRvIHNkIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZ1xyXG4gICAqIEJpZy5STS4gVXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHNkIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBuZWNlc3NhcnkgdG8gcmVwcmVzZW50XHJcbiAgICogdGhlIGludGVnZXIgcGFydCBvZiB0aGUgdmFsdWUgaW4gbm9ybWFsIG5vdGF0aW9uLlxyXG4gICAqXHJcbiAgICogc2Qge251bWJlcn0gSW50ZWdlciwgMSB0byBNQVhfRFAgaW5jbHVzaXZlLlxyXG4gICAqL1xyXG4gIFAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoc2QpIHtcclxuICAgIHJldHVybiBzdHJpbmdpZnkodGhpcywgMywgc2QsIHNkIC0gMSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcuXHJcbiAgICogUmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHRoaXMgQmlnIGhhcyBhIHBvc2l0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhblxyXG4gICAqIEJpZy5QRSwgb3IgYSBuZWdhdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBsZXNzIHRoYW4gQmlnLk5FLlxyXG4gICAqIE9taXQgdGhlIHNpZ24gZm9yIG5lZ2F0aXZlIHplcm8uXHJcbiAgICovXHJcbiAgUC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBzdHJpbmdpZnkodGhpcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWcuXHJcbiAgICogUmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHRoaXMgQmlnIGhhcyBhIHBvc2l0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhblxyXG4gICAqIEJpZy5QRSwgb3IgYSBuZWdhdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBsZXNzIHRoYW4gQmlnLk5FLlxyXG4gICAqIEluY2x1ZGUgdGhlIHNpZ24gZm9yIG5lZ2F0aXZlIHplcm8uXHJcbiAgICovXHJcbiAgUC52YWx1ZU9mID0gUC50b0pTT04gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gc3RyaW5naWZ5KHRoaXMsIDQpO1xyXG4gIH07XHJcblxyXG5cclxuICAvLyBFeHBvcnRcclxuXHJcblxyXG4gIEJpZyA9IF9CaWdfKCk7XHJcblxyXG4gIEJpZ1snZGVmYXVsdCddID0gQmlnLkJpZyA9IEJpZztcclxuXHJcbiAgLy9BTUQuXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgZGVmaW5lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEJpZzsgfSk7XHJcblxyXG4gIC8vIE5vZGUgYW5kIG90aGVyIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cy5cclxuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEJpZztcclxuXHJcbiAgLy9Ccm93c2VyLlxyXG4gIH0gZWxzZSB7XHJcbiAgICBHTE9CQUwuQmlnID0gQmlnO1xyXG4gIH1cclxufSkodGhpcyk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQSxXQU1BO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/big.js/big.js\n");

/***/ }),

/***/ "./node_modules/redux/es/redux.js":
/*!****************************************!*\
  !*** ./node_modules/redux/es/redux.js ***!
  \****************************************/
/*! exports provided: createStore, combineReducers, bindActionCreators, applyMiddleware, compose, __DO_NOT_USE__ActionTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createStore\", function() { return createStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"combineReducers\", function() { return combineReducers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bindActionCreators\", function() { return bindActionCreators; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"applyMiddleware\", function() { return applyMiddleware; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compose\", function() { return compose; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__DO_NOT_USE__ActionTypes\", function() { return ActionTypes; });\n/* harmony import */ var symbol_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! symbol-observable */ \"./node_modules/symbol-observable/es/index.js\");\n\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[symbol_observable__WEBPACK_IMPORTED_MODULE_0__[\"default\"]] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[symbol_observable__WEBPACK_IMPORTED_MODULE_0__[\"default\"]] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (true) {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers);\n  var unexpectedKeyCache;\n\n  if (true) {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (true) {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(\"Dispatching while constructing your middleware is not allowed. \" + \"Other middleware would not be applied to this dispatch.\");\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif ( true && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanM/MDBkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCRvYnNlcnZhYmxlIGZyb20gJ3N5bWJvbC1vYnNlcnZhYmxlJztcblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciByYW5kb21TdHJpbmcgPSBmdW5jdGlvbiByYW5kb21TdHJpbmcoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbn07XG5cbnZhciBBY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogXCJAQHJlZHV4L0lOSVRcIiArIHJhbmRvbVN0cmluZygpLFxuICBSRVBMQUNFOiBcIkBAcmVkdXgvUkVQTEFDRVwiICsgcmFuZG9tU3RyaW5nKCksXG4gIFBST0JFX1VOS05PV05fQUNUSU9OOiBmdW5jdGlvbiBQUk9CRV9VTktOT1dOX0FDVElPTigpIHtcbiAgICByZXR1cm4gXCJAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXCIgKyByYW5kb21TdHJpbmcoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBhcHBlYXJzIHRvIGJlIGEgcGxhaW4gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIHZhciBwcm90byA9IG9iajtcblxuICB3aGlsZSAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSAhPT0gbnVsbCkge1xuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG4gKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAqXG4gKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gKlxuICogQHBhcmFtIHthbnl9IFtwcmVsb2FkZWRTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBoeWRyYXRlIHRoZSBzdGF0ZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYVxuICogcHJldmlvdXNseSBzZXJpYWxpemVkIHVzZXIgc2Vzc2lvbi5cbiAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcbiAqIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIGBjb21iaW5lUmVkdWNlcnNgIGtleXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2VuaGFuY2VyXSBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKSB7XG4gIHZhciBfcmVmMjtcblxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZW5oYW5jZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGFyZ3VtZW50c1szXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignSXQgbG9va3MgbGlrZSB5b3UgYXJlIHBhc3Npbmcgc2V2ZXJhbCBzdG9yZSBlbmhhbmNlcnMgdG8gJyArICdjcmVhdGVTdG9yZSgpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQsIGNvbXBvc2UgdGhlbSAnICsgJ3RvZ2V0aGVyIHRvIGEgc2luZ2xlIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IHByZWxvYWRlZFN0YXRlO1xuICAgIHByZWxvYWRlZFN0YXRlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IHByZWxvYWRlZFN0YXRlO1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBub3QgY2FsbCBzdG9yZS5nZXRTdGF0ZSgpIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdUaGUgcmVkdWNlciBoYXMgYWxyZWFkeSByZWNlaXZlZCB0aGUgc3RhdGUgYXMgYW4gYXJndW1lbnQuICcgKyAnUGFzcyBpdCBkb3duIGZyb20gdGhlIHRvcCByZWR1Y2VyIGluc3RlYWQgb2YgcmVhZGluZyBpdCBmcm9tIHRoZSBzdG9yZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgY2hhbmdlIGxpc3RlbmVyLiBJdCB3aWxsIGJlIGNhbGxlZCBhbnkgdGltZSBhbiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCxcbiAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cbiAgICogY2FsbCBgZ2V0U3RhdGUoKWAgdG8gcmVhZCB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGluc2lkZSB0aGUgY2FsbGJhY2suXG4gICAqXG4gICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG4gICAqIGNhdmVhdHM6XG4gICAqXG4gICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cbiAgICogSWYgeW91IHN1YnNjcmliZSBvciB1bnN1YnNjcmliZSB3aGlsZSB0aGUgbGlzdGVuZXJzIGFyZSBiZWluZyBpbnZva2VkLCB0aGlzXG4gICAqIHdpbGwgbm90IGhhdmUgYW55IGVmZmVjdCBvbiB0aGUgYGRpc3BhdGNoKClgIHRoYXQgaXMgY3VycmVudGx5IGluIHByb2dyZXNzLlxuICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcbiAgICogcmVjZW50IHNuYXBzaG90IG9mIHRoZSBzdWJzY3JpcHRpb24gbGlzdC5cbiAgICpcbiAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG4gICAqIG1pZ2h0IGhhdmUgYmVlbiB1cGRhdGVkIG11bHRpcGxlIHRpbWVzIGR1cmluZyBhIG5lc3RlZCBgZGlzcGF0Y2goKWAgYmVmb3JlXG4gICAqIHRoZSBsaXN0ZW5lciBpcyBjYWxsZWQuIEl0IGlzLCBob3dldmVyLCBndWFyYW50ZWVkIHRoYXQgYWxsIHN1YnNjcmliZXJzXG4gICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3RcbiAgICogc3RhdGUgYnkgdGhlIHRpbWUgaXQgZXhpdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGlzIGNoYW5nZSBsaXN0ZW5lci5cbiAgICovXG5cblxuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtYXkgbm90IGNhbGwgc3RvcmUuc3Vic2NyaWJlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ0lmIHlvdSB3b3VsZCBsaWtlIHRvIGJlIG5vdGlmaWVkIGFmdGVyIHRoZSBzdG9yZSBoYXMgYmVlbiB1cGRhdGVkLCBzdWJzY3JpYmUgZnJvbSBhICcgKyAnY29tcG9uZW50IGFuZCBpbnZva2Ugc3RvcmUuZ2V0U3RhdGUoKSBpbiB0aGUgY2FsbGJhY2sgdG8gYWNjZXNzIHRoZSBsYXRlc3Qgc3RhdGUuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS1yZWZlcmVuY2Uvc3RvcmUjc3Vic2NyaWJlKGxpc3RlbmVyKSBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICBuZXh0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbWF5IG5vdCB1bnN1YnNjcmliZSBmcm9tIGEgc3RvcmUgbGlzdGVuZXIgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ1NlZSBodHRwczovL3JlZHV4LmpzLm9yZy9hcGktcmVmZXJlbmNlL3N0b3JlI3N1YnNjcmliZShsaXN0ZW5lcikgZm9yIG1vcmUgZGV0YWlscy4nKTtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cbiAgICpcbiAgICogVGhlIGByZWR1Y2VyYCBmdW5jdGlvbiwgdXNlZCB0byBjcmVhdGUgdGhlIHN0b3JlLCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG4gICAqIGJlIGNvbnNpZGVyZWQgdGhlICoqbmV4dCoqIHN0YXRlIG9mIHRoZSB0cmVlLCBhbmQgdGhlIGNoYW5nZSBsaXN0ZW5lcnNcbiAgICogd2lsbCBiZSBub3RpZmllZC5cbiAgICpcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb25seSBzdXBwb3J0cyBwbGFpbiBvYmplY3QgYWN0aW9ucy4gSWYgeW91IHdhbnQgdG9cbiAgICogZGlzcGF0Y2ggYSBQcm9taXNlLCBhbiBPYnNlcnZhYmxlLCBhIHRodW5rLCBvciBzb21ldGhpbmcgZWxzZSwgeW91IG5lZWQgdG9cbiAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG4gICAqIGV4YW1wbGUsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGByZWR1eC10aHVua2AgcGFja2FnZS4gRXZlbiB0aGVcbiAgICogbWlkZGxld2FyZSB3aWxsIGV2ZW50dWFsbHkgZGlzcGF0Y2ggcGxhaW4gb2JqZWN0IGFjdGlvbnMgdXNpbmcgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gQSBwbGFpbiBvYmplY3QgcmVwcmVzZW50aW5nIOKAnHdoYXQgY2hhbmdlZOKAnS4gSXQgaXNcbiAgICogYSBnb29kIGlkZWEgdG8ga2VlcCBhY3Rpb25zIHNlcmlhbGl6YWJsZSBzbyB5b3UgY2FuIHJlY29yZCBhbmQgcmVwbGF5IHVzZXJcbiAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcbiAgICogYSBgdHlwZWAgcHJvcGVydHkgd2hpY2ggbWF5IG5vdCBiZSBgdW5kZWZpbmVkYC4gSXQgaXMgYSBnb29kIGlkZWEgdG8gdXNlXG4gICAqIHN0cmluZyBjb25zdGFudHMgZm9yIGFjdGlvbiB0eXBlcy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gRm9yIGNvbnZlbmllbmNlLCB0aGUgc2FtZSBhY3Rpb24gb2JqZWN0IHlvdSBkaXNwYXRjaGVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG4gICAqIHJldHVybiBzb21ldGhpbmcgZWxzZSAoZm9yIGV4YW1wbGUsIGEgUHJvbWlzZSB5b3UgY2FuIGF3YWl0KS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlJFUExBQ0VcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG4gICAqIEByZXR1cm5zIHtvYnNlcnZhYmxlfSBBIG1pbmltYWwgb2JzZXJ2YWJsZSBvZiBzdGF0ZSBjaGFuZ2VzLlxuICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSBvYnNlcnZhYmxlIHByb3Bvc2FsOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYnNlcnZhYmxlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0JyB8fCBvYnNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgX3JlZlskJG9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX3JlZjtcbiAgfSAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cblxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTklUXG4gIH0pO1xuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbJCRvYnNlcnZhYmxlXSA9IG9ic2VydmFibGUsIF9yZWYyO1xufVxuXG4vKipcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cblxuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG4gICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9IGNhdGNoIChlKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG5cbn1cblxuZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgdmFyIGFjdGlvblR5cGUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGU7XG4gIHZhciBhY3Rpb25EZXNjcmlwdGlvbiA9IGFjdGlvblR5cGUgJiYgXCJhY3Rpb24gXFxcIlwiICsgU3RyaW5nKGFjdGlvblR5cGUpICsgXCJcXFwiXCIgfHwgJ2FuIGFjdGlvbic7XG4gIHJldHVybiBcIkdpdmVuIFwiICsgYWN0aW9uRGVzY3JpcHRpb24gKyBcIiwgcmVkdWNlciBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiBcIiArIFwiVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLiBcIiArIFwiSWYgeW91IHdhbnQgdGhpcyByZWR1Y2VyIHRvIGhvbGQgbm8gdmFsdWUsIHlvdSBjYW4gcmV0dXJuIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCI7XG59XG5cbmZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuSU5JVCA/ICdwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcblxuICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiBcIlRoZSBcIiArIGFyZ3VtZW50TmFtZSArIFwiIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXFxcIlwiICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyBcIlxcXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgXCIgKyAoXCJrZXlzOiBcXFwiXCIgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XTtcbiAgfSk7XG4gIHVuZXhwZWN0ZWRLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldID0gdHJ1ZTtcbiAgfSk7XG4gIGlmIChhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IEFjdGlvblR5cGVzLlJFUExBQ0UpIHJldHVybjtcblxuICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBcIlVuZXhwZWN0ZWQgXCIgKyAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMSA/ICdrZXlzJyA6ICdrZXknKSArIFwiIFwiICsgKFwiXFxcIlwiICsgdW5leHBlY3RlZEtleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCIgZm91bmQgaW4gXCIgKyBhcmd1bWVudE5hbWUgKyBcIi4gXCIpICsgXCJFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6IFwiICsgKFwiXFxcIlwiICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCIuIFVuZXhwZWN0ZWQga2V5cyB3aWxsIGJlIGlnbm9yZWQuXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTaGFwZShyZWR1Y2Vycykge1xuICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuICAgIHZhciBpbml0aWFsU3RhdGUgPSByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuSU5JVFxuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWR1Y2VyIFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBcIiArIFwiSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IFwiICsgXCJleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IFwiICsgXCJub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZXQgYSB2YWx1ZSBmb3IgdGhpcyByZWR1Y2VyLCBcIiArIFwieW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJPQkVfVU5LTk9XTl9BQ1RJT04oKVxuICAgIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVkdWNlciBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gXCIgKyAoXCJEb24ndCB0cnkgdG8gaGFuZGxlIFwiICsgQWN0aW9uVHlwZXMuSU5JVCArIFwiIG9yIG90aGVyIGFjdGlvbnMgaW4gXFxcInJlZHV4LypcXFwiIFwiKSArIFwibmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgXCIgKyBcImN1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsIFwiICsgXCJpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgXCIgKyBcImFjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZCwgYnV0IGNhbiBiZSBudWxsLlwiKTtcbiAgICB9XG4gIH0pO1xufVxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5cblxuZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZyhcIk5vIHJlZHVjZXIgcHJvdmlkZWQgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmaW5hbFJlZHVjZXJzW2tleV0gPSByZWR1Y2Vyc1trZXldO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7XG4gIHZhciB1bmV4cGVjdGVkS2V5Q2FjaGU7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGUgPSB7fTtcbiAgfVxuXG4gIHZhciBzaGFwZUFzc2VydGlvbkVycm9yO1xuXG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNoYXBlKGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2hhcGVBc3NlcnRpb25FcnJvciA9IGU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBzdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIGlmIChzaGFwZUFzc2VydGlvbkVycm9yKSB7XG4gICAgICB0aHJvdyBzaGFwZUFzc2VydGlvbkVycm9yO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKHN0YXRlLCBmaW5hbFJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSk7XG5cbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICB3YXJuaW5nKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9rZXkgPSBmaW5hbFJlZHVjZXJLZXlzW19pXTtcbiAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1tfa2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVbX2tleV07XG4gICAgICB2YXIgbmV4dFN0YXRlRm9yS2V5ID0gcmVkdWNlcihwcmV2aW91c1N0YXRlRm9yS2V5LCBhY3Rpb24pO1xuXG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKF9rZXksIGFjdGlvbik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICBuZXh0U3RhdGVbX2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG4gKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5cblxuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCkge1xuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImJpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCBcIiArIChhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3Rpb25DcmVhdG9ycykgKyBcIi4gXCIgKyBcIkRpZCB5b3Ugd3JpdGUgXFxcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXFxcIiBpbnN0ZWFkIG9mIFxcXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXFxcIj9cIik7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcbiAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG4gICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgfSkpO1xuICAgIH1cblxuICAgIG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuXG4gICAgICB2YXIgX2Rpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpc3BhdGNoaW5nIHdoaWxlIGNvbnN0cnVjdGluZyB5b3VyIG1pZGRsZXdhcmUgaXMgbm90IGFsbG93ZWQuIFwiICsgXCJPdGhlciBtaWRkbGV3YXJlIHdvdWxkIG5vdCBiZSBhcHBsaWVkIHRvIHRoaXMgZGlzcGF0Y2guXCIpO1xuICAgICAgfTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2guYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBjb21wb3NlLmFwcGx5KHZvaWQgMCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBzdG9yZSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG4vKlxuICogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuICogSWYgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIG1pbmlmaWVkIGFuZCBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLCB3YXJuIHRoZSB1c2VyLlxuICovXG5cbmZ1bmN0aW9uIGlzQ3J1c2hlZCgpIHt9XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG4gIHdhcm5pbmcoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBzZXR0aW5nIG1vZGUgdG8gcHJvZHVjdGlvbiBpbiB3ZWJwYWNrIChodHRwczovL3dlYnBhY2suanMub3JnL2NvbmNlcHRzL21vZGUvKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVN0b3JlLCBjb21iaW5lUmVkdWNlcnMsIGJpbmRBY3Rpb25DcmVhdG9ycywgYXBwbHlNaWRkbGV3YXJlLCBjb21wb3NlLCBBY3Rpb25UeXBlcyBhcyBfX0RPX05PVF9VU0VfX0FjdGlvblR5cGVzIH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/redux/es/redux.js\n");

/***/ }),

/***/ "./node_modules/stupid-table-plugin/stupidtable.js":
/*!*********************************************************!*\
  !*** ./node_modules/stupid-table-plugin/stupidtable.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// Stupid jQuery table plugin.\n\n(function($) {\n  $.fn.stupidtable = function(sortFns) {\n    return this.each(function() {\n      var $table = $(this);\n      sortFns = sortFns || {};\n      sortFns = $.extend({}, $.fn.stupidtable.default_sort_fns, sortFns);\n      $table.data('sortFns', sortFns);\n      $table.stupidtable_build();\n\n      $table.on(\"click.stupidtable\", \"thead th\", function() {\n          $(this).stupidsort();\n      });\n\n      // Sort th immediately if data-sort-onload=\"yes\" is specified. Limit to\n      // the first one found - only one default sort column makes sense anyway.\n      var $th_onload_sort = $table.find(\"th[data-sort-onload=yes]\").eq(0);\n      $th_onload_sort.stupidsort();\n    });\n  };\n\n  // ------------------------------------------------------------------\n  // Default settings\n  // ------------------------------------------------------------------\n  $.fn.stupidtable.default_settings = {\n    should_redraw: function(sort_info){\n      return true;\n    },\n    will_manually_build_table: false\n  };\n  $.fn.stupidtable.dir = {ASC: \"asc\", DESC: \"desc\"};\n  $.fn.stupidtable.default_sort_fns = {\n    \"int\": function(a, b) {\n      return parseInt(a, 10) - parseInt(b, 10);\n    },\n    \"float\": function(a, b) {\n      return parseFloat(a) - parseFloat(b);\n    },\n    \"string\": function(a, b) {\n      return a.toString().localeCompare(b.toString());\n    },\n    \"string-ins\": function(a, b) {\n      a = a.toString().toLocaleLowerCase();\n      b = b.toString().toLocaleLowerCase();\n      return a.localeCompare(b);\n    }\n  };\n\n  // Allow specification of settings on a per-table basis. Call on a table\n  // jquery object. Call *before* calling .stuidtable();\n  $.fn.stupidtable_settings = function(settings) {\n    return this.each(function() {\n      var $table = $(this);\n      var final_settings = $.extend({}, $.fn.stupidtable.default_settings, settings);\n      $table.stupidtable.settings = final_settings;\n    });\n  };\n\n\n  // Expects $(\"#mytable\").stupidtable() to have already been called.\n  // Call on a table header.\n  $.fn.stupidsort = function(force_direction){\n    var $this_th = $(this);\n    var datatype = $this_th.data(\"sort\") || null;\n\n    // No datatype? Nothing to do.\n    if (datatype === null) {\n      return;\n    }\n\n    var dir = $.fn.stupidtable.dir;\n    var $table = $this_th.closest(\"table\");\n\n    var sort_info = {\n        $th: $this_th,\n        $table: $table,\n        datatype: datatype\n    };\n\n\n    // Bring in default settings if none provided\n    if(!$table.stupidtable.settings){\n        $table.stupidtable.settings = $.extend({}, $.fn.stupidtable.default_settings);\n    }\n\n    sort_info.compare_fn = $table.data('sortFns')[datatype];\n    sort_info.th_index = calculateTHIndex(sort_info);\n    sort_info.sort_dir = calculateSortDir(force_direction, sort_info);\n\n    $this_th.data(\"sort-dir\", sort_info.sort_dir);\n    $table.trigger(\"beforetablesort\", {column: sort_info.th_index, direction: sort_info.sort_dir, $th: $this_th});\n\n    // More reliable method of forcing a redraw\n    $table.css(\"display\");\n\n    // Run sorting asynchronously on a timout to force browser redraw after\n    // `beforetablesort` callback. Also avoids locking up the browser too much.\n    setTimeout(function() {\n      if(!$table.stupidtable.settings.will_manually_build_table){\n        $table.stupidtable_build();\n      }\n      var table_structure = sortTable(sort_info);\n      var trs = getTableRowsFromTableStructure(table_structure, sort_info);\n\n      if(!$table.stupidtable.settings.should_redraw(sort_info)){\n        return;\n      }\n      $table.children(\"tbody\").append(trs);\n\n      updateElementData(sort_info);\n      $table.trigger(\"aftertablesort\", {column: sort_info.th_index, direction: sort_info.sort_dir, $th: $this_th});\n      $table.css(\"display\");\n\n    }, 10);\n    return $this_th;\n  };\n\n  // Call on a sortable td to update its value in the sort. This should be the\n  // only mechanism used to update a cell's sort value. If your display value is\n  // different from your sort value, use jQuery's .text() or .html() to update\n  // the td contents, Assumes stupidtable has already been called for the table.\n  $.fn.updateSortVal = function(new_sort_val){\n  var $this_td = $(this);\n    if($this_td.is('[data-sort-value]')){\n      // For visual consistency with the .data cache\n      $this_td.attr('data-sort-value', new_sort_val);\n    }\n    $this_td.data(\"sort-value\", new_sort_val);\n    return $this_td;\n  };\n\n\n  $.fn.stupidtable_build = function(){\n    return this.each(function() {\n      var $table = $(this);\n      var table_structure = [];\n      var trs = $table.children(\"tbody\").children(\"tr\");\n      trs.each(function(index,tr) {\n\n        // ====================================================================\n        // Transfer to using internal table structure\n        // ====================================================================\n        var ele = {\n            $tr: $(tr),\n            columns: [],\n            index: index\n        };\n\n        $(tr).children('td').each(function(idx, td){\n            var sort_val = $(td).data(\"sort-value\");\n\n            // Store and read from the .data cache for display text only sorts\n            // instead of looking through the DOM every time\n            if(typeof(sort_val) === \"undefined\"){\n              var txt = $(td).text();\n              $(td).data('sort-value', txt);\n              sort_val = txt;\n            }\n            ele.columns.push(sort_val);\n        });\n        table_structure.push(ele);\n      });\n      $table.data('stupidsort_internaltable', table_structure);\n    });\n  };\n\n  // ====================================================================\n  // Private functions\n  // ====================================================================\n  var sortTable = function(sort_info){\n    var table_structure = sort_info.$table.data('stupidsort_internaltable');\n    var th_index = sort_info.th_index;\n    var $th = sort_info.$th;\n\n    var multicolumn_target_str = $th.data('sort-multicolumn');\n    var multicolumn_targets;\n    if(multicolumn_target_str){\n        multicolumn_targets = multicolumn_target_str.split(',');\n    }\n    else{\n        multicolumn_targets = [];\n    }\n    var multicolumn_th_targets = $.map(multicolumn_targets, function(identifier, i){\n        return get_th(sort_info.$table, identifier);\n    });\n\n    table_structure.sort(function(e1, e2){\n      var multicolumns = multicolumn_th_targets.slice(0); // shallow copy\n      var diff = sort_info.compare_fn(e1.columns[th_index], e2.columns[th_index]);\n      while(diff === 0 && multicolumns.length){\n          var multicolumn = multicolumns[0];\n          var datatype = multicolumn.$e.data(\"sort\");\n          var multiCloumnSortMethod = sort_info.$table.data('sortFns')[datatype];\n          diff = multiCloumnSortMethod(e1.columns[multicolumn.index], e2.columns[multicolumn.index]);\n          multicolumns.shift();\n      }\n      // Sort by position in the table if values are the same. This enforces a\n      // stable sort across all browsers. See https://bugs.chromium.org/p/v8/issues/detail?id=90\n      if (diff === 0)\n        return e1.index - e2.index;\n      else\n        return diff;\n\n    });\n\n    if (sort_info.sort_dir != $.fn.stupidtable.dir.ASC){\n      table_structure.reverse();\n    }\n      return table_structure;\n  };\n\n  var get_th = function($table, identifier){\n      // identifier can be a th id or a th index number;\n      var $table_ths = $table.find('th');\n      var index = parseInt(identifier, 10);\n      var $th;\n      if(!index && index !== 0){\n          $th = $table_ths.siblings('#' + identifier);\n          index = $table_ths.index($th);\n      }\n      else{\n          $th = $table_ths.eq(index);\n      }\n      return {index: index, $e: $th};\n  };\n\n  var getTableRowsFromTableStructure = function(table_structure, sort_info){\n    // Gather individual column for callbacks\n    var column = $.map(table_structure, function(ele, i){\n        return [[ele.columns[sort_info.th_index], ele.$tr, i]];\n    });\n\n    /* Side effect */\n    sort_info.column = column;\n\n    // Replace the content of tbody with the sorted rows. Strangely\n    // enough, .append accomplishes this for us.\n    return $.map(table_structure, function(ele) { return ele.$tr; });\n\n  };\n\n  var updateElementData = function(sort_info){\n    var $table = sort_info.$table;\n    var $this_th = sort_info.$th;\n    var sort_dir = $this_th.data('sort-dir');\n    var th_index = sort_info.th_index;\n\n\n    // Reset siblings\n    $table.find(\"th\").data(\"sort-dir\", null).removeClass(\"sorting-desc sorting-asc\");\n    $this_th.data(\"sort-dir\", sort_dir).addClass(\"sorting-\"+sort_dir);\n  };\n\n  var calculateSortDir = function(force_direction, sort_info){\n    var sort_dir;\n    var $this_th = sort_info.$th;\n    var dir = $.fn.stupidtable.dir;\n\n    if(!!force_direction){\n        sort_dir = force_direction;\n    }\n    else{\n        sort_dir = force_direction || $this_th.data(\"sort-default\") || dir.ASC;\n        if ($this_th.data(\"sort-dir\"))\n           sort_dir = $this_th.data(\"sort-dir\") === dir.ASC ? dir.DESC : dir.ASC;\n    }\n    return sort_dir;\n  };\n\n  var calculateTHIndex = function(sort_info){\n    var th_index = 0;\n    var base_index = sort_info.$th.index();\n    sort_info.$th.parents(\"tr\").find(\"th\").slice(0, base_index).each(function() {\n      var cols = $(this).attr(\"colspan\") || 1;\n      th_index += parseInt(cols,10);\n    });\n    return th_index;\n  };\n\n})(jQuery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R1cGlkLXRhYmxlLXBsdWdpbi9zdHVwaWR0YWJsZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHVwaWQtdGFibGUtcGx1Z2luL3N0dXBpZHRhYmxlLmpzPzc0OGQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU3R1cGlkIGpRdWVyeSB0YWJsZSBwbHVnaW4uXG5cbihmdW5jdGlvbigkKSB7XG4gICQuZm4uc3R1cGlkdGFibGUgPSBmdW5jdGlvbihzb3J0Rm5zKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkdGFibGUgPSAkKHRoaXMpO1xuICAgICAgc29ydEZucyA9IHNvcnRGbnMgfHwge307XG4gICAgICBzb3J0Rm5zID0gJC5leHRlbmQoe30sICQuZm4uc3R1cGlkdGFibGUuZGVmYXVsdF9zb3J0X2Zucywgc29ydEZucyk7XG4gICAgICAkdGFibGUuZGF0YSgnc29ydEZucycsIHNvcnRGbnMpO1xuICAgICAgJHRhYmxlLnN0dXBpZHRhYmxlX2J1aWxkKCk7XG5cbiAgICAgICR0YWJsZS5vbihcImNsaWNrLnN0dXBpZHRhYmxlXCIsIFwidGhlYWQgdGhcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJCh0aGlzKS5zdHVwaWRzb3J0KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU29ydCB0aCBpbW1lZGlhdGVseSBpZiBkYXRhLXNvcnQtb25sb2FkPVwieWVzXCIgaXMgc3BlY2lmaWVkLiBMaW1pdCB0b1xuICAgICAgLy8gdGhlIGZpcnN0IG9uZSBmb3VuZCAtIG9ubHkgb25lIGRlZmF1bHQgc29ydCBjb2x1bW4gbWFrZXMgc2Vuc2UgYW55d2F5LlxuICAgICAgdmFyICR0aF9vbmxvYWRfc29ydCA9ICR0YWJsZS5maW5kKFwidGhbZGF0YS1zb3J0LW9ubG9hZD15ZXNdXCIpLmVxKDApO1xuICAgICAgJHRoX29ubG9hZF9zb3J0LnN0dXBpZHNvcnQoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gRGVmYXVsdCBzZXR0aW5nc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgJC5mbi5zdHVwaWR0YWJsZS5kZWZhdWx0X3NldHRpbmdzID0ge1xuICAgIHNob3VsZF9yZWRyYXc6IGZ1bmN0aW9uKHNvcnRfaW5mbyl7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHdpbGxfbWFudWFsbHlfYnVpbGRfdGFibGU6IGZhbHNlXG4gIH07XG4gICQuZm4uc3R1cGlkdGFibGUuZGlyID0ge0FTQzogXCJhc2NcIiwgREVTQzogXCJkZXNjXCJ9O1xuICAkLmZuLnN0dXBpZHRhYmxlLmRlZmF1bHRfc29ydF9mbnMgPSB7XG4gICAgXCJpbnRcIjogZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KGEsIDEwKSAtIHBhcnNlSW50KGIsIDEwKTtcbiAgICB9LFxuICAgIFwiZmxvYXRcIjogZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYSkgLSBwYXJzZUZsb2F0KGIpO1xuICAgIH0sXG4gICAgXCJzdHJpbmdcIjogZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKS5sb2NhbGVDb21wYXJlKGIudG9TdHJpbmcoKSk7XG4gICAgfSxcbiAgICBcInN0cmluZy1pbnNcIjogZnVuY3Rpb24oYSwgYikge1xuICAgICAgYSA9IGEudG9TdHJpbmcoKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgYiA9IGIudG9TdHJpbmcoKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWxsb3cgc3BlY2lmaWNhdGlvbiBvZiBzZXR0aW5ncyBvbiBhIHBlci10YWJsZSBiYXNpcy4gQ2FsbCBvbiBhIHRhYmxlXG4gIC8vIGpxdWVyeSBvYmplY3QuIENhbGwgKmJlZm9yZSogY2FsbGluZyAuc3R1aWR0YWJsZSgpO1xuICAkLmZuLnN0dXBpZHRhYmxlX3NldHRpbmdzID0gZnVuY3Rpb24oc2V0dGluZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyICR0YWJsZSA9ICQodGhpcyk7XG4gICAgICB2YXIgZmluYWxfc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgJC5mbi5zdHVwaWR0YWJsZS5kZWZhdWx0X3NldHRpbmdzLCBzZXR0aW5ncyk7XG4gICAgICAkdGFibGUuc3R1cGlkdGFibGUuc2V0dGluZ3MgPSBmaW5hbF9zZXR0aW5ncztcbiAgICB9KTtcbiAgfTtcblxuXG4gIC8vIEV4cGVjdHMgJChcIiNteXRhYmxlXCIpLnN0dXBpZHRhYmxlKCkgdG8gaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkLlxuICAvLyBDYWxsIG9uIGEgdGFibGUgaGVhZGVyLlxuICAkLmZuLnN0dXBpZHNvcnQgPSBmdW5jdGlvbihmb3JjZV9kaXJlY3Rpb24pe1xuICAgIHZhciAkdGhpc190aCA9ICQodGhpcyk7XG4gICAgdmFyIGRhdGF0eXBlID0gJHRoaXNfdGguZGF0YShcInNvcnRcIikgfHwgbnVsbDtcblxuICAgIC8vIE5vIGRhdGF0eXBlPyBOb3RoaW5nIHRvIGRvLlxuICAgIGlmIChkYXRhdHlwZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkaXIgPSAkLmZuLnN0dXBpZHRhYmxlLmRpcjtcbiAgICB2YXIgJHRhYmxlID0gJHRoaXNfdGguY2xvc2VzdChcInRhYmxlXCIpO1xuXG4gICAgdmFyIHNvcnRfaW5mbyA9IHtcbiAgICAgICAgJHRoOiAkdGhpc190aCxcbiAgICAgICAgJHRhYmxlOiAkdGFibGUsXG4gICAgICAgIGRhdGF0eXBlOiBkYXRhdHlwZVxuICAgIH07XG5cblxuICAgIC8vIEJyaW5nIGluIGRlZmF1bHQgc2V0dGluZ3MgaWYgbm9uZSBwcm92aWRlZFxuICAgIGlmKCEkdGFibGUuc3R1cGlkdGFibGUuc2V0dGluZ3Mpe1xuICAgICAgICAkdGFibGUuc3R1cGlkdGFibGUuc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgJC5mbi5zdHVwaWR0YWJsZS5kZWZhdWx0X3NldHRpbmdzKTtcbiAgICB9XG5cbiAgICBzb3J0X2luZm8uY29tcGFyZV9mbiA9ICR0YWJsZS5kYXRhKCdzb3J0Rm5zJylbZGF0YXR5cGVdO1xuICAgIHNvcnRfaW5mby50aF9pbmRleCA9IGNhbGN1bGF0ZVRISW5kZXgoc29ydF9pbmZvKTtcbiAgICBzb3J0X2luZm8uc29ydF9kaXIgPSBjYWxjdWxhdGVTb3J0RGlyKGZvcmNlX2RpcmVjdGlvbiwgc29ydF9pbmZvKTtcblxuICAgICR0aGlzX3RoLmRhdGEoXCJzb3J0LWRpclwiLCBzb3J0X2luZm8uc29ydF9kaXIpO1xuICAgICR0YWJsZS50cmlnZ2VyKFwiYmVmb3JldGFibGVzb3J0XCIsIHtjb2x1bW46IHNvcnRfaW5mby50aF9pbmRleCwgZGlyZWN0aW9uOiBzb3J0X2luZm8uc29ydF9kaXIsICR0aDogJHRoaXNfdGh9KTtcblxuICAgIC8vIE1vcmUgcmVsaWFibGUgbWV0aG9kIG9mIGZvcmNpbmcgYSByZWRyYXdcbiAgICAkdGFibGUuY3NzKFwiZGlzcGxheVwiKTtcblxuICAgIC8vIFJ1biBzb3J0aW5nIGFzeW5jaHJvbm91c2x5IG9uIGEgdGltb3V0IHRvIGZvcmNlIGJyb3dzZXIgcmVkcmF3IGFmdGVyXG4gICAgLy8gYGJlZm9yZXRhYmxlc29ydGAgY2FsbGJhY2suIEFsc28gYXZvaWRzIGxvY2tpbmcgdXAgdGhlIGJyb3dzZXIgdG9vIG11Y2guXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmKCEkdGFibGUuc3R1cGlkdGFibGUuc2V0dGluZ3Mud2lsbF9tYW51YWxseV9idWlsZF90YWJsZSl7XG4gICAgICAgICR0YWJsZS5zdHVwaWR0YWJsZV9idWlsZCgpO1xuICAgICAgfVxuICAgICAgdmFyIHRhYmxlX3N0cnVjdHVyZSA9IHNvcnRUYWJsZShzb3J0X2luZm8pO1xuICAgICAgdmFyIHRycyA9IGdldFRhYmxlUm93c0Zyb21UYWJsZVN0cnVjdHVyZSh0YWJsZV9zdHJ1Y3R1cmUsIHNvcnRfaW5mbyk7XG5cbiAgICAgIGlmKCEkdGFibGUuc3R1cGlkdGFibGUuc2V0dGluZ3Muc2hvdWxkX3JlZHJhdyhzb3J0X2luZm8pKXtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgJHRhYmxlLmNoaWxkcmVuKFwidGJvZHlcIikuYXBwZW5kKHRycyk7XG5cbiAgICAgIHVwZGF0ZUVsZW1lbnREYXRhKHNvcnRfaW5mbyk7XG4gICAgICAkdGFibGUudHJpZ2dlcihcImFmdGVydGFibGVzb3J0XCIsIHtjb2x1bW46IHNvcnRfaW5mby50aF9pbmRleCwgZGlyZWN0aW9uOiBzb3J0X2luZm8uc29ydF9kaXIsICR0aDogJHRoaXNfdGh9KTtcbiAgICAgICR0YWJsZS5jc3MoXCJkaXNwbGF5XCIpO1xuXG4gICAgfSwgMTApO1xuICAgIHJldHVybiAkdGhpc190aDtcbiAgfTtcblxuICAvLyBDYWxsIG9uIGEgc29ydGFibGUgdGQgdG8gdXBkYXRlIGl0cyB2YWx1ZSBpbiB0aGUgc29ydC4gVGhpcyBzaG91bGQgYmUgdGhlXG4gIC8vIG9ubHkgbWVjaGFuaXNtIHVzZWQgdG8gdXBkYXRlIGEgY2VsbCdzIHNvcnQgdmFsdWUuIElmIHlvdXIgZGlzcGxheSB2YWx1ZSBpc1xuICAvLyBkaWZmZXJlbnQgZnJvbSB5b3VyIHNvcnQgdmFsdWUsIHVzZSBqUXVlcnkncyAudGV4dCgpIG9yIC5odG1sKCkgdG8gdXBkYXRlXG4gIC8vIHRoZSB0ZCBjb250ZW50cywgQXNzdW1lcyBzdHVwaWR0YWJsZSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCBmb3IgdGhlIHRhYmxlLlxuICAkLmZuLnVwZGF0ZVNvcnRWYWwgPSBmdW5jdGlvbihuZXdfc29ydF92YWwpe1xuICB2YXIgJHRoaXNfdGQgPSAkKHRoaXMpO1xuICAgIGlmKCR0aGlzX3RkLmlzKCdbZGF0YS1zb3J0LXZhbHVlXScpKXtcbiAgICAgIC8vIEZvciB2aXN1YWwgY29uc2lzdGVuY3kgd2l0aCB0aGUgLmRhdGEgY2FjaGVcbiAgICAgICR0aGlzX3RkLmF0dHIoJ2RhdGEtc29ydC12YWx1ZScsIG5ld19zb3J0X3ZhbCk7XG4gICAgfVxuICAgICR0aGlzX3RkLmRhdGEoXCJzb3J0LXZhbHVlXCIsIG5ld19zb3J0X3ZhbCk7XG4gICAgcmV0dXJuICR0aGlzX3RkO1xuICB9O1xuXG5cbiAgJC5mbi5zdHVwaWR0YWJsZV9idWlsZCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhciAkdGFibGUgPSAkKHRoaXMpO1xuICAgICAgdmFyIHRhYmxlX3N0cnVjdHVyZSA9IFtdO1xuICAgICAgdmFyIHRycyA9ICR0YWJsZS5jaGlsZHJlbihcInRib2R5XCIpLmNoaWxkcmVuKFwidHJcIik7XG4gICAgICB0cnMuZWFjaChmdW5jdGlvbihpbmRleCx0cikge1xuXG4gICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIC8vIFRyYW5zZmVyIHRvIHVzaW5nIGludGVybmFsIHRhYmxlIHN0cnVjdHVyZVxuICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICB2YXIgZWxlID0ge1xuICAgICAgICAgICAgJHRyOiAkKHRyKSxcbiAgICAgICAgICAgIGNvbHVtbnM6IFtdLFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH07XG5cbiAgICAgICAgJCh0cikuY2hpbGRyZW4oJ3RkJykuZWFjaChmdW5jdGlvbihpZHgsIHRkKXtcbiAgICAgICAgICAgIHZhciBzb3J0X3ZhbCA9ICQodGQpLmRhdGEoXCJzb3J0LXZhbHVlXCIpO1xuXG4gICAgICAgICAgICAvLyBTdG9yZSBhbmQgcmVhZCBmcm9tIHRoZSAuZGF0YSBjYWNoZSBmb3IgZGlzcGxheSB0ZXh0IG9ubHkgc29ydHNcbiAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgbG9va2luZyB0aHJvdWdoIHRoZSBET00gZXZlcnkgdGltZVxuICAgICAgICAgICAgaWYodHlwZW9mKHNvcnRfdmFsKSA9PT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgIHZhciB0eHQgPSAkKHRkKS50ZXh0KCk7XG4gICAgICAgICAgICAgICQodGQpLmRhdGEoJ3NvcnQtdmFsdWUnLCB0eHQpO1xuICAgICAgICAgICAgICBzb3J0X3ZhbCA9IHR4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZS5jb2x1bW5zLnB1c2goc29ydF92YWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGFibGVfc3RydWN0dXJlLnB1c2goZWxlKTtcbiAgICAgIH0pO1xuICAgICAgJHRhYmxlLmRhdGEoJ3N0dXBpZHNvcnRfaW50ZXJuYWx0YWJsZScsIHRhYmxlX3N0cnVjdHVyZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUHJpdmF0ZSBmdW5jdGlvbnNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgdmFyIHNvcnRUYWJsZSA9IGZ1bmN0aW9uKHNvcnRfaW5mbyl7XG4gICAgdmFyIHRhYmxlX3N0cnVjdHVyZSA9IHNvcnRfaW5mby4kdGFibGUuZGF0YSgnc3R1cGlkc29ydF9pbnRlcm5hbHRhYmxlJyk7XG4gICAgdmFyIHRoX2luZGV4ID0gc29ydF9pbmZvLnRoX2luZGV4O1xuICAgIHZhciAkdGggPSBzb3J0X2luZm8uJHRoO1xuXG4gICAgdmFyIG11bHRpY29sdW1uX3RhcmdldF9zdHIgPSAkdGguZGF0YSgnc29ydC1tdWx0aWNvbHVtbicpO1xuICAgIHZhciBtdWx0aWNvbHVtbl90YXJnZXRzO1xuICAgIGlmKG11bHRpY29sdW1uX3RhcmdldF9zdHIpe1xuICAgICAgICBtdWx0aWNvbHVtbl90YXJnZXRzID0gbXVsdGljb2x1bW5fdGFyZ2V0X3N0ci5zcGxpdCgnLCcpO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBtdWx0aWNvbHVtbl90YXJnZXRzID0gW107XG4gICAgfVxuICAgIHZhciBtdWx0aWNvbHVtbl90aF90YXJnZXRzID0gJC5tYXAobXVsdGljb2x1bW5fdGFyZ2V0cywgZnVuY3Rpb24oaWRlbnRpZmllciwgaSl7XG4gICAgICAgIHJldHVybiBnZXRfdGgoc29ydF9pbmZvLiR0YWJsZSwgaWRlbnRpZmllcik7XG4gICAgfSk7XG5cbiAgICB0YWJsZV9zdHJ1Y3R1cmUuc29ydChmdW5jdGlvbihlMSwgZTIpe1xuICAgICAgdmFyIG11bHRpY29sdW1ucyA9IG11bHRpY29sdW1uX3RoX3RhcmdldHMuc2xpY2UoMCk7IC8vIHNoYWxsb3cgY29weVxuICAgICAgdmFyIGRpZmYgPSBzb3J0X2luZm8uY29tcGFyZV9mbihlMS5jb2x1bW5zW3RoX2luZGV4XSwgZTIuY29sdW1uc1t0aF9pbmRleF0pO1xuICAgICAgd2hpbGUoZGlmZiA9PT0gMCAmJiBtdWx0aWNvbHVtbnMubGVuZ3RoKXtcbiAgICAgICAgICB2YXIgbXVsdGljb2x1bW4gPSBtdWx0aWNvbHVtbnNbMF07XG4gICAgICAgICAgdmFyIGRhdGF0eXBlID0gbXVsdGljb2x1bW4uJGUuZGF0YShcInNvcnRcIik7XG4gICAgICAgICAgdmFyIG11bHRpQ2xvdW1uU29ydE1ldGhvZCA9IHNvcnRfaW5mby4kdGFibGUuZGF0YSgnc29ydEZucycpW2RhdGF0eXBlXTtcbiAgICAgICAgICBkaWZmID0gbXVsdGlDbG91bW5Tb3J0TWV0aG9kKGUxLmNvbHVtbnNbbXVsdGljb2x1bW4uaW5kZXhdLCBlMi5jb2x1bW5zW211bHRpY29sdW1uLmluZGV4XSk7XG4gICAgICAgICAgbXVsdGljb2x1bW5zLnNoaWZ0KCk7XG4gICAgICB9XG4gICAgICAvLyBTb3J0IGJ5IHBvc2l0aW9uIGluIHRoZSB0YWJsZSBpZiB2YWx1ZXMgYXJlIHRoZSBzYW1lLiBUaGlzIGVuZm9yY2VzIGFcbiAgICAgIC8vIHN0YWJsZSBzb3J0IGFjcm9zcyBhbGwgYnJvd3NlcnMuIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MFxuICAgICAgaWYgKGRpZmYgPT09IDApXG4gICAgICAgIHJldHVybiBlMS5pbmRleCAtIGUyLmluZGV4O1xuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gZGlmZjtcblxuICAgIH0pO1xuXG4gICAgaWYgKHNvcnRfaW5mby5zb3J0X2RpciAhPSAkLmZuLnN0dXBpZHRhYmxlLmRpci5BU0Mpe1xuICAgICAgdGFibGVfc3RydWN0dXJlLnJldmVyc2UoKTtcbiAgICB9XG4gICAgICByZXR1cm4gdGFibGVfc3RydWN0dXJlO1xuICB9O1xuXG4gIHZhciBnZXRfdGggPSBmdW5jdGlvbigkdGFibGUsIGlkZW50aWZpZXIpe1xuICAgICAgLy8gaWRlbnRpZmllciBjYW4gYmUgYSB0aCBpZCBvciBhIHRoIGluZGV4IG51bWJlcjtcbiAgICAgIHZhciAkdGFibGVfdGhzID0gJHRhYmxlLmZpbmQoJ3RoJyk7XG4gICAgICB2YXIgaW5kZXggPSBwYXJzZUludChpZGVudGlmaWVyLCAxMCk7XG4gICAgICB2YXIgJHRoO1xuICAgICAgaWYoIWluZGV4ICYmIGluZGV4ICE9PSAwKXtcbiAgICAgICAgICAkdGggPSAkdGFibGVfdGhzLnNpYmxpbmdzKCcjJyArIGlkZW50aWZpZXIpO1xuICAgICAgICAgIGluZGV4ID0gJHRhYmxlX3Rocy5pbmRleCgkdGgpO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgICAkdGggPSAkdGFibGVfdGhzLmVxKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7aW5kZXg6IGluZGV4LCAkZTogJHRofTtcbiAgfTtcblxuICB2YXIgZ2V0VGFibGVSb3dzRnJvbVRhYmxlU3RydWN0dXJlID0gZnVuY3Rpb24odGFibGVfc3RydWN0dXJlLCBzb3J0X2luZm8pe1xuICAgIC8vIEdhdGhlciBpbmRpdmlkdWFsIGNvbHVtbiBmb3IgY2FsbGJhY2tzXG4gICAgdmFyIGNvbHVtbiA9ICQubWFwKHRhYmxlX3N0cnVjdHVyZSwgZnVuY3Rpb24oZWxlLCBpKXtcbiAgICAgICAgcmV0dXJuIFtbZWxlLmNvbHVtbnNbc29ydF9pbmZvLnRoX2luZGV4XSwgZWxlLiR0ciwgaV1dO1xuICAgIH0pO1xuXG4gICAgLyogU2lkZSBlZmZlY3QgKi9cbiAgICBzb3J0X2luZm8uY29sdW1uID0gY29sdW1uO1xuXG4gICAgLy8gUmVwbGFjZSB0aGUgY29udGVudCBvZiB0Ym9keSB3aXRoIHRoZSBzb3J0ZWQgcm93cy4gU3RyYW5nZWx5XG4gICAgLy8gZW5vdWdoLCAuYXBwZW5kIGFjY29tcGxpc2hlcyB0aGlzIGZvciB1cy5cbiAgICByZXR1cm4gJC5tYXAodGFibGVfc3RydWN0dXJlLCBmdW5jdGlvbihlbGUpIHsgcmV0dXJuIGVsZS4kdHI7IH0pO1xuXG4gIH07XG5cbiAgdmFyIHVwZGF0ZUVsZW1lbnREYXRhID0gZnVuY3Rpb24oc29ydF9pbmZvKXtcbiAgICB2YXIgJHRhYmxlID0gc29ydF9pbmZvLiR0YWJsZTtcbiAgICB2YXIgJHRoaXNfdGggPSBzb3J0X2luZm8uJHRoO1xuICAgIHZhciBzb3J0X2RpciA9ICR0aGlzX3RoLmRhdGEoJ3NvcnQtZGlyJyk7XG4gICAgdmFyIHRoX2luZGV4ID0gc29ydF9pbmZvLnRoX2luZGV4O1xuXG5cbiAgICAvLyBSZXNldCBzaWJsaW5nc1xuICAgICR0YWJsZS5maW5kKFwidGhcIikuZGF0YShcInNvcnQtZGlyXCIsIG51bGwpLnJlbW92ZUNsYXNzKFwic29ydGluZy1kZXNjIHNvcnRpbmctYXNjXCIpO1xuICAgICR0aGlzX3RoLmRhdGEoXCJzb3J0LWRpclwiLCBzb3J0X2RpcikuYWRkQ2xhc3MoXCJzb3J0aW5nLVwiK3NvcnRfZGlyKTtcbiAgfTtcblxuICB2YXIgY2FsY3VsYXRlU29ydERpciA9IGZ1bmN0aW9uKGZvcmNlX2RpcmVjdGlvbiwgc29ydF9pbmZvKXtcbiAgICB2YXIgc29ydF9kaXI7XG4gICAgdmFyICR0aGlzX3RoID0gc29ydF9pbmZvLiR0aDtcbiAgICB2YXIgZGlyID0gJC5mbi5zdHVwaWR0YWJsZS5kaXI7XG5cbiAgICBpZighIWZvcmNlX2RpcmVjdGlvbil7XG4gICAgICAgIHNvcnRfZGlyID0gZm9yY2VfZGlyZWN0aW9uO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBzb3J0X2RpciA9IGZvcmNlX2RpcmVjdGlvbiB8fCAkdGhpc190aC5kYXRhKFwic29ydC1kZWZhdWx0XCIpIHx8IGRpci5BU0M7XG4gICAgICAgIGlmICgkdGhpc190aC5kYXRhKFwic29ydC1kaXJcIikpXG4gICAgICAgICAgIHNvcnRfZGlyID0gJHRoaXNfdGguZGF0YShcInNvcnQtZGlyXCIpID09PSBkaXIuQVNDID8gZGlyLkRFU0MgOiBkaXIuQVNDO1xuICAgIH1cbiAgICByZXR1cm4gc29ydF9kaXI7XG4gIH07XG5cbiAgdmFyIGNhbGN1bGF0ZVRISW5kZXggPSBmdW5jdGlvbihzb3J0X2luZm8pe1xuICAgIHZhciB0aF9pbmRleCA9IDA7XG4gICAgdmFyIGJhc2VfaW5kZXggPSBzb3J0X2luZm8uJHRoLmluZGV4KCk7XG4gICAgc29ydF9pbmZvLiR0aC5wYXJlbnRzKFwidHJcIikuZmluZChcInRoXCIpLnNsaWNlKDAsIGJhc2VfaW5kZXgpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29scyA9ICQodGhpcykuYXR0cihcImNvbHNwYW5cIikgfHwgMTtcbiAgICAgIHRoX2luZGV4ICs9IHBhcnNlSW50KGNvbHMsMTApO1xuICAgIH0pO1xuICAgIHJldHVybiB0aF9pbmRleDtcbiAgfTtcblxufSkoalF1ZXJ5KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/stupid-table-plugin/stupidtable.js\n");

/***/ }),

/***/ "./node_modules/symbol-observable/es/index.js":
/*!****************************************************!*\
  !*** ./node_modules/symbol-observable/es/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ponyfill.js */ \"./node_modules/symbol-observable/es/ponyfill.js\");\n/* global window */\n\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (true) {\n  root = module;\n} else {}\n\nvar result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(root);\n/* harmony default export */ __webpack_exports__[\"default\"] = (result);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvaW5kZXguanM/NmMyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgd2luZG93ICovXG5pbXBvcnQgcG9ueWZpbGwgZnJvbSAnLi9wb255ZmlsbC5qcyc7XG5cbnZhciByb290O1xuXG5pZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gbW9kdWxlO1xufSBlbHNlIHtcbiAgcm9vdCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59XG5cbnZhciByZXN1bHQgPSBwb255ZmlsbChyb290KTtcbmV4cG9ydCBkZWZhdWx0IHJlc3VsdDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FFQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/symbol-observable/es/index.js\n");

/***/ }),

/***/ "./node_modules/symbol-observable/es/ponyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/symbol-observable/es/ponyfill.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return symbolObservablePonyfill; });\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvcG9ueWZpbGwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvcG9ueWZpbGwuanM/NDhiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/symbol-observable/es/ponyfill.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/Y2QwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/harmony-module.js":
/*!*******************************************!*\
  !*** (webpack)/buildin/harmony-module.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzPzgyYjAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcmlnaW5hbE1vZHVsZSkge1xuXHRpZiAoIW9yaWdpbmFsTW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdHZhciBtb2R1bGUgPSBPYmplY3QuY3JlYXRlKG9yaWdpbmFsTW9kdWxlKTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJleHBvcnRzXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWVcblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/harmony-module.js\n");

/***/ }),

/***/ "./src/actions/unprocessed-orders.js":
/*!*******************************************!*\
  !*** ./src/actions/unprocessed-orders.js ***!
  \*******************************************/
/*! exports provided: UPDATE_ORDERS, SELECT_ORDER, UPDATE_ORDER_STATUS, PICK_ORDER, updateOrders, selectOrder, updateOrderStatus, pickOrder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UPDATE_ORDERS\", function() { return UPDATE_ORDERS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SELECT_ORDER\", function() { return SELECT_ORDER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UPDATE_ORDER_STATUS\", function() { return UPDATE_ORDER_STATUS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PICK_ORDER\", function() { return PICK_ORDER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateOrders\", function() { return updateOrders; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectOrder\", function() { return selectOrder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateOrderStatus\", function() { return updateOrderStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pickOrder\", function() { return pickOrder; });\nconst UPDATE_ORDERS = 'UPDATE_ORDERS'\nconst SELECT_ORDER = 'SELECT_ORDER'\nconst UPDATE_ORDER_STATUS = 'UPDATE_ORDER_STATUS'\nconst PICK_ORDER = 'PICK_ORDER'\n\nfunction updateOrders (orders) {\n  return {\n    type: UPDATE_ORDERS,\n    orders\n  }\n}\n\nfunction selectOrder (id) {\n  return {\n    type: SELECT_ORDER,\n    id\n  }\n}\n\nfunction updateOrderStatus (id, status) {\n  return {\n    type: UPDATE_ORDER_STATUS,\n    id,\n    status\n  }\n}\n\nfunction pickOrder (id, rows) {\n  return {\n    type: PICK_ORDER,\n    id,\n    rows\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYWN0aW9ucy91bnByb2Nlc3NlZC1vcmRlcnMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy91bnByb2Nlc3NlZC1vcmRlcnMuanM/NTNhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVVBEQVRFX09SREVSUyA9ICdVUERBVEVfT1JERVJTJ1xuZXhwb3J0IGNvbnN0IFNFTEVDVF9PUkRFUiA9ICdTRUxFQ1RfT1JERVInXG5leHBvcnQgY29uc3QgVVBEQVRFX09SREVSX1NUQVRVUyA9ICdVUERBVEVfT1JERVJfU1RBVFVTJ1xuZXhwb3J0IGNvbnN0IFBJQ0tfT1JERVIgPSAnUElDS19PUkRFUidcblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU9yZGVycyAob3JkZXJzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX09SREVSUyxcbiAgICBvcmRlcnNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0T3JkZXIgKGlkKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VMRUNUX09SREVSLFxuICAgIGlkXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU9yZGVyU3RhdHVzIChpZCwgc3RhdHVzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX09SREVSX1NUQVRVUyxcbiAgICBpZCxcbiAgICBzdGF0dXNcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGlja09yZGVyIChpZCwgcm93cykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFBJQ0tfT1JERVIsXG4gICAgaWQsXG4gICAgcm93c1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/actions/unprocessed-orders.js\n");

/***/ }),

/***/ "./src/api/erply/api.js":
/*!******************************!*\
  !*** ./src/api/erply/api.js ***!
  \******************************/
/*! exports provided: ErplyApi */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ErplyApi\", function() { return ErplyApi; });\n/* harmony import */ var _utils_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/promise */ \"./src/utils/promise.js\");\n/* harmony import */ var _utils_custom_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/custom-error */ \"./src/utils/custom-error.js\");\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../localization */ \"./src/localization/index.js\");\n\n\n\n\nclass ErplyApiError extends _utils_custom_error__WEBPACK_IMPORTED_MODULE_1__[\"CustomError\"] {\n  constructor (code, status, parameters = {}) {\n    super(code)\n\n    this.code = status.errorCode\n    this.ctx = {\n      status,\n      parameters\n    }\n  }\n}\n\nclass NetworkError extends ErplyApiError {\n  constructor (status, parameters) {\n    super(Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('erply.api.network.error'), status, parameters)\n  }\n}\n\nconst ErplyApi = {\n  /**\n   * Sends a request to Erply API\n   * @param {string} request\n   * @param {Object} parameters\n   * @returns {Promise<HTTP_Result>}\n   */\n  async sendRequest (request, parameters = {}) {\n    parameters.request = request\n\n    return Object(_utils_promise__WEBPACK_IMPORTED_MODULE_0__[\"promisify\"])(ErplyAPI.request(request, parameters))\n      .then(response => response)\n      .catch(err => {\n        if (!err.networkConnected()) {\n          return Promise.reject(new NetworkError(err.getResponseObject().status, parameters))\n        }\n\n        const status = err.getResponseObject().status\n\n        return Promise.reject(new ErplyApiError(status.errorCode, status, parameters))\n      })\n  },\n  /**\n   * Find the first record in Erply API\n   * @param {string} request\n   * @param {Object} parameters\n   * @returns {Promise<Object>}\n   */\n  async find (request, parameters = {}) {\n    return ErplyApi.sendRequest(request, parameters)\n      .then(response => response.getFirstRecord())\n  },\n  /**\n   * Get all records in Erply API\n   * @param {string} request\n   * @param {Object} parameters\n   * @returns {Promise<HTTP_Result>}\n   */\n  async all (request, parameters = {}) {\n    parameters.pageNo = 1\n\n    let status = {}\n    const records = []\n    let keepGoing = true\n\n    while (keepGoing) {\n      const response = await ErplyApi.sendRequest(request, parameters)\n      const object = await response.getResponseObject()\n\n      status = await object.status\n      await records.push.apply(records, object.records)\n\n      parameters.pageNo++\n\n      if (object.status.recordsTotal <= records.length || parseInt(object.status.recordsInResponse) === 0) {\n        keepGoing = false\n\n        return new HTTP_Result({ status, records })\n      }\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2VycGx5L2FwaS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcGkvZXJwbHkvYXBpLmpzPzc0ZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvbWlzaWZ5IH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJvbWlzZSdcbmltcG9ydCB7IEN1c3RvbUVycm9yIH0gZnJvbSAnLi4vLi4vdXRpbHMvY3VzdG9tLWVycm9yJ1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2xvY2FsaXphdGlvbidcblxuY2xhc3MgRXJwbHlBcGlFcnJvciBleHRlbmRzIEN1c3RvbUVycm9yIHtcbiAgY29uc3RydWN0b3IgKGNvZGUsIHN0YXR1cywgcGFyYW1ldGVycyA9IHt9KSB7XG4gICAgc3VwZXIoY29kZSlcblxuICAgIHRoaXMuY29kZSA9IHN0YXR1cy5lcnJvckNvZGVcbiAgICB0aGlzLmN0eCA9IHtcbiAgICAgIHN0YXR1cyxcbiAgICAgIHBhcmFtZXRlcnNcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgTmV0d29ya0Vycm9yIGV4dGVuZHMgRXJwbHlBcGlFcnJvciB7XG4gIGNvbnN0cnVjdG9yIChzdGF0dXMsIHBhcmFtZXRlcnMpIHtcbiAgICBzdXBlcih0KCdlcnBseS5hcGkubmV0d29yay5lcnJvcicpLCBzdGF0dXMsIHBhcmFtZXRlcnMpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEVycGx5QXBpID0ge1xuICAvKipcbiAgICogU2VuZHMgYSByZXF1ZXN0IHRvIEVycGx5IEFQSVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdFxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVyc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxIVFRQX1Jlc3VsdD59XG4gICAqL1xuICBhc3luYyBzZW5kUmVxdWVzdCAocmVxdWVzdCwgcGFyYW1ldGVycyA9IHt9KSB7XG4gICAgcGFyYW1ldGVycy5yZXF1ZXN0ID0gcmVxdWVzdFxuXG4gICAgcmV0dXJuIHByb21pc2lmeShFcnBseUFQSS5yZXF1ZXN0KHJlcXVlc3QsIHBhcmFtZXRlcnMpKVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UpXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKCFlcnIubmV0d29ya0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBOZXR3b3JrRXJyb3IoZXJyLmdldFJlc3BvbnNlT2JqZWN0KCkuc3RhdHVzLCBwYXJhbWV0ZXJzKSlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGVyci5nZXRSZXNwb25zZU9iamVjdCgpLnN0YXR1c1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJwbHlBcGlFcnJvcihzdGF0dXMuZXJyb3JDb2RlLCBzdGF0dXMsIHBhcmFtZXRlcnMpKVxuICAgICAgfSlcbiAgfSxcbiAgLyoqXG4gICAqIEZpbmQgdGhlIGZpcnN0IHJlY29yZCBpbiBFcnBseSBBUElcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnNcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn1cbiAgICovXG4gIGFzeW5jIGZpbmQgKHJlcXVlc3QsIHBhcmFtZXRlcnMgPSB7fSkge1xuICAgIHJldHVybiBFcnBseUFwaS5zZW5kUmVxdWVzdChyZXF1ZXN0LCBwYXJhbWV0ZXJzKVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuZ2V0Rmlyc3RSZWNvcmQoKSlcbiAgfSxcbiAgLyoqXG4gICAqIEdldCBhbGwgcmVjb3JkcyBpbiBFcnBseSBBUElcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnNcbiAgICogQHJldHVybnMge1Byb21pc2U8SFRUUF9SZXN1bHQ+fVxuICAgKi9cbiAgYXN5bmMgYWxsIChyZXF1ZXN0LCBwYXJhbWV0ZXJzID0ge30pIHtcbiAgICBwYXJhbWV0ZXJzLnBhZ2VObyA9IDFcblxuICAgIGxldCBzdGF0dXMgPSB7fVxuICAgIGNvbnN0IHJlY29yZHMgPSBbXVxuICAgIGxldCBrZWVwR29pbmcgPSB0cnVlXG5cbiAgICB3aGlsZSAoa2VlcEdvaW5nKSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEVycGx5QXBpLnNlbmRSZXF1ZXN0KHJlcXVlc3QsIHBhcmFtZXRlcnMpXG4gICAgICBjb25zdCBvYmplY3QgPSBhd2FpdCByZXNwb25zZS5nZXRSZXNwb25zZU9iamVjdCgpXG5cbiAgICAgIHN0YXR1cyA9IGF3YWl0IG9iamVjdC5zdGF0dXNcbiAgICAgIGF3YWl0IHJlY29yZHMucHVzaC5hcHBseShyZWNvcmRzLCBvYmplY3QucmVjb3JkcylcblxuICAgICAgcGFyYW1ldGVycy5wYWdlTm8rK1xuXG4gICAgICBpZiAob2JqZWN0LnN0YXR1cy5yZWNvcmRzVG90YWwgPD0gcmVjb3Jkcy5sZW5ndGggfHwgcGFyc2VJbnQob2JqZWN0LnN0YXR1cy5yZWNvcmRzSW5SZXNwb25zZSkgPT09IDApIHtcbiAgICAgICAga2VlcEdvaW5nID0gZmFsc2VcblxuICAgICAgICByZXR1cm4gbmV3IEhUVFBfUmVzdWx0KHsgc3RhdHVzLCByZWNvcmRzIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/erply/api.js\n");

/***/ }),

/***/ "./src/api/erply/orders.js":
/*!*********************************!*\
  !*** ./src/api/erply/orders.js ***!
  \*********************************/
/*! exports provided: Orders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Orders\", function() { return Orders; });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"./src/api/erply/api.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n\n\n\nconst Orders = {\n  MAX_RECORDS_PER_PAGE: 100,\n  /**\n   * Find a sales document by id\n   * @param {Number} id\n   * @param {Object} parameters\n   * @returns {Promise<Object>}\n   */\n  async find (id, parameters = {}) {\n    parameters.id = id\n    parameters.getCustomerInformation = 1\n    parameters.getRowsForAllInvoices = 1\n    parameters.nonReturnedItemsOnly = 1\n\n    const [order, invoicePaymentTypes] = await Promise.all([\n      _api__WEBPACK_IMPORTED_MODULE_0__[\"ErplyApi\"].find('getSalesDocuments', parameters),\n      _api__WEBPACK_IMPORTED_MODULE_0__[\"ErplyApi\"].all('getInvoicePaymentTypes').then(response => response.getRecords())\n    ])\n\n    const paymentInfo = invoicePaymentTypes.find(\n      paymentType => parseInt(paymentType.id) === parseInt(order.paymentTypeID)\n    )\n\n    order.paymentTypeInfo = paymentInfo\n\n    return order\n  },\n  /**\n   * Get sales documents\n   * @param {Object} parameters\n   * @returns {Promise<HTTP_Result>}\n   */\n  async get (parameters = {}) {\n    parameters.types = 'ORDER,CASHINVOICE'\n    parameters.getCustomerInformation = 1\n    parameters.getRowsForAllInvoices = 1\n    parameters.nonReturnedItemsOnly = 1\n\n    return _api__WEBPACK_IMPORTED_MODULE_0__[\"ErplyApi\"].sendRequest('getSalesDocuments', parameters)\n  },\n  /**\n   * Get all sales documents\n   * @param {Object} parameters\n   * @returns {Promise<HTTP_Result>}\n   */\n  async all (parameters = {}) {\n    parameters.types = 'ORDER,CASHINVOICE'\n    parameters.recordsOnPage = 100\n    parameters.getCustomerInformation = 1\n    parameters.getRowsForAllInvoices = 1\n    parameters.nonReturnedItemsOnly = 1\n\n    let [orders, paymentTypes] = await Promise.all([\n      _api__WEBPACK_IMPORTED_MODULE_0__[\"ErplyApi\"].all('getSalesDocuments', parameters),\n      _api__WEBPACK_IMPORTED_MODULE_0__[\"ErplyApi\"].all('getInvoicePaymentTypes').then(response => response.getRecords())\n    ])\n\n    paymentTypes = _.indexBy(paymentTypes, 'id')\n\n    orders.getRecords().forEach(order => {\n      order.paymentTypeInfo = paymentTypes[order.paymentTypeID] || undefined\n    })\n\n    return orders\n  },\n  /**\n   * Saves a sales document\n   * @param {Object} order\n   * @returns {Promise<HTTP_Result>}\n   */\n  async save (order) {\n    return _api__WEBPACK_IMPORTED_MODULE_0__[\"ErplyApi\"].sendRequest('saveSalesDocument', order)\n  },\n\n  /**\n   * Get orders that have been recently completed\n   * @param {Object} parameters\n   * @returns {Promise<Object[]>}\n   */\n  async getRecentOrders (parameters = {}) {\n    parameters.orderBy = 'lastChanged'\n    parameters.searchAttributeName0 = 'pickupProcessed'\n    parameters.searchAttributeValue0 = 1\n\n    let [orders, paymentTypes] = await Promise.all([\n      this.get(parameters).then(response => response.getRecords()),\n      _api__WEBPACK_IMPORTED_MODULE_0__[\"ErplyApi\"].all('getInvoicePaymentTypes').then(response => response.getRecords())\n    ])\n\n    paymentTypes = _.indexBy(paymentTypes, 'id')\n\n    orders.forEach(order => {\n      order.paymentTypeInfo = paymentTypes[order.paymentTypeID]\n    })\n\n    return orders\n  },\n\n  async updatePickupStatus (order, newStatus) {\n    let payload = {\n      id: order.id,\n      ignoreLocalSQL: true,\n      attributeName0: 'pickupStatus',\n      attributeType0: 'text',\n      attributeValue0: newStatus\n    }\n\n    if (\n      newStatus === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].CONFIRMED ||\n      newStatus === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].CANCELLED ||\n      newStatus === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].DELIVERED\n    ) {\n      payload = {\n        ...payload,\n        ...{\n          attributeName1: 'pickupProcessed',\n          attributeType1: 'int',\n          attributeValue1: 1\n        }\n      }\n    }\n\n    if (newStatus === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].CANCELLED && order.type === 'ORDER') {\n      payload.invoiceState = 'CANCELLED'\n    }\n\n    return Orders.save(payload)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2VycGx5L29yZGVycy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9hcGkvZXJwbHkvb3JkZXJzLmpzPzdjOWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXJwbHlBcGkgfSBmcm9tICcuL2FwaSdcbmltcG9ydCB7IFBpY2t1cFN0YXR1cyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9waWNrdXAtc3RhdHVzJ1xuXG5leHBvcnQgY29uc3QgT3JkZXJzID0ge1xuICBNQVhfUkVDT1JEU19QRVJfUEFHRTogMTAwLFxuICAvKipcbiAgICogRmluZCBhIHNhbGVzIGRvY3VtZW50IGJ5IGlkXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZFxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVyc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fVxuICAgKi9cbiAgYXN5bmMgZmluZCAoaWQsIHBhcmFtZXRlcnMgPSB7fSkge1xuICAgIHBhcmFtZXRlcnMuaWQgPSBpZFxuICAgIHBhcmFtZXRlcnMuZ2V0Q3VzdG9tZXJJbmZvcm1hdGlvbiA9IDFcbiAgICBwYXJhbWV0ZXJzLmdldFJvd3NGb3JBbGxJbnZvaWNlcyA9IDFcbiAgICBwYXJhbWV0ZXJzLm5vblJldHVybmVkSXRlbXNPbmx5ID0gMVxuXG4gICAgY29uc3QgW29yZGVyLCBpbnZvaWNlUGF5bWVudFR5cGVzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIEVycGx5QXBpLmZpbmQoJ2dldFNhbGVzRG9jdW1lbnRzJywgcGFyYW1ldGVycyksXG4gICAgICBFcnBseUFwaS5hbGwoJ2dldEludm9pY2VQYXltZW50VHlwZXMnKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmdldFJlY29yZHMoKSlcbiAgICBdKVxuXG4gICAgY29uc3QgcGF5bWVudEluZm8gPSBpbnZvaWNlUGF5bWVudFR5cGVzLmZpbmQoXG4gICAgICBwYXltZW50VHlwZSA9PiBwYXJzZUludChwYXltZW50VHlwZS5pZCkgPT09IHBhcnNlSW50KG9yZGVyLnBheW1lbnRUeXBlSUQpXG4gICAgKVxuXG4gICAgb3JkZXIucGF5bWVudFR5cGVJbmZvID0gcGF5bWVudEluZm9cblxuICAgIHJldHVybiBvcmRlclxuICB9LFxuICAvKipcbiAgICogR2V0IHNhbGVzIGRvY3VtZW50c1xuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVyc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxIVFRQX1Jlc3VsdD59XG4gICAqL1xuICBhc3luYyBnZXQgKHBhcmFtZXRlcnMgPSB7fSkge1xuICAgIHBhcmFtZXRlcnMudHlwZXMgPSAnT1JERVIsQ0FTSElOVk9JQ0UnXG4gICAgcGFyYW1ldGVycy5nZXRDdXN0b21lckluZm9ybWF0aW9uID0gMVxuICAgIHBhcmFtZXRlcnMuZ2V0Um93c0ZvckFsbEludm9pY2VzID0gMVxuICAgIHBhcmFtZXRlcnMubm9uUmV0dXJuZWRJdGVtc09ubHkgPSAxXG5cbiAgICByZXR1cm4gRXJwbHlBcGkuc2VuZFJlcXVlc3QoJ2dldFNhbGVzRG9jdW1lbnRzJywgcGFyYW1ldGVycylcbiAgfSxcbiAgLyoqXG4gICAqIEdldCBhbGwgc2FsZXMgZG9jdW1lbnRzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEhUVFBfUmVzdWx0Pn1cbiAgICovXG4gIGFzeW5jIGFsbCAocGFyYW1ldGVycyA9IHt9KSB7XG4gICAgcGFyYW1ldGVycy50eXBlcyA9ICdPUkRFUixDQVNISU5WT0lDRSdcbiAgICBwYXJhbWV0ZXJzLnJlY29yZHNPblBhZ2UgPSAxMDBcbiAgICBwYXJhbWV0ZXJzLmdldEN1c3RvbWVySW5mb3JtYXRpb24gPSAxXG4gICAgcGFyYW1ldGVycy5nZXRSb3dzRm9yQWxsSW52b2ljZXMgPSAxXG4gICAgcGFyYW1ldGVycy5ub25SZXR1cm5lZEl0ZW1zT25seSA9IDFcblxuICAgIGxldCBbb3JkZXJzLCBwYXltZW50VHlwZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgRXJwbHlBcGkuYWxsKCdnZXRTYWxlc0RvY3VtZW50cycsIHBhcmFtZXRlcnMpLFxuICAgICAgRXJwbHlBcGkuYWxsKCdnZXRJbnZvaWNlUGF5bWVudFR5cGVzJykudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5nZXRSZWNvcmRzKCkpXG4gICAgXSlcblxuICAgIHBheW1lbnRUeXBlcyA9IF8uaW5kZXhCeShwYXltZW50VHlwZXMsICdpZCcpXG5cbiAgICBvcmRlcnMuZ2V0UmVjb3JkcygpLmZvckVhY2gob3JkZXIgPT4ge1xuICAgICAgb3JkZXIucGF5bWVudFR5cGVJbmZvID0gcGF5bWVudFR5cGVzW29yZGVyLnBheW1lbnRUeXBlSURdIHx8IHVuZGVmaW5lZFxuICAgIH0pXG5cbiAgICByZXR1cm4gb3JkZXJzXG4gIH0sXG4gIC8qKlxuICAgKiBTYXZlcyBhIHNhbGVzIGRvY3VtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcmRlclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxIVFRQX1Jlc3VsdD59XG4gICAqL1xuICBhc3luYyBzYXZlIChvcmRlcikge1xuICAgIHJldHVybiBFcnBseUFwaS5zZW5kUmVxdWVzdCgnc2F2ZVNhbGVzRG9jdW1lbnQnLCBvcmRlcilcbiAgfSxcblxuICAvKipcbiAgICogR2V0IG9yZGVycyB0aGF0IGhhdmUgYmVlbiByZWNlbnRseSBjb21wbGV0ZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnNcbiAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0W10+fVxuICAgKi9cbiAgYXN5bmMgZ2V0UmVjZW50T3JkZXJzIChwYXJhbWV0ZXJzID0ge30pIHtcbiAgICBwYXJhbWV0ZXJzLm9yZGVyQnkgPSAnbGFzdENoYW5nZWQnXG4gICAgcGFyYW1ldGVycy5zZWFyY2hBdHRyaWJ1dGVOYW1lMCA9ICdwaWNrdXBQcm9jZXNzZWQnXG4gICAgcGFyYW1ldGVycy5zZWFyY2hBdHRyaWJ1dGVWYWx1ZTAgPSAxXG5cbiAgICBsZXQgW29yZGVycywgcGF5bWVudFR5cGVzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuZ2V0KHBhcmFtZXRlcnMpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuZ2V0UmVjb3JkcygpKSxcbiAgICAgIEVycGx5QXBpLmFsbCgnZ2V0SW52b2ljZVBheW1lbnRUeXBlcycpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuZ2V0UmVjb3JkcygpKVxuICAgIF0pXG5cbiAgICBwYXltZW50VHlwZXMgPSBfLmluZGV4QnkocGF5bWVudFR5cGVzLCAnaWQnKVxuXG4gICAgb3JkZXJzLmZvckVhY2gob3JkZXIgPT4ge1xuICAgICAgb3JkZXIucGF5bWVudFR5cGVJbmZvID0gcGF5bWVudFR5cGVzW29yZGVyLnBheW1lbnRUeXBlSURdXG4gICAgfSlcblxuICAgIHJldHVybiBvcmRlcnNcbiAgfSxcblxuICBhc3luYyB1cGRhdGVQaWNrdXBTdGF0dXMgKG9yZGVyLCBuZXdTdGF0dXMpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHtcbiAgICAgIGlkOiBvcmRlci5pZCxcbiAgICAgIGlnbm9yZUxvY2FsU1FMOiB0cnVlLFxuICAgICAgYXR0cmlidXRlTmFtZTA6ICdwaWNrdXBTdGF0dXMnLFxuICAgICAgYXR0cmlidXRlVHlwZTA6ICd0ZXh0JyxcbiAgICAgIGF0dHJpYnV0ZVZhbHVlMDogbmV3U3RhdHVzXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgbmV3U3RhdHVzID09PSBQaWNrdXBTdGF0dXMuQ09ORklSTUVEIHx8XG4gICAgICBuZXdTdGF0dXMgPT09IFBpY2t1cFN0YXR1cy5DQU5DRUxMRUQgfHxcbiAgICAgIG5ld1N0YXR1cyA9PT0gUGlja3VwU3RhdHVzLkRFTElWRVJFRFxuICAgICkge1xuICAgICAgcGF5bG9hZCA9IHtcbiAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgLi4ue1xuICAgICAgICAgIGF0dHJpYnV0ZU5hbWUxOiAncGlja3VwUHJvY2Vzc2VkJyxcbiAgICAgICAgICBhdHRyaWJ1dGVUeXBlMTogJ2ludCcsXG4gICAgICAgICAgYXR0cmlidXRlVmFsdWUxOiAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3U3RhdHVzID09PSBQaWNrdXBTdGF0dXMuQ0FOQ0VMTEVEICYmIG9yZGVyLnR5cGUgPT09ICdPUkRFUicpIHtcbiAgICAgIHBheWxvYWQuaW52b2ljZVN0YXRlID0gJ0NBTkNFTExFRCdcbiAgICB9XG5cbiAgICByZXR1cm4gT3JkZXJzLnNhdmUocGF5bG9hZClcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/erply/orders.js\n");

/***/ }),

/***/ "./src/api/erply/utils.js":
/*!********************************!*\
  !*** ./src/api/erply/utils.js ***!
  \********************************/
/*! exports provided: flatten, findAttributeIndex, changeAttributeValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flatten\", function() { return flatten; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findAttributeIndex\", function() { return findAttributeIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeAttributeValue\", function() { return changeAttributeValue; });\n/**\n * Converts array of objects to a flattened object that can be used when saving\n * things in erply api\n * @param {Object[]} arr\n */\nfunction flatten (arr) {\n  const result = {}\n\n  arr.forEach((value, index) => {\n    for (const key in value) {\n      if (value.hasOwnProperty(key)) {\n        result[`${key}${index}`] = value[key]\n      }\n    }\n  })\n\n  return result\n}\n\nfunction findAttributeIndex (name, record) {\n  if (!record.hasOwnProperty('attributes')) {\n    return -1\n  }\n\n  for (let i = 0; i < record.attributes.length; i++) {\n    if (record.attributes[i].attributeName === name) {\n      return i\n    }\n  }\n\n  return -1\n}\n\nfunction changeAttributeValue (name, value, record) {\n  const index = findAttributeIndex(name, record)\n\n  if (index !== -1) {\n    record.attributes[index].attributeValue = value\n  }\n\n  return record\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBpL2VycGx5L3V0aWxzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwaS9lcnBseS91dGlscy5qcz9mM2I2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYXJyYXkgb2Ygb2JqZWN0cyB0byBhIGZsYXR0ZW5lZCBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB3aGVuIHNhdmluZ1xuICogdGhpbmdzIGluIGVycGx5IGFwaVxuICogQHBhcmFtIHtPYmplY3RbXX0gYXJyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuIChhcnIpIHtcbiAgY29uc3QgcmVzdWx0ID0ge31cblxuICBhcnIuZm9yRWFjaCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtgJHtrZXl9JHtpbmRleH1gXSA9IHZhbHVlW2tleV1cbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZEF0dHJpYnV0ZUluZGV4IChuYW1lLCByZWNvcmQpIHtcbiAgaWYgKCFyZWNvcmQuaGFzT3duUHJvcGVydHkoJ2F0dHJpYnV0ZXMnKSkge1xuICAgIHJldHVybiAtMVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNvcmQuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChyZWNvcmQuYXR0cmlidXRlc1tpXS5hdHRyaWJ1dGVOYW1lID09PSBuYW1lKSB7XG4gICAgICByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlQXR0cmlidXRlVmFsdWUgKG5hbWUsIHZhbHVlLCByZWNvcmQpIHtcbiAgY29uc3QgaW5kZXggPSBmaW5kQXR0cmlidXRlSW5kZXgobmFtZSwgcmVjb3JkKVxuXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICByZWNvcmQuYXR0cmlidXRlc1tpbmRleF0uYXR0cmlidXRlVmFsdWUgPSB2YWx1ZVxuICB9XG5cbiAgcmV0dXJuIHJlY29yZFxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/erply/utils.js\n");

/***/ }),

/***/ "./src/components/notification-button.js":
/*!***********************************************!*\
  !*** ./src/components/notification-button.js ***!
  \***********************************************/
/*! exports provided: NotificationButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NotificationButton\", function() { return NotificationButton; });\n/* harmony import */ var _utils_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/view */ \"./src/utils/view.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n/* harmony import */ var _constants_templates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/templates */ \"./src/constants/templates.js\");\n\n\n\n\nclass NotificationButton {\n  constructor(store) {\n    this.store = store;\n    this.html = $(`\n      <li>\n        <span class=\"sync pointer\" id=\"onm-notification-button-container\" style=\"top: 8px;\">\n          <span class=\"btn-badge\" style=\"top: 10px; left: 12px; z-index: 1\">0</span>\n          <span class=\"navbar-icon icon_bag_alt text-24px flip-horizontal\" id=\"onm-notification-button\"></span>\n        </span>\n      </li>\n    `);\n\n    TSPOS.EventManager.addEventListener(\n      \"onm_after_orders_update\",\n      this.render.bind(this)\n    );\n  }\n\n  render() {\n    const state = this.store.getState();\n\n    const unpickedOrders = state.unprocessedOrders.orders.filter(\n      order => order.getAttributeValue(\"pickupStatus\") === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].NEW\n    );\n\n    this.html.find(\"#onm-notification-button-container\").off(\"click\");\n\n    if (unpickedOrders.length > 0) {\n      this.html.find(\"#onm-notification-button\").css(\"color\", \"red\");\n    } else {\n      this.html.find(\"#onm-notification-button\").css(\"color\", \"white\");\n    }\n\n    this.html\n      .find(\"#onm-notification-button-container .btn-badge\")\n      .text(state.unprocessedOrders.orders.length);\n    this.html\n      .find(\"#onm-notification-button-container\")\n      .on(\"click\", () => this.handleClick());\n\n    return this.html;\n  }\n\n  handleClick() {\n    const settingsButton = $(\".app-header-nav li > a.icon_cog.active\");\n\n    if (settingsButton.length !== 0) {\n      // If the settings view is currently open, transition to index before\n      // opening a custom view, otherwise POS will display a white page later\n      window._ErplyTransitionTo(\"index\").then(() => {\n        Object(_utils_view__WEBPACK_IMPORTED_MODULE_0__[\"renderStoredView\"])({\n          viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_2__[\"UNPROCESSED_ORDERS_LIST\"],\n          dismiss: true,\n          modal: false\n        });\n      });\n    } else {\n      Object(_utils_view__WEBPACK_IMPORTED_MODULE_0__[\"renderStoredView\"])({\n        viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_2__[\"UNPROCESSED_ORDERS_LIST\"],\n        dismiss: true,\n        modal: false\n      });\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9ub3RpZmljYXRpb24tYnV0dG9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm90aWZpY2F0aW9uLWJ1dHRvbi5qcz80YmJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlclN0b3JlZFZpZXcgfSBmcm9tIFwiLi4vdXRpbHMvdmlld1wiO1xuaW1wb3J0IHsgUGlja3VwU3RhdHVzIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9waWNrdXAtc3RhdHVzXCI7XG5pbXBvcnQgeyBVTlBST0NFU1NFRF9PUkRFUlNfTElTVCB9IGZyb20gXCIuLi9jb25zdGFudHMvdGVtcGxhdGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25CdXR0b24ge1xuICBjb25zdHJ1Y3RvcihzdG9yZSkge1xuICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLmh0bWwgPSAkKGBcbiAgICAgIDxsaT5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzeW5jIHBvaW50ZXJcIiBpZD1cIm9ubS1ub3RpZmljYXRpb24tYnV0dG9uLWNvbnRhaW5lclwiIHN0eWxlPVwidG9wOiA4cHg7XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJidG4tYmFkZ2VcIiBzdHlsZT1cInRvcDogMTBweDsgbGVmdDogMTJweDsgei1pbmRleDogMVwiPjA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJuYXZiYXItaWNvbiBpY29uX2JhZ19hbHQgdGV4dC0yNHB4IGZsaXAtaG9yaXpvbnRhbFwiIGlkPVwib25tLW5vdGlmaWNhdGlvbi1idXR0b25cIj48L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvbGk+XG4gICAgYCk7XG5cbiAgICBUU1BPUy5FdmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwib25tX2FmdGVyX29yZGVyc191cGRhdGVcIixcbiAgICAgIHRoaXMucmVuZGVyLmJpbmQodGhpcylcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuXG4gICAgY29uc3QgdW5waWNrZWRPcmRlcnMgPSBzdGF0ZS51bnByb2Nlc3NlZE9yZGVycy5vcmRlcnMuZmlsdGVyKFxuICAgICAgb3JkZXIgPT4gb3JkZXIuZ2V0QXR0cmlidXRlVmFsdWUoXCJwaWNrdXBTdGF0dXNcIikgPT09IFBpY2t1cFN0YXR1cy5ORVdcbiAgICApO1xuXG4gICAgdGhpcy5odG1sLmZpbmQoXCIjb25tLW5vdGlmaWNhdGlvbi1idXR0b24tY29udGFpbmVyXCIpLm9mZihcImNsaWNrXCIpO1xuXG4gICAgaWYgKHVucGlja2VkT3JkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuaHRtbC5maW5kKFwiI29ubS1ub3RpZmljYXRpb24tYnV0dG9uXCIpLmNzcyhcImNvbG9yXCIsIFwicmVkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmh0bWwuZmluZChcIiNvbm0tbm90aWZpY2F0aW9uLWJ1dHRvblwiKS5jc3MoXCJjb2xvclwiLCBcIndoaXRlXCIpO1xuICAgIH1cblxuICAgIHRoaXMuaHRtbFxuICAgICAgLmZpbmQoXCIjb25tLW5vdGlmaWNhdGlvbi1idXR0b24tY29udGFpbmVyIC5idG4tYmFkZ2VcIilcbiAgICAgIC50ZXh0KHN0YXRlLnVucHJvY2Vzc2VkT3JkZXJzLm9yZGVycy5sZW5ndGgpO1xuICAgIHRoaXMuaHRtbFxuICAgICAgLmZpbmQoXCIjb25tLW5vdGlmaWNhdGlvbi1idXR0b24tY29udGFpbmVyXCIpXG4gICAgICAub24oXCJjbGlja1wiLCAoKSA9PiB0aGlzLmhhbmRsZUNsaWNrKCkpO1xuXG4gICAgcmV0dXJuIHRoaXMuaHRtbDtcbiAgfVxuXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIGNvbnN0IHNldHRpbmdzQnV0dG9uID0gJChcIi5hcHAtaGVhZGVyLW5hdiBsaSA+IGEuaWNvbl9jb2cuYWN0aXZlXCIpO1xuXG4gICAgaWYgKHNldHRpbmdzQnV0dG9uLmxlbmd0aCAhPT0gMCkge1xuICAgICAgLy8gSWYgdGhlIHNldHRpbmdzIHZpZXcgaXMgY3VycmVudGx5IG9wZW4sIHRyYW5zaXRpb24gdG8gaW5kZXggYmVmb3JlXG4gICAgICAvLyBvcGVuaW5nIGEgY3VzdG9tIHZpZXcsIG90aGVyd2lzZSBQT1Mgd2lsbCBkaXNwbGF5IGEgd2hpdGUgcGFnZSBsYXRlclxuICAgICAgd2luZG93Ll9FcnBseVRyYW5zaXRpb25UbyhcImluZGV4XCIpLnRoZW4oKCkgPT4ge1xuICAgICAgICByZW5kZXJTdG9yZWRWaWV3KHtcbiAgICAgICAgICB2aWV3VHlwZTogVU5QUk9DRVNTRURfT1JERVJTX0xJU1QsXG4gICAgICAgICAgZGlzbWlzczogdHJ1ZSxcbiAgICAgICAgICBtb2RhbDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyU3RvcmVkVmlldyh7XG4gICAgICAgIHZpZXdUeXBlOiBVTlBST0NFU1NFRF9PUkRFUlNfTElTVCxcbiAgICAgICAgZGlzbWlzczogdHJ1ZSxcbiAgICAgICAgbW9kYWw6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/notification-button.js\n");

/***/ }),

/***/ "./src/constants/pickup-status.js":
/*!****************************************!*\
  !*** ./src/constants/pickup-status.js ***!
  \****************************************/
/*! exports provided: PickupStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PickupStatus\", function() { return PickupStatus; });\nconst PickupStatus = Object.freeze({\n  NEW: 'NEW',\n  PICKING: 'PICKING',\n  PICKED: 'PICKED',\n  CONFIRMED: 'CONFIRMED',\n  DELIVERED: 'DELIVERED',\n  CANCELLED: 'CANCELLED'\n})\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnRzL3BpY2t1cC1zdGF0dXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzL3BpY2t1cC1zdGF0dXMuanM/ODhjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgUGlja3VwU3RhdHVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIE5FVzogJ05FVycsXG4gIFBJQ0tJTkc6ICdQSUNLSU5HJyxcbiAgUElDS0VEOiAnUElDS0VEJyxcbiAgQ09ORklSTUVEOiAnQ09ORklSTUVEJyxcbiAgREVMSVZFUkVEOiAnREVMSVZFUkVEJyxcbiAgQ0FOQ0VMTEVEOiAnQ0FOQ0VMTEVEJ1xufSlcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/constants/pickup-status.js\n");

/***/ }),

/***/ "./src/constants/templates.js":
/*!************************************!*\
  !*** ./src/constants/templates.js ***!
  \************************************/
/*! exports provided: UNPROCESSED_ORDERS_LIST, VIEW_UNPROCESSED_ORDER, PICKING_CONFIRMATION, EDIT_UNPROCESSED_ORDER, VIEW_FINISHED_ORDER, FINISHED_ORDERS_LIST */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UNPROCESSED_ORDERS_LIST\", function() { return UNPROCESSED_ORDERS_LIST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VIEW_UNPROCESSED_ORDER\", function() { return VIEW_UNPROCESSED_ORDER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PICKING_CONFIRMATION\", function() { return PICKING_CONFIRMATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EDIT_UNPROCESSED_ORDER\", function() { return EDIT_UNPROCESSED_ORDER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VIEW_FINISHED_ORDER\", function() { return VIEW_FINISHED_ORDER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FINISHED_ORDERS_LIST\", function() { return FINISHED_ORDERS_LIST; });\nconst UNPROCESSED_ORDERS_LIST = 'onm-unprocessed-orders-list'\nconst VIEW_UNPROCESSED_ORDER = 'onm-view-unprocessed-order'\nconst PICKING_CONFIRMATION = 'onm-picking-confirmation'\nconst EDIT_UNPROCESSED_ORDER = 'onm-edit-unprocessed-order'\nconst VIEW_FINISHED_ORDER = 'onm-view-finished-order'\nconst FINISHED_ORDERS_LIST = 'onm-finished-orders-list'\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29uc3RhbnRzL3RlbXBsYXRlcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvdGVtcGxhdGVzLmpzPzU1ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFVOUFJPQ0VTU0VEX09SREVSU19MSVNUID0gJ29ubS11bnByb2Nlc3NlZC1vcmRlcnMtbGlzdCdcbmV4cG9ydCBjb25zdCBWSUVXX1VOUFJPQ0VTU0VEX09SREVSID0gJ29ubS12aWV3LXVucHJvY2Vzc2VkLW9yZGVyJ1xuZXhwb3J0IGNvbnN0IFBJQ0tJTkdfQ09ORklSTUFUSU9OID0gJ29ubS1waWNraW5nLWNvbmZpcm1hdGlvbidcbmV4cG9ydCBjb25zdCBFRElUX1VOUFJPQ0VTU0VEX09SREVSID0gJ29ubS1lZGl0LXVucHJvY2Vzc2VkLW9yZGVyJ1xuZXhwb3J0IGNvbnN0IFZJRVdfRklOSVNIRURfT1JERVIgPSAnb25tLXZpZXctZmluaXNoZWQtb3JkZXInXG5leHBvcnQgY29uc3QgRklOSVNIRURfT1JERVJTX0xJU1QgPSAnb25tLWZpbmlzaGVkLW9yZGVycy1saXN0J1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/constants/templates.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var stupid_table_plugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! stupid-table-plugin */ \"./node_modules/stupid-table-plugin/stupidtable.js\");\n/* harmony import */ var stupid_table_plugin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(stupid_table_plugin__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_notification_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/notification-button */ \"./src/components/notification-button.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store */ \"./src/store/index.js\");\n/* harmony import */ var _updater__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./updater */ \"./src/updater.js\");\n/* harmony import */ var _views_unprocessed_orders_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./views/unprocessed-orders/list */ \"./src/views/unprocessed-orders/list.js\");\n/* harmony import */ var _views_unprocessed_orders_view_order__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./views/unprocessed-orders/view-order */ \"./src/views/unprocessed-orders/view-order.js\");\n/* harmony import */ var _views_unprocessed_orders_picking_confirmation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./views/unprocessed-orders/picking-confirmation */ \"./src/views/unprocessed-orders/picking-confirmation.js\");\n/* harmony import */ var _views_unprocessed_orders_edit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./views/unprocessed-orders/edit */ \"./src/views/unprocessed-orders/edit.js\");\n/* harmony import */ var _pos_events_document_return_save_action__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pos-events/document-return-save-action */ \"./src/pos-events/document-return-save-action.js\");\n/* harmony import */ var _pos_events_before_document_save__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pos-events/before-document-save */ \"./src/pos-events/before-document-save.js\");\n/* harmony import */ var _pos_events_after_document_save__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pos-events/after-document-save */ \"./src/pos-events/after-document-save.js\");\n/* harmony import */ var _pos_events_view_loaded__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pos-events/view-loaded */ \"./src/pos-events/view-loaded.js\");\n/* harmony import */ var _constants_templates__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./constants/templates */ \"./src/constants/templates.js\");\n/* harmony import */ var _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./actions/unprocessed-orders */ \"./src/actions/unprocessed-orders.js\");\n/* harmony import */ var _orders_delivery_type__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./orders/delivery-type */ \"./src/orders/delivery-type.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// global variable\nwindow.onm = {\n  views: {},\n  currentDocument: null,\n  cashInvoiceReturn: {\n    document: null,\n    returnDocument: null\n  }\n}\n\nregisterViews()\n\nfunction registerViews () {\n  window.onm.views[_constants_templates__WEBPACK_IMPORTED_MODULE_12__[\"UNPROCESSED_ORDERS_LIST\"]] = new _views_unprocessed_orders_list__WEBPACK_IMPORTED_MODULE_4__[\"UnprocessedOrdersList\"](_store__WEBPACK_IMPORTED_MODULE_2__[\"store\"])\n  window.onm.views[_constants_templates__WEBPACK_IMPORTED_MODULE_12__[\"VIEW_UNPROCESSED_ORDER\"]] = new _views_unprocessed_orders_view_order__WEBPACK_IMPORTED_MODULE_5__[\"ViewUnprocessedOrder\"](_store__WEBPACK_IMPORTED_MODULE_2__[\"store\"])\n  window.onm.views[_constants_templates__WEBPACK_IMPORTED_MODULE_12__[\"PICKING_CONFIRMATION\"]] = new _views_unprocessed_orders_picking_confirmation__WEBPACK_IMPORTED_MODULE_6__[\"PickingConfirmation\"](_store__WEBPACK_IMPORTED_MODULE_2__[\"store\"])\n  window.onm.views[_constants_templates__WEBPACK_IMPORTED_MODULE_12__[\"EDIT_UNPROCESSED_ORDER\"]] = new _views_unprocessed_orders_edit__WEBPACK_IMPORTED_MODULE_7__[\"EditUnprocessedOrder\"](_store__WEBPACK_IMPORTED_MODULE_2__[\"store\"])\n}\n\nTSPOS.EventManager.addEventListener('before_document_save', _pos_events_before_document_save__WEBPACK_IMPORTED_MODULE_9__[\"onBeforeDocumentSave\"])\nTSPOS.EventManager.addEventListener('after_document_save', _pos_events_after_document_save__WEBPACK_IMPORTED_MODULE_10__[\"onAfterDocumentSave\"])\nTSPOS.EventManager.addEventListener('document_return_save_action', _pos_events_document_return_save_action__WEBPACK_IMPORTED_MODULE_8__[\"onDocumentReturnSaveAction\"])\nTSPOS.EventManager.addEventListener('view_loaded', _pos_events_view_loaded__WEBPACK_IMPORTED_MODULE_11__[\"onViewLoaded\"])\nTSPOS.EventManager.addEventListener('onm_after_order_status_update', ({ order, status }) => {\n  _store__WEBPACK_IMPORTED_MODULE_2__[\"store\"].dispatch(Object(_actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_13__[\"updateOrderStatus\"])(order.id, status))\n\n  TSPOS.EventManager.runEventListener('onm_after_orders_update', {\n    orders: _store__WEBPACK_IMPORTED_MODULE_2__[\"store\"].getState().unprocessedOrders.orders\n  })\n})\n\n$(() => {\n  if ($('.app-header-nav #onm-notification-button-container').length === 0) {\n    $('.app-header-nav').prepend(new _components_notification_button__WEBPACK_IMPORTED_MODULE_1__[\"NotificationButton\"](_store__WEBPACK_IMPORTED_MODULE_2__[\"store\"]).render())\n  }\n\n  // Disable pre-payments for orders\n  const targetNode = document.querySelector('#payment-modal .payment-change-label + span.pull-right')\n  const observer = new MutationObserver(mutations => {\n    mutations.forEach(mutation => {\n      if (parseFloat(mutation.target.innerText) < 0 && Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_14__[\"isOnmOrder\"])(TSPOS.Model.Document)) {\n        $('button[data-action=\"payment-confirm\"]').addClass('disabled')\n      } else if (parseFloat(mutation.target.innerText) >= 0 && Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_14__[\"isOnmOrder\"])(TSPOS.Model.Document)) {\n        $('button[data-action=\"payment-confirm\"]').removeClass('disabled')\n      }\n    })\n  })\n\n  observer.observe(targetNode, { childList: true })\n})\n\nconst updater = new _updater__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_store__WEBPACK_IMPORTED_MODULE_2__[\"store\"])\n\nupdater.check(60000)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ3N0dXBpZC10YWJsZS1wbHVnaW4nXG5cbmltcG9ydCB7IE5vdGlmaWNhdGlvbkJ1dHRvbiB9IGZyb20gJy4vY29tcG9uZW50cy9ub3RpZmljYXRpb24tYnV0dG9uJ1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuL3N0b3JlJ1xuaW1wb3J0IFVwZGF0ZXIgZnJvbSAnLi91cGRhdGVyJ1xuaW1wb3J0IHsgVW5wcm9jZXNzZWRPcmRlcnNMaXN0IH0gZnJvbSAnLi92aWV3cy91bnByb2Nlc3NlZC1vcmRlcnMvbGlzdCdcbmltcG9ydCB7IFZpZXdVbnByb2Nlc3NlZE9yZGVyIH0gZnJvbSAnLi92aWV3cy91bnByb2Nlc3NlZC1vcmRlcnMvdmlldy1vcmRlcidcbmltcG9ydCB7IFBpY2tpbmdDb25maXJtYXRpb24gfSBmcm9tICcuL3ZpZXdzL3VucHJvY2Vzc2VkLW9yZGVycy9waWNraW5nLWNvbmZpcm1hdGlvbidcbmltcG9ydCB7IEVkaXRVbnByb2Nlc3NlZE9yZGVyIH0gZnJvbSAnLi92aWV3cy91bnByb2Nlc3NlZC1vcmRlcnMvZWRpdCdcbmltcG9ydCB7IG9uRG9jdW1lbnRSZXR1cm5TYXZlQWN0aW9uIH0gZnJvbSAnLi9wb3MtZXZlbnRzL2RvY3VtZW50LXJldHVybi1zYXZlLWFjdGlvbidcbmltcG9ydCB7IG9uQmVmb3JlRG9jdW1lbnRTYXZlIH0gZnJvbSAnLi9wb3MtZXZlbnRzL2JlZm9yZS1kb2N1bWVudC1zYXZlJ1xuaW1wb3J0IHsgb25BZnRlckRvY3VtZW50U2F2ZSB9IGZyb20gJy4vcG9zLWV2ZW50cy9hZnRlci1kb2N1bWVudC1zYXZlJ1xuaW1wb3J0IHsgb25WaWV3TG9hZGVkIH0gZnJvbSAnLi9wb3MtZXZlbnRzL3ZpZXctbG9hZGVkJ1xuaW1wb3J0IHtcbiAgVU5QUk9DRVNTRURfT1JERVJTX0xJU1QsXG4gIFZJRVdfVU5QUk9DRVNTRURfT1JERVIsXG4gIFBJQ0tJTkdfQ09ORklSTUFUSU9OLFxuICBFRElUX1VOUFJPQ0VTU0VEX09SREVSXG59IGZyb20gJy4vY29uc3RhbnRzL3RlbXBsYXRlcydcbmltcG9ydCB7IHVwZGF0ZU9yZGVyU3RhdHVzIH0gZnJvbSAnLi9hY3Rpb25zL3VucHJvY2Vzc2VkLW9yZGVycydcbmltcG9ydCB7IGlzT25tT3JkZXIgfSBmcm9tICcuL29yZGVycy9kZWxpdmVyeS10eXBlJ1xuXG4vLyBnbG9iYWwgdmFyaWFibGVcbndpbmRvdy5vbm0gPSB7XG4gIHZpZXdzOiB7fSxcbiAgY3VycmVudERvY3VtZW50OiBudWxsLFxuICBjYXNoSW52b2ljZVJldHVybjoge1xuICAgIGRvY3VtZW50OiBudWxsLFxuICAgIHJldHVybkRvY3VtZW50OiBudWxsXG4gIH1cbn1cblxucmVnaXN0ZXJWaWV3cygpXG5cbmZ1bmN0aW9uIHJlZ2lzdGVyVmlld3MgKCkge1xuICB3aW5kb3cub25tLnZpZXdzW1VOUFJPQ0VTU0VEX09SREVSU19MSVNUXSA9IG5ldyBVbnByb2Nlc3NlZE9yZGVyc0xpc3Qoc3RvcmUpXG4gIHdpbmRvdy5vbm0udmlld3NbVklFV19VTlBST0NFU1NFRF9PUkRFUl0gPSBuZXcgVmlld1VucHJvY2Vzc2VkT3JkZXIoc3RvcmUpXG4gIHdpbmRvdy5vbm0udmlld3NbUElDS0lOR19DT05GSVJNQVRJT05dID0gbmV3IFBpY2tpbmdDb25maXJtYXRpb24oc3RvcmUpXG4gIHdpbmRvdy5vbm0udmlld3NbRURJVF9VTlBST0NFU1NFRF9PUkRFUl0gPSBuZXcgRWRpdFVucHJvY2Vzc2VkT3JkZXIoc3RvcmUpXG59XG5cblRTUE9TLkV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmVfZG9jdW1lbnRfc2F2ZScsIG9uQmVmb3JlRG9jdW1lbnRTYXZlKVxuVFNQT1MuRXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2FmdGVyX2RvY3VtZW50X3NhdmUnLCBvbkFmdGVyRG9jdW1lbnRTYXZlKVxuVFNQT1MuRXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2RvY3VtZW50X3JldHVybl9zYXZlX2FjdGlvbicsIG9uRG9jdW1lbnRSZXR1cm5TYXZlQWN0aW9uKVxuVFNQT1MuRXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ3ZpZXdfbG9hZGVkJywgb25WaWV3TG9hZGVkKVxuVFNQT1MuRXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ29ubV9hZnRlcl9vcmRlcl9zdGF0dXNfdXBkYXRlJywgKHsgb3JkZXIsIHN0YXR1cyB9KSA9PiB7XG4gIHN0b3JlLmRpc3BhdGNoKHVwZGF0ZU9yZGVyU3RhdHVzKG9yZGVyLmlkLCBzdGF0dXMpKVxuXG4gIFRTUE9TLkV2ZW50TWFuYWdlci5ydW5FdmVudExpc3RlbmVyKCdvbm1fYWZ0ZXJfb3JkZXJzX3VwZGF0ZScsIHtcbiAgICBvcmRlcnM6IHN0b3JlLmdldFN0YXRlKCkudW5wcm9jZXNzZWRPcmRlcnMub3JkZXJzXG4gIH0pXG59KVxuXG4kKCgpID0+IHtcbiAgaWYgKCQoJy5hcHAtaGVhZGVyLW5hdiAjb25tLW5vdGlmaWNhdGlvbi1idXR0b24tY29udGFpbmVyJykubGVuZ3RoID09PSAwKSB7XG4gICAgJCgnLmFwcC1oZWFkZXItbmF2JykucHJlcGVuZChuZXcgTm90aWZpY2F0aW9uQnV0dG9uKHN0b3JlKS5yZW5kZXIoKSlcbiAgfVxuXG4gIC8vIERpc2FibGUgcHJlLXBheW1lbnRzIGZvciBvcmRlcnNcbiAgY29uc3QgdGFyZ2V0Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYXltZW50LW1vZGFsIC5wYXltZW50LWNoYW5nZS1sYWJlbCArIHNwYW4ucHVsbC1yaWdodCcpXG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zID0+IHtcbiAgICBtdXRhdGlvbnMuZm9yRWFjaChtdXRhdGlvbiA9PiB7XG4gICAgICBpZiAocGFyc2VGbG9hdChtdXRhdGlvbi50YXJnZXQuaW5uZXJUZXh0KSA8IDAgJiYgaXNPbm1PcmRlcihUU1BPUy5Nb2RlbC5Eb2N1bWVudCkpIHtcbiAgICAgICAgJCgnYnV0dG9uW2RhdGEtYWN0aW9uPVwicGF5bWVudC1jb25maXJtXCJdJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJylcbiAgICAgIH0gZWxzZSBpZiAocGFyc2VGbG9hdChtdXRhdGlvbi50YXJnZXQuaW5uZXJUZXh0KSA+PSAwICYmIGlzT25tT3JkZXIoVFNQT1MuTW9kZWwuRG9jdW1lbnQpKSB7XG4gICAgICAgICQoJ2J1dHRvbltkYXRhLWFjdGlvbj1cInBheW1lbnQtY29uZmlybVwiXScpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldE5vZGUsIHsgY2hpbGRMaXN0OiB0cnVlIH0pXG59KVxuXG5jb25zdCB1cGRhdGVyID0gbmV3IFVwZGF0ZXIoc3RvcmUpXG5cbnVwZGF0ZXIuY2hlY2soNjAwMDApXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/localization/index.js":
/*!***********************************!*\
  !*** ./src/localization/index.js ***!
  \***********************************/
/*! exports provided: t, getPickupStatusKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"t\", function() { return t; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPickupStatusKey\", function() { return getPickupStatusKey; });\n/* harmony import */ var _locales_fr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../locales/fr */ \"./locales/fr.json\");\nvar _locales_fr__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../locales/fr */ \"./locales/fr.json\", 1);\n/* harmony import */ var _locales_en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../locales/en */ \"./locales/en.json\");\nvar _locales_en__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../locales/en */ \"./locales/en.json\", 1);\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n\n\n\n\nconst localizations = {\n  en: _locales_en__WEBPACK_IMPORTED_MODULE_1__,\n  fr: _locales_fr__WEBPACK_IMPORTED_MODULE_0__\n}\n\nconst erplyPosLanguageCodeMap = {\n  eng: 'en',\n  lat: 'fr'\n}\n\nfunction erplyLanguageCodeToPos (code) {\n  return erplyPosLanguageCodeMap[code] || undefined\n}\n\n/**\n * Translates text to current locale\n * @param {string} text\n * @returns {string}\n */\nfunction t (key, data = {}) {\n  const defaultLanguage = erplyLanguageCodeToPos(TSPOS.Model.Config.data.default_language) || 'en'\n  let locale = TSPOS.Model.POS.getCurrentLanguage() || defaultLanguage\n\n  if (!localizations.hasOwnProperty(locale)) {\n    locale = 'en'\n  }\n\n  return substitute(localizations[locale][key] || localizations['en'][key] || key, data)\n}\n\nfunction getPickupStatusKey (pickupStatus) {\n  switch (pickupStatus) {\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__[\"PickupStatus\"].NEW:\n      return 'order.pickup.status.new'\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__[\"PickupStatus\"].PICKING:\n      return 'order.pickup.status.picking'\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__[\"PickupStatus\"].PICKED:\n      return 'order.pickup.status.picked'\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__[\"PickupStatus\"].CONFIRMED:\n      return 'order.pickup.status.confirmed'\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__[\"PickupStatus\"].DELIVERED:\n      return 'order.pickup.status.delivered'\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__[\"PickupStatus\"].CANCELLED:\n      return 'order.pickup.status.cancelled'\n    default:\n      return ''\n  }\n}\n\nfunction substitute (str, data) {\n  if (Object.keys(data).length === 0) {\n    return str\n  }\n\n  return str.replace(/({([^}]+)})/g, i => {\n    const key = i.replace(/{/, '').replace(/}/, '')\n\n    return data[key] || ''\n  })\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbG9jYWxpemF0aW9uL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xvY2FsaXphdGlvbi9pbmRleC5qcz9mZDBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcmVuY2ggZnJvbSAnLi4vLi4vbG9jYWxlcy9mcidcbmltcG9ydCBlbmdsaXNoIGZyb20gJy4uLy4uL2xvY2FsZXMvZW4nXG5pbXBvcnQgeyBQaWNrdXBTdGF0dXMgfSBmcm9tICcuLi9jb25zdGFudHMvcGlja3VwLXN0YXR1cydcblxuY29uc3QgbG9jYWxpemF0aW9ucyA9IHtcbiAgZW46IGVuZ2xpc2gsXG4gIGZyOiBmcmVuY2hcbn1cblxuY29uc3QgZXJwbHlQb3NMYW5ndWFnZUNvZGVNYXAgPSB7XG4gIGVuZzogJ2VuJyxcbiAgbGF0OiAnZnInXG59XG5cbmZ1bmN0aW9uIGVycGx5TGFuZ3VhZ2VDb2RlVG9Qb3MgKGNvZGUpIHtcbiAgcmV0dXJuIGVycGx5UG9zTGFuZ3VhZ2VDb2RlTWFwW2NvZGVdIHx8IHVuZGVmaW5lZFxufVxuXG4vKipcbiAqIFRyYW5zbGF0ZXMgdGV4dCB0byBjdXJyZW50IGxvY2FsZVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0IChrZXksIGRhdGEgPSB7fSkge1xuICBjb25zdCBkZWZhdWx0TGFuZ3VhZ2UgPSBlcnBseUxhbmd1YWdlQ29kZVRvUG9zKFRTUE9TLk1vZGVsLkNvbmZpZy5kYXRhLmRlZmF1bHRfbGFuZ3VhZ2UpIHx8ICdlbidcbiAgbGV0IGxvY2FsZSA9IFRTUE9TLk1vZGVsLlBPUy5nZXRDdXJyZW50TGFuZ3VhZ2UoKSB8fCBkZWZhdWx0TGFuZ3VhZ2VcblxuICBpZiAoIWxvY2FsaXphdGlvbnMuaGFzT3duUHJvcGVydHkobG9jYWxlKSkge1xuICAgIGxvY2FsZSA9ICdlbidcbiAgfVxuXG4gIHJldHVybiBzdWJzdGl0dXRlKGxvY2FsaXphdGlvbnNbbG9jYWxlXVtrZXldIHx8IGxvY2FsaXphdGlvbnNbJ2VuJ11ba2V5XSB8fCBrZXksIGRhdGEpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaWNrdXBTdGF0dXNLZXkgKHBpY2t1cFN0YXR1cykge1xuICBzd2l0Y2ggKHBpY2t1cFN0YXR1cykge1xuICAgIGNhc2UgUGlja3VwU3RhdHVzLk5FVzpcbiAgICAgIHJldHVybiAnb3JkZXIucGlja3VwLnN0YXR1cy5uZXcnXG4gICAgY2FzZSBQaWNrdXBTdGF0dXMuUElDS0lORzpcbiAgICAgIHJldHVybiAnb3JkZXIucGlja3VwLnN0YXR1cy5waWNraW5nJ1xuICAgIGNhc2UgUGlja3VwU3RhdHVzLlBJQ0tFRDpcbiAgICAgIHJldHVybiAnb3JkZXIucGlja3VwLnN0YXR1cy5waWNrZWQnXG4gICAgY2FzZSBQaWNrdXBTdGF0dXMuQ09ORklSTUVEOlxuICAgICAgcmV0dXJuICdvcmRlci5waWNrdXAuc3RhdHVzLmNvbmZpcm1lZCdcbiAgICBjYXNlIFBpY2t1cFN0YXR1cy5ERUxJVkVSRUQ6XG4gICAgICByZXR1cm4gJ29yZGVyLnBpY2t1cC5zdGF0dXMuZGVsaXZlcmVkJ1xuICAgIGNhc2UgUGlja3VwU3RhdHVzLkNBTkNFTExFRDpcbiAgICAgIHJldHVybiAnb3JkZXIucGlja3VwLnN0YXR1cy5jYW5jZWxsZWQnXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJ1xuICB9XG59XG5cbmZ1bmN0aW9uIHN1YnN0aXR1dGUgKHN0ciwgZGF0YSkge1xuICBpZiAoT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHN0clxuICB9XG5cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oeyhbXn1dKyl9KS9nLCBpID0+IHtcbiAgICBjb25zdCBrZXkgPSBpLnJlcGxhY2UoL3svLCAnJykucmVwbGFjZSgvfS8sICcnKVxuXG4gICAgcmV0dXJuIGRhdGFba2V5XSB8fCAnJ1xuICB9KVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/localization/index.js\n");

/***/ }),

/***/ "./src/orders/change-credit-invoice-payment-type.js":
/*!**********************************************************!*\
  !*** ./src/orders/change-credit-invoice-payment-type.js ***!
  \**********************************************************/
/*! exports provided: changeCreditInvoicePaymentType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"changeCreditInvoicePaymentType\", function() { return changeCreditInvoicePaymentType; });\nfunction changeCreditInvoicePaymentType (requests) {\n  for (const request of requests) {\n    if (request.requestName === 'saveSalesDocument') {\n      delete request.paymentType\n      delete request.pointOfSaleID\n\n      request.paymentTypeID = window.onm.cashInvoiceReturn.document.paymentTypeID\n    } else if (request.requestName === 'savePayment') {\n      delete request.cashChange\n      delete request.cashPaid\n      delete request.type\n\n      request.typeID = window.onm.cashInvoiceReturn.document.payments[0].typeID\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3JkZXJzL2NoYW5nZS1jcmVkaXQtaW52b2ljZS1wYXltZW50LXR5cGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb3JkZXJzL2NoYW5nZS1jcmVkaXQtaW52b2ljZS1wYXltZW50LXR5cGUuanM/OGM5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2hhbmdlQ3JlZGl0SW52b2ljZVBheW1lbnRUeXBlIChyZXF1ZXN0cykge1xuICBmb3IgKGNvbnN0IHJlcXVlc3Qgb2YgcmVxdWVzdHMpIHtcbiAgICBpZiAocmVxdWVzdC5yZXF1ZXN0TmFtZSA9PT0gJ3NhdmVTYWxlc0RvY3VtZW50Jykge1xuICAgICAgZGVsZXRlIHJlcXVlc3QucGF5bWVudFR5cGVcbiAgICAgIGRlbGV0ZSByZXF1ZXN0LnBvaW50T2ZTYWxlSURcblxuICAgICAgcmVxdWVzdC5wYXltZW50VHlwZUlEID0gd2luZG93Lm9ubS5jYXNoSW52b2ljZVJldHVybi5kb2N1bWVudC5wYXltZW50VHlwZUlEXG4gICAgfSBlbHNlIGlmIChyZXF1ZXN0LnJlcXVlc3ROYW1lID09PSAnc2F2ZVBheW1lbnQnKSB7XG4gICAgICBkZWxldGUgcmVxdWVzdC5jYXNoQ2hhbmdlXG4gICAgICBkZWxldGUgcmVxdWVzdC5jYXNoUGFpZFxuICAgICAgZGVsZXRlIHJlcXVlc3QudHlwZVxuXG4gICAgICByZXF1ZXN0LnR5cGVJRCA9IHdpbmRvdy5vbm0uY2FzaEludm9pY2VSZXR1cm4uZG9jdW1lbnQucGF5bWVudHNbMF0udHlwZUlEXG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/orders/change-credit-invoice-payment-type.js\n");

/***/ }),

/***/ "./src/orders/delivery-type.js":
/*!*************************************!*\
  !*** ./src/orders/delivery-type.js ***!
  \*************************************/
/*! exports provided: getDeliveryType, isDeliveryCompanyOrder, isOnmOrder, isCreditInvoiceRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDeliveryType\", function() { return getDeliveryType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDeliveryCompanyOrder\", function() { return isDeliveryCompanyOrder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isOnmOrder\", function() { return isOnmOrder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isCreditInvoiceRequest\", function() { return isCreditInvoiceRequest; });\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../localization */ \"./src/localization/index.js\");\n\n\nfunction getDeliveryType (order) {\n  if (order.type === 'CASHINVOICE') {\n    if (typeof order.paymentTypeInfo === 'undefined') {\n      return 'UNKNOWN'\n    }\n\n    return order.paymentTypeInfo.name\n  }\n\n  return Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('customer')\n}\n\nfunction isDeliveryCompanyOrder (order) {\n  return (\n    order.type === 'CASHINVOICE' &&\n    order.getAttributeValue('deliveryDateTime')\n  )\n}\n\nfunction isOnmOrder (documentModel) {\n  if (Object.keys(documentModel.dataSalesDocument).length === 0) {\n    return false\n  }\n\n  if (documentModel.dataSalesDocument.id !== documentModel.orderID) {\n    return false\n  }\n\n  return documentModel.dataSalesDocument.getAttributeValue('pickupStatus')\n}\n\nfunction isCreditInvoiceRequest (request) {\n  return (\n    typeof request.requestName !== 'undefined' &&\n    typeof request.type !== 'undefined' &&\n    request.requestName === 'saveSalesDocument' &&\n    request.type === 'CREDITINVOICE'\n  )\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3JkZXJzL2RlbGl2ZXJ5LXR5cGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb3JkZXJzL2RlbGl2ZXJ5LXR5cGUuanM/MmIzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0IH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVsaXZlcnlUeXBlIChvcmRlcikge1xuICBpZiAob3JkZXIudHlwZSA9PT0gJ0NBU0hJTlZPSUNFJykge1xuICAgIGlmICh0eXBlb2Ygb3JkZXIucGF5bWVudFR5cGVJbmZvID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuICdVTktOT1dOJ1xuICAgIH1cblxuICAgIHJldHVybiBvcmRlci5wYXltZW50VHlwZUluZm8ubmFtZVxuICB9XG5cbiAgcmV0dXJuIHQoJ2N1c3RvbWVyJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRGVsaXZlcnlDb21wYW55T3JkZXIgKG9yZGVyKSB7XG4gIHJldHVybiAoXG4gICAgb3JkZXIudHlwZSA9PT0gJ0NBU0hJTlZPSUNFJyAmJlxuICAgIG9yZGVyLmdldEF0dHJpYnV0ZVZhbHVlKCdkZWxpdmVyeURhdGVUaW1lJylcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNPbm1PcmRlciAoZG9jdW1lbnRNb2RlbCkge1xuICBpZiAoT2JqZWN0LmtleXMoZG9jdW1lbnRNb2RlbC5kYXRhU2FsZXNEb2N1bWVudCkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpZiAoZG9jdW1lbnRNb2RlbC5kYXRhU2FsZXNEb2N1bWVudC5pZCAhPT0gZG9jdW1lbnRNb2RlbC5vcmRlcklEKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZXR1cm4gZG9jdW1lbnRNb2RlbC5kYXRhU2FsZXNEb2N1bWVudC5nZXRBdHRyaWJ1dGVWYWx1ZSgncGlja3VwU3RhdHVzJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ3JlZGl0SW52b2ljZVJlcXVlc3QgKHJlcXVlc3QpIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgcmVxdWVzdC5yZXF1ZXN0TmFtZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgcmVxdWVzdC50eXBlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHJlcXVlc3QucmVxdWVzdE5hbWUgPT09ICdzYXZlU2FsZXNEb2N1bWVudCcgJiZcbiAgICByZXF1ZXN0LnR5cGUgPT09ICdDUkVESVRJTlZPSUNFJ1xuICApXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/orders/delivery-type.js\n");

/***/ }),

/***/ "./src/orders/init-order-model.js":
/*!****************************************!*\
  !*** ./src/orders/init-order-model.js ***!
  \****************************************/
/*! exports provided: initOrderModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initOrderModel\", function() { return initOrderModel; });\n// Code copied from how POS handles pickup orders\nfunction initOrderModel (order) {\n  TSPOS.Model.Document.init()\n  TSPOS.Model.Document.preventApplyPromotions = true\n  TSPOS.Model.Customer.id = order.clientID\n  TSPOS.Model.Customer.name = order.clientName\n  TSPOS.Model.Customer.email = order.clientEmail\n  TSPOS.Model.Document.number = order.number\n  TSPOS.Model.Customer.setCustomerNameInfo(order.clientName)\n  TSPOS.Model.Customer.setCustomerEmailInfo(order.clientEmail)\n  TSPOS.Model.Customer.getAndSetCustomer(order.clientID)\n  TSPOS.Model.Document.warehouseID = order.warehouseID\n  TSPOS.Model.Document.notes = order.notes\n  TSPOS.Model.Document.internalNotes = order.internalNotes\n  TSPOS.Model.Document.orderID = order.id\n  TSPOS.Model.Document.dataSalesDocument = order // Store order info, POS does not do it by default\n\n  if (order.paid > 0) {\n    TSPOS.Model.Document.orderPaid = parseFloat(order.paid)\n  }\n\n  TSPOS.Model.Document.employeeID = order.employeeID\n\n  if (TSPOS.Model.Document.notes.length > 0 || TSPOS.Model.Document.internalNotes.length > 0) {\n    TSPOS.UI.setUIFlag('[data-function=\"document-notes\"]', true)\n  }\n\n  TSPOS.Model.Document.taxExemptCertificateNumber = order.taxExemptCertificateNumber\n\n  if (TSPOS.Model.Document.taxExemptCertificateNumber.length > 0) {\n    TSPOS.UI.setUIFlag('[data-function=\"tax-exempt\"]', true)\n  }\n\n  TSPOS.Model.Document.APIFieldsCompat(order)\n  TSPOS.Model.Document.filterContainers(order.rows)\n\n  const rows = order.rows.map(row => {\n    if (row._isContainer || TSPOS.Model.Config.getBoolean('touchpos_order_pickup_recalculates_prices')) {\n      row.manualDiscount = 0\n    }\n\n    TSPOS.Model.Document.addProduct(row)\n\n    return row.productID\n  })\n\n  TSPOS.Model.Document.queueApplyPromotions()\n  TSPOS.Model.Document.preventApplyPromotions = false\n  TSPOS.Model.Document.getProductsDataOnExistingDocument(rows)\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3JkZXJzL2luaXQtb3JkZXItbW9kZWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb3JkZXJzL2luaXQtb3JkZXItbW9kZWwuanM/ZWE2OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb2RlIGNvcGllZCBmcm9tIGhvdyBQT1MgaGFuZGxlcyBwaWNrdXAgb3JkZXJzXG5leHBvcnQgZnVuY3Rpb24gaW5pdE9yZGVyTW9kZWwgKG9yZGVyKSB7XG4gIFRTUE9TLk1vZGVsLkRvY3VtZW50LmluaXQoKVxuICBUU1BPUy5Nb2RlbC5Eb2N1bWVudC5wcmV2ZW50QXBwbHlQcm9tb3Rpb25zID0gdHJ1ZVxuICBUU1BPUy5Nb2RlbC5DdXN0b21lci5pZCA9IG9yZGVyLmNsaWVudElEXG4gIFRTUE9TLk1vZGVsLkN1c3RvbWVyLm5hbWUgPSBvcmRlci5jbGllbnROYW1lXG4gIFRTUE9TLk1vZGVsLkN1c3RvbWVyLmVtYWlsID0gb3JkZXIuY2xpZW50RW1haWxcbiAgVFNQT1MuTW9kZWwuRG9jdW1lbnQubnVtYmVyID0gb3JkZXIubnVtYmVyXG4gIFRTUE9TLk1vZGVsLkN1c3RvbWVyLnNldEN1c3RvbWVyTmFtZUluZm8ob3JkZXIuY2xpZW50TmFtZSlcbiAgVFNQT1MuTW9kZWwuQ3VzdG9tZXIuc2V0Q3VzdG9tZXJFbWFpbEluZm8ob3JkZXIuY2xpZW50RW1haWwpXG4gIFRTUE9TLk1vZGVsLkN1c3RvbWVyLmdldEFuZFNldEN1c3RvbWVyKG9yZGVyLmNsaWVudElEKVxuICBUU1BPUy5Nb2RlbC5Eb2N1bWVudC53YXJlaG91c2VJRCA9IG9yZGVyLndhcmVob3VzZUlEXG4gIFRTUE9TLk1vZGVsLkRvY3VtZW50Lm5vdGVzID0gb3JkZXIubm90ZXNcbiAgVFNQT1MuTW9kZWwuRG9jdW1lbnQuaW50ZXJuYWxOb3RlcyA9IG9yZGVyLmludGVybmFsTm90ZXNcbiAgVFNQT1MuTW9kZWwuRG9jdW1lbnQub3JkZXJJRCA9IG9yZGVyLmlkXG4gIFRTUE9TLk1vZGVsLkRvY3VtZW50LmRhdGFTYWxlc0RvY3VtZW50ID0gb3JkZXIgLy8gU3RvcmUgb3JkZXIgaW5mbywgUE9TIGRvZXMgbm90IGRvIGl0IGJ5IGRlZmF1bHRcblxuICBpZiAob3JkZXIucGFpZCA+IDApIHtcbiAgICBUU1BPUy5Nb2RlbC5Eb2N1bWVudC5vcmRlclBhaWQgPSBwYXJzZUZsb2F0KG9yZGVyLnBhaWQpXG4gIH1cblxuICBUU1BPUy5Nb2RlbC5Eb2N1bWVudC5lbXBsb3llZUlEID0gb3JkZXIuZW1wbG95ZWVJRFxuXG4gIGlmIChUU1BPUy5Nb2RlbC5Eb2N1bWVudC5ub3Rlcy5sZW5ndGggPiAwIHx8IFRTUE9TLk1vZGVsLkRvY3VtZW50LmludGVybmFsTm90ZXMubGVuZ3RoID4gMCkge1xuICAgIFRTUE9TLlVJLnNldFVJRmxhZygnW2RhdGEtZnVuY3Rpb249XCJkb2N1bWVudC1ub3Rlc1wiXScsIHRydWUpXG4gIH1cblxuICBUU1BPUy5Nb2RlbC5Eb2N1bWVudC50YXhFeGVtcHRDZXJ0aWZpY2F0ZU51bWJlciA9IG9yZGVyLnRheEV4ZW1wdENlcnRpZmljYXRlTnVtYmVyXG5cbiAgaWYgKFRTUE9TLk1vZGVsLkRvY3VtZW50LnRheEV4ZW1wdENlcnRpZmljYXRlTnVtYmVyLmxlbmd0aCA+IDApIHtcbiAgICBUU1BPUy5VSS5zZXRVSUZsYWcoJ1tkYXRhLWZ1bmN0aW9uPVwidGF4LWV4ZW1wdFwiXScsIHRydWUpXG4gIH1cblxuICBUU1BPUy5Nb2RlbC5Eb2N1bWVudC5BUElGaWVsZHNDb21wYXQob3JkZXIpXG4gIFRTUE9TLk1vZGVsLkRvY3VtZW50LmZpbHRlckNvbnRhaW5lcnMob3JkZXIucm93cylcblxuICBjb25zdCByb3dzID0gb3JkZXIucm93cy5tYXAocm93ID0+IHtcbiAgICBpZiAocm93Ll9pc0NvbnRhaW5lciB8fCBUU1BPUy5Nb2RlbC5Db25maWcuZ2V0Qm9vbGVhbigndG91Y2hwb3Nfb3JkZXJfcGlja3VwX3JlY2FsY3VsYXRlc19wcmljZXMnKSkge1xuICAgICAgcm93Lm1hbnVhbERpc2NvdW50ID0gMFxuICAgIH1cblxuICAgIFRTUE9TLk1vZGVsLkRvY3VtZW50LmFkZFByb2R1Y3Qocm93KVxuXG4gICAgcmV0dXJuIHJvdy5wcm9kdWN0SURcbiAgfSlcblxuICBUU1BPUy5Nb2RlbC5Eb2N1bWVudC5xdWV1ZUFwcGx5UHJvbW90aW9ucygpXG4gIFRTUE9TLk1vZGVsLkRvY3VtZW50LnByZXZlbnRBcHBseVByb21vdGlvbnMgPSBmYWxzZVxuICBUU1BPUy5Nb2RlbC5Eb2N1bWVudC5nZXRQcm9kdWN0c0RhdGFPbkV4aXN0aW5nRG9jdW1lbnQocm93cylcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/orders/init-order-model.js\n");

/***/ }),

/***/ "./src/orders/is-order-notification-manager-return.js":
/*!************************************************************!*\
  !*** ./src/orders/is-order-notification-manager-return.js ***!
  \************************************************************/
/*! exports provided: isOrderReturnRequest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isOrderReturnRequest\", function() { return isOrderReturnRequest; });\n/* harmony import */ var _delivery_type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./delivery-type */ \"./src/orders/delivery-type.js\");\n\n\nfunction isOrderReturnRequest (requests) {\n  return requests.filter(\n    request => (\n      Object(_delivery_type__WEBPACK_IMPORTED_MODULE_0__[\"isCreditInvoiceRequest\"])(request) &&\n      request.creditToDocumentID === window.onm.cashInvoiceReturn.document.id\n    )\n  ).length > 0\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3JkZXJzL2lzLW9yZGVyLW5vdGlmaWNhdGlvbi1tYW5hZ2VyLXJldHVybi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9vcmRlcnMvaXMtb3JkZXItbm90aWZpY2F0aW9uLW1hbmFnZXItcmV0dXJuLmpzPzc3MzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNDcmVkaXRJbnZvaWNlUmVxdWVzdCB9IGZyb20gJy4vZGVsaXZlcnktdHlwZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGlzT3JkZXJSZXR1cm5SZXF1ZXN0IChyZXF1ZXN0cykge1xuICByZXR1cm4gcmVxdWVzdHMuZmlsdGVyKFxuICAgIHJlcXVlc3QgPT4gKFxuICAgICAgaXNDcmVkaXRJbnZvaWNlUmVxdWVzdChyZXF1ZXN0KSAmJlxuICAgICAgcmVxdWVzdC5jcmVkaXRUb0RvY3VtZW50SUQgPT09IHdpbmRvdy5vbm0uY2FzaEludm9pY2VSZXR1cm4uZG9jdW1lbnQuaWRcbiAgICApXG4gICkubGVuZ3RoID4gMFxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/orders/is-order-notification-manager-return.js\n");

/***/ }),

/***/ "./src/orders/pickup-status.js":
/*!*************************************!*\
  !*** ./src/orders/pickup-status.js ***!
  \*************************************/
/*! exports provided: updatePickupStatus, getActionTextForStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updatePickupStatus\", function() { return updatePickupStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getActionTextForStatus\", function() { return getActionTextForStatus; });\n/* harmony import */ var _api_erply_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/erply/utils */ \"./src/api/erply/utils.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n\n\n\nfunction updatePickupStatus (newStatus, order) {\n  const newOrder = _.cloneDeep(order)\n\n  Object(_api_erply_utils__WEBPACK_IMPORTED_MODULE_0__[\"changeAttributeValue\"])('pickupStatus', newStatus, newOrder)\n\n  if (\n    newStatus === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].CANCELLED ||\n    newStatus === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].CONFIRMED ||\n    newStatus === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].DELIVERED\n  ) {\n    Object(_api_erply_utils__WEBPACK_IMPORTED_MODULE_0__[\"changeAttributeValue\"])('pickupProcessed', 1, newOrder)\n  }\n\n  return newOrder\n}\n\nfunction getActionTextForStatus (status) {\n  switch (status) {\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].NEW:\n      return 'order.action.start.picking'\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].PICKING:\n      return 'order.action.finish.picking'\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].PICKED:\n      return 'order.action.confirm'\n    case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_1__[\"PickupStatus\"].CANCELLED:\n      return 'order.action.move.history'\n    default:\n      return ''\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvb3JkZXJzL3BpY2t1cC1zdGF0dXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb3JkZXJzL3BpY2t1cC1zdGF0dXMuanM/NGNhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGFuZ2VBdHRyaWJ1dGVWYWx1ZSB9IGZyb20gJy4uL2FwaS9lcnBseS91dGlscydcbmltcG9ydCB7IFBpY2t1cFN0YXR1cyB9IGZyb20gJy4uL2NvbnN0YW50cy9waWNrdXAtc3RhdHVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUGlja3VwU3RhdHVzIChuZXdTdGF0dXMsIG9yZGVyKSB7XG4gIGNvbnN0IG5ld09yZGVyID0gXy5jbG9uZURlZXAob3JkZXIpXG5cbiAgY2hhbmdlQXR0cmlidXRlVmFsdWUoJ3BpY2t1cFN0YXR1cycsIG5ld1N0YXR1cywgbmV3T3JkZXIpXG5cbiAgaWYgKFxuICAgIG5ld1N0YXR1cyA9PT0gUGlja3VwU3RhdHVzLkNBTkNFTExFRCB8fFxuICAgIG5ld1N0YXR1cyA9PT0gUGlja3VwU3RhdHVzLkNPTkZJUk1FRCB8fFxuICAgIG5ld1N0YXR1cyA9PT0gUGlja3VwU3RhdHVzLkRFTElWRVJFRFxuICApIHtcbiAgICBjaGFuZ2VBdHRyaWJ1dGVWYWx1ZSgncGlja3VwUHJvY2Vzc2VkJywgMSwgbmV3T3JkZXIpXG4gIH1cblxuICByZXR1cm4gbmV3T3JkZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGlvblRleHRGb3JTdGF0dXMgKHN0YXR1cykge1xuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgUGlja3VwU3RhdHVzLk5FVzpcbiAgICAgIHJldHVybiAnb3JkZXIuYWN0aW9uLnN0YXJ0LnBpY2tpbmcnXG4gICAgY2FzZSBQaWNrdXBTdGF0dXMuUElDS0lORzpcbiAgICAgIHJldHVybiAnb3JkZXIuYWN0aW9uLmZpbmlzaC5waWNraW5nJ1xuICAgIGNhc2UgUGlja3VwU3RhdHVzLlBJQ0tFRDpcbiAgICAgIHJldHVybiAnb3JkZXIuYWN0aW9uLmNvbmZpcm0nXG4gICAgY2FzZSBQaWNrdXBTdGF0dXMuQ0FOQ0VMTEVEOlxuICAgICAgcmV0dXJuICdvcmRlci5hY3Rpb24ubW92ZS5oaXN0b3J5J1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJydcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/orders/pickup-status.js\n");

/***/ }),

/***/ "./src/pos-events/after-document-save.js":
/*!***********************************************!*\
  !*** ./src/pos-events/after-document-save.js ***!
  \***********************************************/
/*! exports provided: onAfterDocumentSave */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onAfterDocumentSave\", function() { return onAfterDocumentSave; });\n/* harmony import */ var _orders_delivery_type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../orders/delivery-type */ \"./src/orders/delivery-type.js\");\n/* harmony import */ var _api_erply_orders__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/erply/orders */ \"./src/api/erply/orders.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n\n\n\n\n/**\n * Orders have attributes pickupProcessed and pickupStatus that also need to be\n * changed when paying for the order. Cannot add more requests to\n * before_document_save array because POS will try to print all saveSalesDocument\n * calls. Cannot save before either as bulk API call will fail then.\n **/\nasync function onAfterDocumentSave () {\n  const document = window.onm.currentDocument\n\n  if (Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_0__[\"isOnmOrder\"])(document)) {\n    /* POS will also send a request to complete the order that is not available\n       in beforeDocumentSave, need to add attributes.\n       API fails to handle the request for some reason if two saveSalesDocument\n       calls are sent about the same time hence the setTimeout */\n    setTimeout(async () => {\n      try {\n        await _api_erply_orders__WEBPACK_IMPORTED_MODULE_1__[\"Orders\"].updatePickupStatus(document.dataSalesDocument, _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__[\"PickupStatus\"].DELIVERED)\n\n        TSPOS.EventManager.runEventListener('onm_after_order_status_update', {\n          order: document.dataSalesDocument,\n          status: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__[\"PickupStatus\"].DELIVERED\n        })\n      } catch (err) {\n        Ember.Logger.error(err, err.ctx)\n      }\n    }, 500)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9zLWV2ZW50cy9hZnRlci1kb2N1bWVudC1zYXZlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Bvcy1ldmVudHMvYWZ0ZXItZG9jdW1lbnQtc2F2ZS5qcz84ZTEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzT25tT3JkZXIgfSBmcm9tICcuLi9vcmRlcnMvZGVsaXZlcnktdHlwZSdcbmltcG9ydCB7IE9yZGVycyB9IGZyb20gJy4uL2FwaS9lcnBseS9vcmRlcnMnXG5pbXBvcnQgeyBQaWNrdXBTdGF0dXMgfSBmcm9tICcuLi9jb25zdGFudHMvcGlja3VwLXN0YXR1cydcblxuLyoqXG4gKiBPcmRlcnMgaGF2ZSBhdHRyaWJ1dGVzIHBpY2t1cFByb2Nlc3NlZCBhbmQgcGlja3VwU3RhdHVzIHRoYXQgYWxzbyBuZWVkIHRvIGJlXG4gKiBjaGFuZ2VkIHdoZW4gcGF5aW5nIGZvciB0aGUgb3JkZXIuIENhbm5vdCBhZGQgbW9yZSByZXF1ZXN0cyB0b1xuICogYmVmb3JlX2RvY3VtZW50X3NhdmUgYXJyYXkgYmVjYXVzZSBQT1Mgd2lsbCB0cnkgdG8gcHJpbnQgYWxsIHNhdmVTYWxlc0RvY3VtZW50XG4gKiBjYWxscy4gQ2Fubm90IHNhdmUgYmVmb3JlIGVpdGhlciBhcyBidWxrIEFQSSBjYWxsIHdpbGwgZmFpbCB0aGVuLlxuICoqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9uQWZ0ZXJEb2N1bWVudFNhdmUgKCkge1xuICBjb25zdCBkb2N1bWVudCA9IHdpbmRvdy5vbm0uY3VycmVudERvY3VtZW50XG5cbiAgaWYgKGlzT25tT3JkZXIoZG9jdW1lbnQpKSB7XG4gICAgLyogUE9TIHdpbGwgYWxzbyBzZW5kIGEgcmVxdWVzdCB0byBjb21wbGV0ZSB0aGUgb3JkZXIgdGhhdCBpcyBub3QgYXZhaWxhYmxlXG4gICAgICAgaW4gYmVmb3JlRG9jdW1lbnRTYXZlLCBuZWVkIHRvIGFkZCBhdHRyaWJ1dGVzLlxuICAgICAgIEFQSSBmYWlscyB0byBoYW5kbGUgdGhlIHJlcXVlc3QgZm9yIHNvbWUgcmVhc29uIGlmIHR3byBzYXZlU2FsZXNEb2N1bWVudFxuICAgICAgIGNhbGxzIGFyZSBzZW50IGFib3V0IHRoZSBzYW1lIHRpbWUgaGVuY2UgdGhlIHNldFRpbWVvdXQgKi9cbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IE9yZGVycy51cGRhdGVQaWNrdXBTdGF0dXMoZG9jdW1lbnQuZGF0YVNhbGVzRG9jdW1lbnQsIFBpY2t1cFN0YXR1cy5ERUxJVkVSRUQpXG5cbiAgICAgICAgVFNQT1MuRXZlbnRNYW5hZ2VyLnJ1bkV2ZW50TGlzdGVuZXIoJ29ubV9hZnRlcl9vcmRlcl9zdGF0dXNfdXBkYXRlJywge1xuICAgICAgICAgIG9yZGVyOiBkb2N1bWVudC5kYXRhU2FsZXNEb2N1bWVudCxcbiAgICAgICAgICBzdGF0dXM6IFBpY2t1cFN0YXR1cy5ERUxJVkVSRURcbiAgICAgICAgfSlcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBFbWJlci5Mb2dnZXIuZXJyb3IoZXJyLCBlcnIuY3R4KVxuICAgICAgfVxuICAgIH0sIDUwMClcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pos-events/after-document-save.js\n");

/***/ }),

/***/ "./src/pos-events/before-document-save.js":
/*!************************************************!*\
  !*** ./src/pos-events/before-document-save.js ***!
  \************************************************/
/*! exports provided: onBeforeDocumentSave */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onBeforeDocumentSave\", function() { return onBeforeDocumentSave; });\n/* harmony import */ var _orders_is_order_notification_manager_return__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../orders/is-order-notification-manager-return */ \"./src/orders/is-order-notification-manager-return.js\");\n/* harmony import */ var _orders_change_credit_invoice_payment_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../orders/change-credit-invoice-payment-type */ \"./src/orders/change-credit-invoice-payment-type.js\");\n/* harmony import */ var _api_erply_orders__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/erply/orders */ \"./src/api/erply/orders.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store */ \"./src/store/index.js\");\n/* harmony import */ var _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../actions/unprocessed-orders */ \"./src/actions/unprocessed-orders.js\");\n/* harmony import */ var _orders_delivery_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../orders/delivery-type */ \"./src/orders/delivery-type.js\");\n\n\n\n\n\n\n\n\n/**\n * CASHINVOICE order return payment type must match the original payment type\n * Add the return document number to the original document as an attribute\n * @param {Array} requests\n */\nasync function onBeforeDocumentSave (requests) {\n  window.onm.currentDocument = TSPOS.Model.Document\n\n  const cashInvoice = window.onm.cashInvoiceReturn.document\n\n  if (cashInvoice !== null && Object(_orders_is_order_notification_manager_return__WEBPACK_IMPORTED_MODULE_0__[\"isOrderReturnRequest\"])(requests)) {\n    Object(_orders_change_credit_invoice_payment_type__WEBPACK_IMPORTED_MODULE_1__[\"changeCreditInvoicePaymentType\"])(requests)\n\n    let currentReturnDocuments = cashInvoice.getAttributeValue('returnDocumentNumbers')\n    const creditInvoiceNr = requests.find(\n      request => request.requestName === 'saveSalesDocument'\n    ).invoiceNo + 'K'\n\n    if (!currentReturnDocuments) {\n      currentReturnDocuments = creditInvoiceNr\n    } else {\n      currentReturnDocuments += (',' + creditInvoiceNr)\n    }\n\n    try {\n      await _api_erply_orders__WEBPACK_IMPORTED_MODULE_2__[\"Orders\"].save({\n        id: cashInvoice.id,\n        ignoreLocalSQL: true,\n        attributeName0: 'pickupStatus',\n        attributeType0: 'text',\n        attributeValue0: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_3__[\"PickupStatus\"].PICKED,\n        attributeName1: 'returnDocumentNumbers',\n        attributeType1: 'text',\n        attributeValue1: currentReturnDocuments\n      })\n\n      const saved = await _api_erply_orders__WEBPACK_IMPORTED_MODULE_2__[\"Orders\"].find(cashInvoice.id, {})\n\n      _store__WEBPACK_IMPORTED_MODULE_4__[\"store\"].dispatch(Object(_actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_5__[\"pickOrder\"])(saved.id, saved.rows))\n\n      TSPOS.EventManager.runEventListener('onm_after_order_status_update', {\n        order: saved,\n        status: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_3__[\"PickupStatus\"].PICKED\n      })\n    } catch (err) {\n      Ember.Logger.error(err, err.ctx)\n    }\n  }\n\n  // If someone has saved an order as a sales document for later, complete the order\n  const saveSalesDocumentRequest = requests.find(request => {\n    return request.requestName === 'saveSalesDocument' &&\n      request.hasOwnProperty('baseDocumentID') &&\n      request.baseDocumentID === TSPOS.Model.Document.dataSalesDocument.id &&\n      (typeof request.deleted === 'undefined' || request.deleted === 0) &&\n      Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_6__[\"isOnmOrder\"])(TSPOS.Model.Document)\n  })\n\n  if (saveSalesDocumentRequest && !requests.find(request => request.requestName === 'savePayment')) {\n    requests.push({\n      requestName: 'saveSalesDocument',\n      id: TSPOS.Model.Document.dataSalesDocument.id,\n      attributeName0: 'pickupProcessed',\n      attributeType0: 'int',\n      attributeValue0: 1,\n      attributeName1: 'pickupStatus',\n      attributeType1: 'text',\n      attributeValue1: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_3__[\"PickupStatus\"].DELIVERED\n    })\n\n    TSPOS.EventManager.runEventListener('onm_after_order_status_update', {\n      order: TSPOS.Model.Document.dataSalesDocument,\n      status: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_3__[\"PickupStatus\"].DELIVERED\n    })\n  }\n\n  Ember.Logger.log(requests)\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9zLWV2ZW50cy9iZWZvcmUtZG9jdW1lbnQtc2F2ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wb3MtZXZlbnRzL2JlZm9yZS1kb2N1bWVudC1zYXZlLmpzP2VjYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNPcmRlclJldHVyblJlcXVlc3QgfSBmcm9tICcuLi9vcmRlcnMvaXMtb3JkZXItbm90aWZpY2F0aW9uLW1hbmFnZXItcmV0dXJuJ1xuaW1wb3J0IHsgY2hhbmdlQ3JlZGl0SW52b2ljZVBheW1lbnRUeXBlIH0gZnJvbSAnLi4vb3JkZXJzL2NoYW5nZS1jcmVkaXQtaW52b2ljZS1wYXltZW50LXR5cGUnXG5pbXBvcnQgeyBPcmRlcnMgfSBmcm9tICcuLi9hcGkvZXJwbHkvb3JkZXJzJ1xuaW1wb3J0IHsgUGlja3VwU3RhdHVzIH0gZnJvbSAnLi4vY29uc3RhbnRzL3BpY2t1cC1zdGF0dXMnXG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL3N0b3JlJ1xuaW1wb3J0IHsgcGlja09yZGVyIH0gZnJvbSAnLi4vYWN0aW9ucy91bnByb2Nlc3NlZC1vcmRlcnMnXG5pbXBvcnQgeyBpc09ubU9yZGVyIH0gZnJvbSAnLi4vb3JkZXJzL2RlbGl2ZXJ5LXR5cGUnXG5cbi8qKlxuICogQ0FTSElOVk9JQ0Ugb3JkZXIgcmV0dXJuIHBheW1lbnQgdHlwZSBtdXN0IG1hdGNoIHRoZSBvcmlnaW5hbCBwYXltZW50IHR5cGVcbiAqIEFkZCB0aGUgcmV0dXJuIGRvY3VtZW50IG51bWJlciB0byB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgYXMgYW4gYXR0cmlidXRlXG4gKiBAcGFyYW0ge0FycmF5fSByZXF1ZXN0c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb25CZWZvcmVEb2N1bWVudFNhdmUgKHJlcXVlc3RzKSB7XG4gIHdpbmRvdy5vbm0uY3VycmVudERvY3VtZW50ID0gVFNQT1MuTW9kZWwuRG9jdW1lbnRcblxuICBjb25zdCBjYXNoSW52b2ljZSA9IHdpbmRvdy5vbm0uY2FzaEludm9pY2VSZXR1cm4uZG9jdW1lbnRcblxuICBpZiAoY2FzaEludm9pY2UgIT09IG51bGwgJiYgaXNPcmRlclJldHVyblJlcXVlc3QocmVxdWVzdHMpKSB7XG4gICAgY2hhbmdlQ3JlZGl0SW52b2ljZVBheW1lbnRUeXBlKHJlcXVlc3RzKVxuXG4gICAgbGV0IGN1cnJlbnRSZXR1cm5Eb2N1bWVudHMgPSBjYXNoSW52b2ljZS5nZXRBdHRyaWJ1dGVWYWx1ZSgncmV0dXJuRG9jdW1lbnROdW1iZXJzJylcbiAgICBjb25zdCBjcmVkaXRJbnZvaWNlTnIgPSByZXF1ZXN0cy5maW5kKFxuICAgICAgcmVxdWVzdCA9PiByZXF1ZXN0LnJlcXVlc3ROYW1lID09PSAnc2F2ZVNhbGVzRG9jdW1lbnQnXG4gICAgKS5pbnZvaWNlTm8gKyAnSydcblxuICAgIGlmICghY3VycmVudFJldHVybkRvY3VtZW50cykge1xuICAgICAgY3VycmVudFJldHVybkRvY3VtZW50cyA9IGNyZWRpdEludm9pY2VOclxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50UmV0dXJuRG9jdW1lbnRzICs9ICgnLCcgKyBjcmVkaXRJbnZvaWNlTnIpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IE9yZGVycy5zYXZlKHtcbiAgICAgICAgaWQ6IGNhc2hJbnZvaWNlLmlkLFxuICAgICAgICBpZ25vcmVMb2NhbFNRTDogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlTmFtZTA6ICdwaWNrdXBTdGF0dXMnLFxuICAgICAgICBhdHRyaWJ1dGVUeXBlMDogJ3RleHQnLFxuICAgICAgICBhdHRyaWJ1dGVWYWx1ZTA6IFBpY2t1cFN0YXR1cy5QSUNLRUQsXG4gICAgICAgIGF0dHJpYnV0ZU5hbWUxOiAncmV0dXJuRG9jdW1lbnROdW1iZXJzJyxcbiAgICAgICAgYXR0cmlidXRlVHlwZTE6ICd0ZXh0JyxcbiAgICAgICAgYXR0cmlidXRlVmFsdWUxOiBjdXJyZW50UmV0dXJuRG9jdW1lbnRzXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBzYXZlZCA9IGF3YWl0IE9yZGVycy5maW5kKGNhc2hJbnZvaWNlLmlkLCB7fSlcblxuICAgICAgc3RvcmUuZGlzcGF0Y2gocGlja09yZGVyKHNhdmVkLmlkLCBzYXZlZC5yb3dzKSlcblxuICAgICAgVFNQT1MuRXZlbnRNYW5hZ2VyLnJ1bkV2ZW50TGlzdGVuZXIoJ29ubV9hZnRlcl9vcmRlcl9zdGF0dXNfdXBkYXRlJywge1xuICAgICAgICBvcmRlcjogc2F2ZWQsXG4gICAgICAgIHN0YXR1czogUGlja3VwU3RhdHVzLlBJQ0tFRFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIsIGVyci5jdHgpXG4gICAgfVxuICB9XG5cbiAgLy8gSWYgc29tZW9uZSBoYXMgc2F2ZWQgYW4gb3JkZXIgYXMgYSBzYWxlcyBkb2N1bWVudCBmb3IgbGF0ZXIsIGNvbXBsZXRlIHRoZSBvcmRlclxuICBjb25zdCBzYXZlU2FsZXNEb2N1bWVudFJlcXVlc3QgPSByZXF1ZXN0cy5maW5kKHJlcXVlc3QgPT4ge1xuICAgIHJldHVybiByZXF1ZXN0LnJlcXVlc3ROYW1lID09PSAnc2F2ZVNhbGVzRG9jdW1lbnQnICYmXG4gICAgICByZXF1ZXN0Lmhhc093blByb3BlcnR5KCdiYXNlRG9jdW1lbnRJRCcpICYmXG4gICAgICByZXF1ZXN0LmJhc2VEb2N1bWVudElEID09PSBUU1BPUy5Nb2RlbC5Eb2N1bWVudC5kYXRhU2FsZXNEb2N1bWVudC5pZCAmJlxuICAgICAgKHR5cGVvZiByZXF1ZXN0LmRlbGV0ZWQgPT09ICd1bmRlZmluZWQnIHx8IHJlcXVlc3QuZGVsZXRlZCA9PT0gMCkgJiZcbiAgICAgIGlzT25tT3JkZXIoVFNQT1MuTW9kZWwuRG9jdW1lbnQpXG4gIH0pXG5cbiAgaWYgKHNhdmVTYWxlc0RvY3VtZW50UmVxdWVzdCAmJiAhcmVxdWVzdHMuZmluZChyZXF1ZXN0ID0+IHJlcXVlc3QucmVxdWVzdE5hbWUgPT09ICdzYXZlUGF5bWVudCcpKSB7XG4gICAgcmVxdWVzdHMucHVzaCh7XG4gICAgICByZXF1ZXN0TmFtZTogJ3NhdmVTYWxlc0RvY3VtZW50JyxcbiAgICAgIGlkOiBUU1BPUy5Nb2RlbC5Eb2N1bWVudC5kYXRhU2FsZXNEb2N1bWVudC5pZCxcbiAgICAgIGF0dHJpYnV0ZU5hbWUwOiAncGlja3VwUHJvY2Vzc2VkJyxcbiAgICAgIGF0dHJpYnV0ZVR5cGUwOiAnaW50JyxcbiAgICAgIGF0dHJpYnV0ZVZhbHVlMDogMSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUxOiAncGlja3VwU3RhdHVzJyxcbiAgICAgIGF0dHJpYnV0ZVR5cGUxOiAndGV4dCcsXG4gICAgICBhdHRyaWJ1dGVWYWx1ZTE6IFBpY2t1cFN0YXR1cy5ERUxJVkVSRURcbiAgICB9KVxuXG4gICAgVFNQT1MuRXZlbnRNYW5hZ2VyLnJ1bkV2ZW50TGlzdGVuZXIoJ29ubV9hZnRlcl9vcmRlcl9zdGF0dXNfdXBkYXRlJywge1xuICAgICAgb3JkZXI6IFRTUE9TLk1vZGVsLkRvY3VtZW50LmRhdGFTYWxlc0RvY3VtZW50LFxuICAgICAgc3RhdHVzOiBQaWNrdXBTdGF0dXMuREVMSVZFUkVEXG4gICAgfSlcbiAgfVxuXG4gIEVtYmVyLkxvZ2dlci5sb2cocmVxdWVzdHMpXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pos-events/before-document-save.js\n");

/***/ }),

/***/ "./src/pos-events/document-return-save-action.js":
/*!*******************************************************!*\
  !*** ./src/pos-events/document-return-save-action.js ***!
  \*******************************************************/
/*! exports provided: onDocumentReturnSaveAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onDocumentReturnSaveAction\", function() { return onDocumentReturnSaveAction; });\n/* harmony import */ var _orders_delivery_type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../orders/delivery-type */ \"./src/orders/delivery-type.js\");\n\n\nasync function onDocumentReturnSaveAction (id) {\n  const document = (await ErplyAPI.getSalesDocuments({\n    id: id\n  })).getFirstRecord()\n\n  if (Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_0__[\"isDeliveryCompanyOrder\"])(document)) {\n    document.payments = _.cloneDeep(TSPOS.Model.Document.dataPayments)\n\n    window.onm.cashInvoiceReturn.document = document\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9zLWV2ZW50cy9kb2N1bWVudC1yZXR1cm4tc2F2ZS1hY3Rpb24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcG9zLWV2ZW50cy9kb2N1bWVudC1yZXR1cm4tc2F2ZS1hY3Rpb24uanM/YWFmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RlbGl2ZXJ5Q29tcGFueU9yZGVyIH0gZnJvbSAnLi4vb3JkZXJzL2RlbGl2ZXJ5LXR5cGUnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvbkRvY3VtZW50UmV0dXJuU2F2ZUFjdGlvbiAoaWQpIHtcbiAgY29uc3QgZG9jdW1lbnQgPSAoYXdhaXQgRXJwbHlBUEkuZ2V0U2FsZXNEb2N1bWVudHMoe1xuICAgIGlkOiBpZFxuICB9KSkuZ2V0Rmlyc3RSZWNvcmQoKVxuXG4gIGlmIChpc0RlbGl2ZXJ5Q29tcGFueU9yZGVyKGRvY3VtZW50KSkge1xuICAgIGRvY3VtZW50LnBheW1lbnRzID0gXy5jbG9uZURlZXAoVFNQT1MuTW9kZWwuRG9jdW1lbnQuZGF0YVBheW1lbnRzKVxuXG4gICAgd2luZG93Lm9ubS5jYXNoSW52b2ljZVJldHVybi5kb2N1bWVudCA9IGRvY3VtZW50XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pos-events/document-return-save-action.js\n");

/***/ }),

/***/ "./src/pos-events/view-loaded.js":
/*!***************************************!*\
  !*** ./src/pos-events/view-loaded.js ***!
  \***************************************/
/*! exports provided: onViewLoaded */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onViewLoaded\", function() { return onViewLoaded; });\n/* harmony import */ var _constants_templates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants/templates */ \"./src/constants/templates.js\");\n\n\nfunction onViewLoaded (view, params) {\n  if (params.viewType === _constants_templates__WEBPACK_IMPORTED_MODULE_0__[\"UNPROCESSED_ORDERS_LIST\"]) {\n    view.css('display', 'block')\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcG9zLWV2ZW50cy92aWV3LWxvYWRlZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wb3MtZXZlbnRzL3ZpZXctbG9hZGVkLmpzPzRkZTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVU5QUk9DRVNTRURfT1JERVJTX0xJU1QgfSBmcm9tICcuLi9jb25zdGFudHMvdGVtcGxhdGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gb25WaWV3TG9hZGVkICh2aWV3LCBwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcy52aWV3VHlwZSA9PT0gVU5QUk9DRVNTRURfT1JERVJTX0xJU1QpIHtcbiAgICB2aWV3LmNzcygnZGlzcGxheScsICdibG9jaycpXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pos-events/view-loaded.js\n");

/***/ }),

/***/ "./src/reducers/index.js":
/*!*******************************!*\
  !*** ./src/reducers/index.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux */ \"./node_modules/redux/es/redux.js\");\n/* harmony import */ var _unprocessed_orders__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unprocessed-orders */ \"./src/reducers/unprocessed-orders.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(redux__WEBPACK_IMPORTED_MODULE_0__[\"combineReducers\"])({\n  unprocessedOrders: _unprocessed_orders__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVkdWNlcnMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVkdWNlcnMvaW5kZXguanM/NzI4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMgfSBmcm9tICdyZWR1eCdcbmltcG9ydCB1bnByb2Nlc3NlZE9yZGVycyBmcm9tICcuL3VucHJvY2Vzc2VkLW9yZGVycydcblxuZXhwb3J0IGRlZmF1bHQgY29tYmluZVJlZHVjZXJzKHtcbiAgdW5wcm9jZXNzZWRPcmRlcnNcbn0pXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/reducers/index.js\n");

/***/ }),

/***/ "./src/reducers/unprocessed-orders.js":
/*!********************************************!*\
  !*** ./src/reducers/unprocessed-orders.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _orders_pickup_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../orders/pickup-status */ \"./src/orders/pickup-status.js\");\n/* harmony import */ var _api_erply_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/erply/utils */ \"./src/api/erply/utils.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n/* harmony import */ var _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../actions/unprocessed-orders */ \"./src/actions/unprocessed-orders.js\");\n\n\n\n\n\nconst initialState = {\n  orders: [],\n  selected: {\n    id: null,\n    number: '',\n    clientName: '',\n    type: '',\n    date: '',\n    notes: '',\n    getAttributeValue: (name) => {}\n  }\n}\n\nconst unprocessedOrders = (state = initialState, action) => {\n  switch (action.type) {\n    case _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_3__[\"UPDATE_ORDERS\"]:\n      return {\n        ...state,\n        orders: action.orders\n      }\n    case _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_3__[\"SELECT_ORDER\"]:\n      return {\n        ...state,\n        selected: state.orders.find(order => order.id === action.id)\n      }\n    case _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_3__[\"UPDATE_ORDER_STATUS\"]:\n      return {\n        ...state,\n        orders: updateOrderStatus(state.orders, action)\n      }\n    case _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_3__[\"PICK_ORDER\"]:\n      return {\n        ...state,\n        orders: state.orders.map(order => {\n          if (order.id !== action.id) {\n            return order\n          }\n\n          const newOrder = _.cloneDeep(order)\n          newOrder.rows = action.rows\n\n          Object(_api_erply_utils__WEBPACK_IMPORTED_MODULE_1__[\"changeAttributeValue\"])('pickupStatus', _constants_pickup_status__WEBPACK_IMPORTED_MODULE_2__[\"PickupStatus\"].PICKED, newOrder)\n\n          return newOrder\n        })\n      }\n    default:\n      return state\n  }\n}\n\nfunction updateOrderStatus (orders, action) {\n  const a = orders.map(order => {\n    if (order.id !== action.id) {\n      return order\n    }\n\n    return Object(_orders_pickup_status__WEBPACK_IMPORTED_MODULE_0__[\"updatePickupStatus\"])(action.status, order)\n  }).filter(\n    order => parseInt(order.getAttributeValue('pickupProcessed')) === 0\n  )\n\n  return a\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (unprocessedOrders);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVkdWNlcnMvdW5wcm9jZXNzZWQtb3JkZXJzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3JlZHVjZXJzL3VucHJvY2Vzc2VkLW9yZGVycy5qcz8yZWVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVwZGF0ZVBpY2t1cFN0YXR1cyB9IGZyb20gJy4uL29yZGVycy9waWNrdXAtc3RhdHVzJ1xuaW1wb3J0IHsgY2hhbmdlQXR0cmlidXRlVmFsdWUgfSBmcm9tICcuLi9hcGkvZXJwbHkvdXRpbHMnXG5pbXBvcnQgeyBQaWNrdXBTdGF0dXMgfSBmcm9tICcuLi9jb25zdGFudHMvcGlja3VwLXN0YXR1cydcbmltcG9ydCB7IFVQREFURV9PUkRFUlMsIFNFTEVDVF9PUkRFUiwgVVBEQVRFX09SREVSX1NUQVRVUywgUElDS19PUkRFUiB9IGZyb20gJy4uL2FjdGlvbnMvdW5wcm9jZXNzZWQtb3JkZXJzJ1xuXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIG9yZGVyczogW10sXG4gIHNlbGVjdGVkOiB7XG4gICAgaWQ6IG51bGwsXG4gICAgbnVtYmVyOiAnJyxcbiAgICBjbGllbnROYW1lOiAnJyxcbiAgICB0eXBlOiAnJyxcbiAgICBkYXRlOiAnJyxcbiAgICBub3RlczogJycsXG4gICAgZ2V0QXR0cmlidXRlVmFsdWU6IChuYW1lKSA9PiB7fVxuICB9XG59XG5cbmNvbnN0IHVucHJvY2Vzc2VkT3JkZXJzID0gKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24pID0+IHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgVVBEQVRFX09SREVSUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBvcmRlcnM6IGFjdGlvbi5vcmRlcnNcbiAgICAgIH1cbiAgICBjYXNlIFNFTEVDVF9PUkRFUjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBzZWxlY3RlZDogc3RhdGUub3JkZXJzLmZpbmQob3JkZXIgPT4gb3JkZXIuaWQgPT09IGFjdGlvbi5pZClcbiAgICAgIH1cbiAgICBjYXNlIFVQREFURV9PUkRFUl9TVEFUVVM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgb3JkZXJzOiB1cGRhdGVPcmRlclN0YXR1cyhzdGF0ZS5vcmRlcnMsIGFjdGlvbilcbiAgICAgIH1cbiAgICBjYXNlIFBJQ0tfT1JERVI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgb3JkZXJzOiBzdGF0ZS5vcmRlcnMubWFwKG9yZGVyID0+IHtcbiAgICAgICAgICBpZiAob3JkZXIuaWQgIT09IGFjdGlvbi5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIG9yZGVyXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgbmV3T3JkZXIgPSBfLmNsb25lRGVlcChvcmRlcilcbiAgICAgICAgICBuZXdPcmRlci5yb3dzID0gYWN0aW9uLnJvd3NcblxuICAgICAgICAgIGNoYW5nZUF0dHJpYnV0ZVZhbHVlKCdwaWNrdXBTdGF0dXMnLCBQaWNrdXBTdGF0dXMuUElDS0VELCBuZXdPcmRlcilcblxuICAgICAgICAgIHJldHVybiBuZXdPcmRlclxuICAgICAgICB9KVxuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVPcmRlclN0YXR1cyAob3JkZXJzLCBhY3Rpb24pIHtcbiAgY29uc3QgYSA9IG9yZGVycy5tYXAob3JkZXIgPT4ge1xuICAgIGlmIChvcmRlci5pZCAhPT0gYWN0aW9uLmlkKSB7XG4gICAgICByZXR1cm4gb3JkZXJcbiAgICB9XG5cbiAgICByZXR1cm4gdXBkYXRlUGlja3VwU3RhdHVzKGFjdGlvbi5zdGF0dXMsIG9yZGVyKVxuICB9KS5maWx0ZXIoXG4gICAgb3JkZXIgPT4gcGFyc2VJbnQob3JkZXIuZ2V0QXR0cmlidXRlVmFsdWUoJ3BpY2t1cFByb2Nlc3NlZCcpKSA9PT0gMFxuICApXG5cbiAgcmV0dXJuIGFcbn1cblxuZXhwb3J0IGRlZmF1bHQgdW5wcm9jZXNzZWRPcmRlcnNcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/reducers/unprocessed-orders.js\n");

/***/ }),

/***/ "./src/store/index.js":
/*!****************************!*\
  !*** ./src/store/index.js ***!
  \****************************/
/*! exports provided: store */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"store\", function() { return store; });\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux */ \"./node_modules/redux/es/redux.js\");\n/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../reducers */ \"./src/reducers/index.js\");\n\n\n\nconst store = Object(redux__WEBPACK_IMPORTED_MODULE_0__[\"createStore\"])(_reducers__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RvcmUvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvaW5kZXguanM/NDM2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHJlZHVjZXJzIGZyb20gJy4uL3JlZHVjZXJzJ1xuXG5leHBvcnQgY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VycylcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/store/index.js\n");

/***/ }),

/***/ "./src/templates/modal.js":
/*!********************************!*\
  !*** ./src/templates/modal.js ***!
  \********************************/
/*! exports provided: Modal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Modal\", function() { return Modal; });\nconst Modal = ({ id, title = '', body = '', actions = '', footer = '', dismissable = true, style = '' }) => (\n  `<div class=\"modal\" id=\"${id}\">\n    <div class=\"modal-dialog\" style=\"${style}\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <span class=\"modal-header-title text-24px\">${title}</span>\n          ${dismissable ? `\n            <div class=\"modal-actions pull-right\" style=\"padding-right: 12px;\">\n              ${actions}\n              <button type=\"button\" class=\"close\">&times;</button>\n            </div>` : ``}\n        </div>\n        <div class=\"modal-body scrollable\">\n          ${body}\n        </div>\n        ${footer.length > 0 ? `<div class=\"modal-footer\" style=\"margin-top: 0px;\">\n            ${footer}\n          </div>` : ``}\n      </div>\n    </div>\n  </div>`\n)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGVtcGxhdGVzL21vZGFsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3RlbXBsYXRlcy9tb2RhbC5qcz81ZTQyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBNb2RhbCA9ICh7IGlkLCB0aXRsZSA9ICcnLCBib2R5ID0gJycsIGFjdGlvbnMgPSAnJywgZm9vdGVyID0gJycsIGRpc21pc3NhYmxlID0gdHJ1ZSwgc3R5bGUgPSAnJyB9KSA9PiAoXG4gIGA8ZGl2IGNsYXNzPVwibW9kYWxcIiBpZD1cIiR7aWR9XCI+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIHN0eWxlPVwiJHtzdHlsZX1cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1vZGFsLWhlYWRlci10aXRsZSB0ZXh0LTI0cHhcIj4ke3RpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAke2Rpc21pc3NhYmxlID8gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWFjdGlvbnMgcHVsbC1yaWdodFwiIHN0eWxlPVwicGFkZGluZy1yaWdodDogMTJweDtcIj5cbiAgICAgICAgICAgICAgJHthY3Rpb25zfVxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCI+JnRpbWVzOzwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+YCA6IGBgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHkgc2Nyb2xsYWJsZVwiPlxuICAgICAgICAgICR7Ym9keX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICR7Zm9vdGVyLmxlbmd0aCA+IDAgPyBgPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiIHN0eWxlPVwibWFyZ2luLXRvcDogMHB4O1wiPlxuICAgICAgICAgICAgJHtmb290ZXJ9XG4gICAgICAgICAgPC9kaXY+YCA6IGBgfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PmBcbilcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/templates/modal.js\n");

/***/ }),

/***/ "./src/templates/print-template.js":
/*!*****************************************!*\
  !*** ./src/templates/print-template.js ***!
  \*****************************************/
/*! exports provided: PrintTemplate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PrintTemplate\", function() { return PrintTemplate; });\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../localization */ \"./src/localization/index.js\");\n/* harmony import */ var _utils_date__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/date */ \"./src/utils/date.js\");\n/* harmony import */ var _utils_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/config */ \"./src/utils/config.js\");\n/* harmony import */ var _orders_delivery_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../orders/delivery-type */ \"./src/orders/delivery-type.js\");\n\n\n\n\n\nconst PrintTemplate = ({ order }) => {\n  // const phoneNumbers = []\n\n  // if (customerInfo.mobile) {\n  //   phoneNumbers.push(customerInfo.mobile)\n  // }\n\n  // if (customerInfo.phone) {\n  //   phoneNumbers.push(customerInfo.phone)\n  // }\n\n  return `<!DOCTYPE html>\n  <html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.print.title')}</title>\n    <style>\n      #page {\n        width: 100%;\n        margin: 0 auto;\n      }\n\n      #order-info th {\n        text-align: left;\n      }\n\n      #order-info th, #order-info td {\n        padding: 6px;\n      }\n\n      #products {\n        width: 100%;\n        border-collapse: collapse;\n      }\n\n      #products {\n        margin-top: 50px;\n      }\n\n      #products th {\n        text-align: left;\n        border-top: 2px solid black;\n        border-bottom: 1px solid black;\n      }\n\n      #products td, #products th {\n        padding: 8px;\n      }\n    </style>\n  </head>\n  <body>\n    <div id=\"page\">\n      <h2>\n        ${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.with.number', { number: _.escape(order.number) })} (${Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_3__[\"getDeliveryType\"])(order)})\n      </h2>\n      <hr>\n      <div>\n        <table id=\"order-info\">\n          <tbody>\n            <tr>\n              <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.pickup.type')}</th>\n              <td>${_.escape(Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_3__[\"getDeliveryType\"])(order))}</td>\n            </tr>\n            <tr>\n              <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('customer')}</th>\n              <td>${_.escape(order.clientName)}</td>\n            </tr>\n            <tr>\n              <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('customer.card.number')}</th>\n              <td>${_.escape(order.clientCardNumber)}</td>\n            </tr>\n            <tr>\n              <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.date')}</th>\n              <td>${_.escape(order.date)}</td>\n            </tr>\n            <tr>\n              <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.reference.no')}</th>\n              <td>${_.escape(order.referenceNumber)}</td>\n            </tr>\n            <tr>\n              <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.pickup.date.time')}</th>\n              <td>${_.escape(Object(_utils_date__WEBPACK_IMPORTED_MODULE_1__[\"getOrderDateTime\"])(order.getAttributeValue('pickupDateTime')))}</td>\n            </tr>\n            <tr>\n              <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.delivery.date.time')}</th>\n              <td>${_.escape(Object(_utils_date__WEBPACK_IMPORTED_MODULE_1__[\"getOrderDateTime\"])(order.getAttributeValue('deliveryDateTime')))}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <table id=\"products\">\n        <thead>\n          <tr>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.row.product.code')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.row.product.description')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.row.price')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.row.quantity')}</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${order.rows.map(row => `\n            <tr>\n              <td>${_.escape(row.code)}</td>\n              <td>${_.escape(row.itemName)}</td>\n              <td>${_.escape(Object(_utils_config__WEBPACK_IMPORTED_MODULE_2__[\"pricesDisplayedWithTax\"])() ? row.finalPriceWithVAT : row.finalNetPrice)}</td>\n              <td>${_.escape(row.amount)}</td>\n            </tr>`).join('')}\n        </tbody>\n      </table>\n      <p>${Object(_localization__WEBPACK_IMPORTED_MODULE_0__[\"t\"])('order.print.notes', { notes: _.escape(order.notes) })}</p>\n    </div>\n  </body>\n  </html>\n`\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdGVtcGxhdGVzL3ByaW50LXRlbXBsYXRlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3RlbXBsYXRlcy9wcmludC10ZW1wbGF0ZS5qcz8xOTgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHQgfSBmcm9tICcuLi9sb2NhbGl6YXRpb24nXG5pbXBvcnQgeyBnZXRPcmRlckRhdGVUaW1lIH0gZnJvbSAnLi4vdXRpbHMvZGF0ZSdcbmltcG9ydCB7IHByaWNlc0Rpc3BsYXllZFdpdGhUYXggfSBmcm9tICcuLi91dGlscy9jb25maWcnXG5pbXBvcnQgeyBnZXREZWxpdmVyeVR5cGUgfSBmcm9tICcuLi9vcmRlcnMvZGVsaXZlcnktdHlwZSdcblxuZXhwb3J0IGNvbnN0IFByaW50VGVtcGxhdGUgPSAoeyBvcmRlciB9KSA9PiB7XG4gIC8vIGNvbnN0IHBob25lTnVtYmVycyA9IFtdXG5cbiAgLy8gaWYgKGN1c3RvbWVySW5mby5tb2JpbGUpIHtcbiAgLy8gICBwaG9uZU51bWJlcnMucHVzaChjdXN0b21lckluZm8ubW9iaWxlKVxuICAvLyB9XG5cbiAgLy8gaWYgKGN1c3RvbWVySW5mby5waG9uZSkge1xuICAvLyAgIHBob25lTnVtYmVycy5wdXNoKGN1c3RvbWVySW5mby5waG9uZSlcbiAgLy8gfVxuXG4gIHJldHVybiBgPCFET0NUWVBFIGh0bWw+XG4gIDxodG1sIGxhbmc9XCJlblwiPlxuICA8aGVhZD5cbiAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxuICAgIDxtZXRhIGh0dHAtZXF1aXY9XCJYLVVBLUNvbXBhdGlibGVcIiBjb250ZW50PVwiaWU9ZWRnZVwiPlxuICAgIDx0aXRsZT4ke3QoJ29yZGVyLnByaW50LnRpdGxlJyl9PC90aXRsZT5cbiAgICA8c3R5bGU+XG4gICAgICAjcGFnZSB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIH1cblxuICAgICAgI29yZGVyLWluZm8gdGgge1xuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgfVxuXG4gICAgICAjb3JkZXItaW5mbyB0aCwgI29yZGVyLWluZm8gdGQge1xuICAgICAgICBwYWRkaW5nOiA2cHg7XG4gICAgICB9XG5cbiAgICAgICNwcm9kdWN0cyB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgICAgfVxuXG4gICAgICAjcHJvZHVjdHMge1xuICAgICAgICBtYXJnaW4tdG9wOiA1MHB4O1xuICAgICAgfVxuXG4gICAgICAjcHJvZHVjdHMgdGgge1xuICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICBib3JkZXItdG9wOiAycHggc29saWQgYmxhY2s7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBibGFjaztcbiAgICAgIH1cblxuICAgICAgI3Byb2R1Y3RzIHRkLCAjcHJvZHVjdHMgdGgge1xuICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgPC9oZWFkPlxuICA8Ym9keT5cbiAgICA8ZGl2IGlkPVwicGFnZVwiPlxuICAgICAgPGgyPlxuICAgICAgICAke3QoJ29yZGVyLndpdGgubnVtYmVyJywgeyBudW1iZXI6IF8uZXNjYXBlKG9yZGVyLm51bWJlcikgfSl9ICgke2dldERlbGl2ZXJ5VHlwZShvcmRlcil9KVxuICAgICAgPC9oMj5cbiAgICAgIDxocj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDx0YWJsZSBpZD1cIm9yZGVyLWluZm9cIj5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD4ke3QoJ29yZGVyLnBpY2t1cC50eXBlJyl9PC90aD5cbiAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUoZ2V0RGVsaXZlcnlUeXBlKG9yZGVyKSl9PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD4ke3QoJ2N1c3RvbWVyJyl9PC90aD5cbiAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUob3JkZXIuY2xpZW50TmFtZSl9PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD4ke3QoJ2N1c3RvbWVyLmNhcmQubnVtYmVyJyl9PC90aD5cbiAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUob3JkZXIuY2xpZW50Q2FyZE51bWJlcil9PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD4ke3QoJ29yZGVyLmRhdGUnKX08L3RoPlxuICAgICAgICAgICAgICA8dGQ+JHtfLmVzY2FwZShvcmRlci5kYXRlKX08L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPiR7dCgnb3JkZXIucmVmZXJlbmNlLm5vJyl9PC90aD5cbiAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUob3JkZXIucmVmZXJlbmNlTnVtYmVyKX08L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPiR7dCgnb3JkZXIucGlja3VwLmRhdGUudGltZScpfTwvdGg+XG4gICAgICAgICAgICAgIDx0ZD4ke18uZXNjYXBlKGdldE9yZGVyRGF0ZVRpbWUob3JkZXIuZ2V0QXR0cmlidXRlVmFsdWUoJ3BpY2t1cERhdGVUaW1lJykpKX08L3RkPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPiR7dCgnb3JkZXIuZGVsaXZlcnkuZGF0ZS50aW1lJyl9PC90aD5cbiAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUoZ2V0T3JkZXJEYXRlVGltZShvcmRlci5nZXRBdHRyaWJ1dGVWYWx1ZSgnZGVsaXZlcnlEYXRlVGltZScpKSl9PC90ZD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvZGl2PlxuICAgICAgPHRhYmxlIGlkPVwicHJvZHVjdHNcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD4ke3QoJ29yZGVyLnJvdy5wcm9kdWN0LmNvZGUnKX08L3RoPlxuICAgICAgICAgICAgPHRoPiR7dCgnb3JkZXIucm93LnByb2R1Y3QuZGVzY3JpcHRpb24nKX08L3RoPlxuICAgICAgICAgICAgPHRoPiR7dCgnb3JkZXIucm93LnByaWNlJyl9PC90aD5cbiAgICAgICAgICAgIDx0aD4ke3QoJ29yZGVyLnJvdy5xdWFudGl0eScpfTwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgICR7b3JkZXIucm93cy5tYXAocm93ID0+IGBcbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUocm93LmNvZGUpfTwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD4ke18uZXNjYXBlKHJvdy5pdGVtTmFtZSl9PC90ZD5cbiAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUocHJpY2VzRGlzcGxheWVkV2l0aFRheCgpID8gcm93LmZpbmFsUHJpY2VXaXRoVkFUIDogcm93LmZpbmFsTmV0UHJpY2UpfTwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD4ke18uZXNjYXBlKHJvdy5hbW91bnQpfTwvdGQ+XG4gICAgICAgICAgICA8L3RyPmApLmpvaW4oJycpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICAgIDxwPiR7dCgnb3JkZXIucHJpbnQubm90ZXMnLCB7IG5vdGVzOiBfLmVzY2FwZShvcmRlci5ub3RlcykgfSl9PC9wPlxuICAgIDwvZGl2PlxuICA8L2JvZHk+XG4gIDwvaHRtbD5cbmBcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/templates/print-template.js\n");

/***/ }),

/***/ "./src/updater.js":
/*!************************!*\
  !*** ./src/updater.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Updater; });\n/* harmony import */ var _api_erply_orders__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api/erply/orders */ \"./src/api/erply/orders.js\");\n/* harmony import */ var _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actions/unprocessed-orders */ \"./src/actions/unprocessed-orders.js\");\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./localization */ \"./src/localization/index.js\");\n\n\n\n\nclass Updater {\n  constructor (store) {\n    this.store = store\n    this.interval = null\n    this.timestamp = 0\n  }\n\n  async findUnprocessedOrders () {\n    let response\n\n    try {\n      response = await _api_erply_orders__WEBPACK_IMPORTED_MODULE_0__[\"Orders\"].all({\n        warehouseID: TSPOS.Model.POS.selectedWarehouseID,\n        confirmed: 1,\n        searchAttributeName0: 'pickupProcessed',\n        searchAttributeValue0: 0\n      })\n    } catch (err) {\n      return void Ember.Logger.error(err, err.ctx)\n    }\n\n    if (this.timestamp !== 0) {\n      const orders = this.store.getState().unprocessedOrders.orders\n      const responseOrders = response.getRecords()\n\n      const newOrders = responseOrders.filter(\n        responseOrder => !orders.find(order => order.id === responseOrder.id)\n      )\n\n      if (newOrders.length !== 0) {\n        const dropdownMenu = $('.notification-center .dropdown-menu')\n        let rows = ''\n\n        rows = newOrders.map(order => {\n          return `\n            <li>\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  #${order.number}\n                </div>\n                <div class=\"col-md-6 text-right\">\n                  ${parseFloat(order.total).toFixed(2)}\n                </div>\n              </div>\n            </li>\n          `\n        }).join('')\n\n        if (dropdownMenu.length === 0) {\n          $('.notification-center-icon').click()\n\n          const header = `\n            <li>\n              <span class=\"bold\">${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('orders.update.new.orders')}</span>\n            </li>\n          `\n\n          $('.notification-center-items').html(header + rows)\n        } else {\n          $('.notification-center-items').append(rows)\n        }\n      }\n    }\n\n    this.store.dispatch(Object(_actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_1__[\"updateOrders\"])(response.getRecords()))\n\n    TSPOS.EventManager.runEventListener('onm_after_orders_update', {\n      orders: response.getRecords()\n    })\n\n    this.timestamp = response.getTimestamp()\n  }\n\n  /**\n   * Starts the updater\n   * @param {number} interval\n   */\n  check (interval) {\n    if (!this.interval) {\n      this.findUnprocessedOrders()\n    }\n\n    this.interval = setInterval(() => this.findUnprocessedOrders(), interval)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXBkYXRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91cGRhdGVyLmpzP2RhMjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3JkZXJzIH0gZnJvbSAnLi9hcGkvZXJwbHkvb3JkZXJzJ1xuaW1wb3J0IHsgdXBkYXRlT3JkZXJzIH0gZnJvbSAnLi9hY3Rpb25zL3VucHJvY2Vzc2VkLW9yZGVycydcbmltcG9ydCB7IHQgfSBmcm9tICcuL2xvY2FsaXphdGlvbidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXBkYXRlciB7XG4gIGNvbnN0cnVjdG9yIChzdG9yZSkge1xuICAgIHRoaXMuc3RvcmUgPSBzdG9yZVxuICAgIHRoaXMuaW50ZXJ2YWwgPSBudWxsXG4gICAgdGhpcy50aW1lc3RhbXAgPSAwXG4gIH1cblxuICBhc3luYyBmaW5kVW5wcm9jZXNzZWRPcmRlcnMgKCkge1xuICAgIGxldCByZXNwb25zZVxuXG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgT3JkZXJzLmFsbCh7XG4gICAgICAgIHdhcmVob3VzZUlEOiBUU1BPUy5Nb2RlbC5QT1Muc2VsZWN0ZWRXYXJlaG91c2VJRCxcbiAgICAgICAgY29uZmlybWVkOiAxLFxuICAgICAgICBzZWFyY2hBdHRyaWJ1dGVOYW1lMDogJ3BpY2t1cFByb2Nlc3NlZCcsXG4gICAgICAgIHNlYXJjaEF0dHJpYnV0ZVZhbHVlMDogMFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiB2b2lkIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIsIGVyci5jdHgpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGltZXN0YW1wICE9PSAwKSB7XG4gICAgICBjb25zdCBvcmRlcnMgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkudW5wcm9jZXNzZWRPcmRlcnMub3JkZXJzXG4gICAgICBjb25zdCByZXNwb25zZU9yZGVycyA9IHJlc3BvbnNlLmdldFJlY29yZHMoKVxuXG4gICAgICBjb25zdCBuZXdPcmRlcnMgPSByZXNwb25zZU9yZGVycy5maWx0ZXIoXG4gICAgICAgIHJlc3BvbnNlT3JkZXIgPT4gIW9yZGVycy5maW5kKG9yZGVyID0+IG9yZGVyLmlkID09PSByZXNwb25zZU9yZGVyLmlkKVxuICAgICAgKVxuXG4gICAgICBpZiAobmV3T3JkZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBjb25zdCBkcm9wZG93bk1lbnUgPSAkKCcubm90aWZpY2F0aW9uLWNlbnRlciAuZHJvcGRvd24tbWVudScpXG4gICAgICAgIGxldCByb3dzID0gJydcblxuICAgICAgICByb3dzID0gbmV3T3JkZXJzLm1hcChvcmRlciA9PiB7XG4gICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNlwiPlxuICAgICAgICAgICAgICAgICAgIyR7b3JkZXIubnVtYmVyfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtNiB0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAke3BhcnNlRmxvYXQob3JkZXIudG90YWwpLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICBgXG4gICAgICAgIH0pLmpvaW4oJycpXG5cbiAgICAgICAgaWYgKGRyb3Bkb3duTWVudS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAkKCcubm90aWZpY2F0aW9uLWNlbnRlci1pY29uJykuY2xpY2soKVxuXG4gICAgICAgICAgY29uc3QgaGVhZGVyID0gYFxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJvbGRcIj4ke3QoJ29yZGVycy51cGRhdGUubmV3Lm9yZGVycycpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgYFxuXG4gICAgICAgICAgJCgnLm5vdGlmaWNhdGlvbi1jZW50ZXItaXRlbXMnKS5odG1sKGhlYWRlciArIHJvd3MpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCgnLm5vdGlmaWNhdGlvbi1jZW50ZXItaXRlbXMnKS5hcHBlbmQocm93cylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godXBkYXRlT3JkZXJzKHJlc3BvbnNlLmdldFJlY29yZHMoKSkpXG5cbiAgICBUU1BPUy5FdmVudE1hbmFnZXIucnVuRXZlbnRMaXN0ZW5lcignb25tX2FmdGVyX29yZGVyc191cGRhdGUnLCB7XG4gICAgICBvcmRlcnM6IHJlc3BvbnNlLmdldFJlY29yZHMoKVxuICAgIH0pXG5cbiAgICB0aGlzLnRpbWVzdGFtcCA9IHJlc3BvbnNlLmdldFRpbWVzdGFtcCgpXG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSB1cGRhdGVyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbFxuICAgKi9cbiAgY2hlY2sgKGludGVydmFsKSB7XG4gICAgaWYgKCF0aGlzLmludGVydmFsKSB7XG4gICAgICB0aGlzLmZpbmRVbnByb2Nlc3NlZE9yZGVycygpXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHRoaXMuZmluZFVucHJvY2Vzc2VkT3JkZXJzKCksIGludGVydmFsKVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/updater.js\n");

/***/ }),

/***/ "./src/utils/config.js":
/*!*****************************!*\
  !*** ./src/utils/config.js ***!
  \*****************************/
/*! exports provided: pricesDisplayedWithTax */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pricesDisplayedWithTax\", function() { return pricesDisplayedWithTax; });\nfunction pricesDisplayedWithTax () {\n  return TSPOS.Model.Config.data.locale_uses_price_with_tax || 0\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvY29uZmlnLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2NvbmZpZy5qcz8wMWVhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBwcmljZXNEaXNwbGF5ZWRXaXRoVGF4ICgpIHtcbiAgcmV0dXJuIFRTUE9TLk1vZGVsLkNvbmZpZy5kYXRhLmxvY2FsZV91c2VzX3ByaWNlX3dpdGhfdGF4IHx8IDBcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/config.js\n");

/***/ }),

/***/ "./src/utils/custom-error.js":
/*!***********************************!*\
  !*** ./src/utils/custom-error.js ***!
  \***********************************/
/*! exports provided: CustomError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomError\", function() { return CustomError; });\nclass CustomError extends Error {\n  constructor (message) {\n    super(message)\n\n    this.name = this.constructor.name\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, this.constructor)\n    } else {\n      this.stack = (new Error(message)).stack\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvY3VzdG9tLWVycm9yLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2N1c3RvbS1lcnJvci5qcz8yM2U1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDdXN0b21FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IgKG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKVxuXG4gICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lXG5cbiAgICBpZiAodHlwZW9mIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcihtZXNzYWdlKSkuc3RhY2tcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/custom-error.js\n");

/***/ }),

/***/ "./src/utils/date.js":
/*!***************************!*\
  !*** ./src/utils/date.js ***!
  \***************************/
/*! exports provided: dateToDateTimeString, getOrderDateTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dateToDateTimeString\", function() { return dateToDateTimeString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOrderDateTime\", function() { return getOrderDateTime; });\n/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./string */ \"./src/utils/string.js\");\n\n\nfunction prependZeroIfSingle (str) {\n  str = str.toString()\n\n  if (str.length === 1) {\n    return '0' + str\n  }\n\n  return str\n}\n\nfunction dateToDateTimeString (date) {\n  const year = date.getFullYear()\n  const month = prependZeroIfSingle(date.getMonth() + 1)\n  const day = prependZeroIfSingle(date.getDate())\n  const hours = prependZeroIfSingle(date.getHours())\n  const minutes = prependZeroIfSingle(date.getMinutes())\n  const seconds = prependZeroIfSingle(date.getSeconds())\n\n  return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`\n}\n\nfunction getOrderDateTime (date) {\n  if (!date) {\n    return ''\n  }\n\n  const dt = new Date(date + ' UTC')\n  const selectedWarehouse = parseInt(TSPOS.Model.POS.selectedWarehouseID)\n  const warehouse = TSPOS.Model.Warehouse.data.find(\n    warehouse => parseInt(warehouse.warehouseID) === selectedWarehouse\n  )\n\n  let timeZone = null\n\n  if (!warehouse || !warehouse.timeZone) {\n    Ember.Logger.warn(`Could not find timezone information for ${selectedWarehouse}`)\n  } else {\n    timeZone = warehouse.timeZone\n  }\n\n  let orderDateTimeFormat = {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit'\n  }\n\n  if (timeZone) {\n    orderDateTimeFormat.timeZone = timeZone\n  }\n\n  // A bad hack\n  const dateString = dt.toLocaleDateString('en-US', orderDateTimeFormat)\n  const newDt = new Date(dateString)\n\n  const year = newDt.getFullYear()\n  let month = Object(_string__WEBPACK_IMPORTED_MODULE_0__[\"leftPad\"])((newDt.getMonth() + 1).toString(), 2, '0')\n  let day = Object(_string__WEBPACK_IMPORTED_MODULE_0__[\"leftPad\"])(newDt.getDate().toString(), 2, '0')\n  let hours = Object(_string__WEBPACK_IMPORTED_MODULE_0__[\"leftPad\"])(newDt.getHours().toString(), 2, '0')\n  let minutes = Object(_string__WEBPACK_IMPORTED_MODULE_0__[\"leftPad\"])(newDt.getMinutes().toString(), 2, '0')\n\n  return `${year}-${month}-${day} ${hours}:${minutes}`\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvZGF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9kYXRlLmpzP2M0NjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbGVmdFBhZCB9IGZyb20gJy4vc3RyaW5nJ1xuXG5mdW5jdGlvbiBwcmVwZW5kWmVyb0lmU2luZ2xlIChzdHIpIHtcbiAgc3RyID0gc3RyLnRvU3RyaW5nKClcblxuICBpZiAoc3RyLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiAnMCcgKyBzdHJcbiAgfVxuXG4gIHJldHVybiBzdHJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVUb0RhdGVUaW1lU3RyaW5nIChkYXRlKSB7XG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKClcbiAgY29uc3QgbW9udGggPSBwcmVwZW5kWmVyb0lmU2luZ2xlKGRhdGUuZ2V0TW9udGgoKSArIDEpXG4gIGNvbnN0IGRheSA9IHByZXBlbmRaZXJvSWZTaW5nbGUoZGF0ZS5nZXREYXRlKCkpXG4gIGNvbnN0IGhvdXJzID0gcHJlcGVuZFplcm9JZlNpbmdsZShkYXRlLmdldEhvdXJzKCkpXG4gIGNvbnN0IG1pbnV0ZXMgPSBwcmVwZW5kWmVyb0lmU2luZ2xlKGRhdGUuZ2V0TWludXRlcygpKVxuICBjb25zdCBzZWNvbmRzID0gcHJlcGVuZFplcm9JZlNpbmdsZShkYXRlLmdldFNlY29uZHMoKSlcblxuICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfWBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE9yZGVyRGF0ZVRpbWUgKGRhdGUpIHtcbiAgaWYgKCFkYXRlKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBjb25zdCBkdCA9IG5ldyBEYXRlKGRhdGUgKyAnIFVUQycpXG4gIGNvbnN0IHNlbGVjdGVkV2FyZWhvdXNlID0gcGFyc2VJbnQoVFNQT1MuTW9kZWwuUE9TLnNlbGVjdGVkV2FyZWhvdXNlSUQpXG4gIGNvbnN0IHdhcmVob3VzZSA9IFRTUE9TLk1vZGVsLldhcmVob3VzZS5kYXRhLmZpbmQoXG4gICAgd2FyZWhvdXNlID0+IHBhcnNlSW50KHdhcmVob3VzZS53YXJlaG91c2VJRCkgPT09IHNlbGVjdGVkV2FyZWhvdXNlXG4gIClcblxuICBsZXQgdGltZVpvbmUgPSBudWxsXG5cbiAgaWYgKCF3YXJlaG91c2UgfHwgIXdhcmVob3VzZS50aW1lWm9uZSkge1xuICAgIEVtYmVyLkxvZ2dlci53YXJuKGBDb3VsZCBub3QgZmluZCB0aW1lem9uZSBpbmZvcm1hdGlvbiBmb3IgJHtzZWxlY3RlZFdhcmVob3VzZX1gKVxuICB9IGVsc2Uge1xuICAgIHRpbWVab25lID0gd2FyZWhvdXNlLnRpbWVab25lXG4gIH1cblxuICBsZXQgb3JkZXJEYXRlVGltZUZvcm1hdCA9IHtcbiAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgbW9udGg6ICcyLWRpZ2l0JyxcbiAgICBkYXk6ICcyLWRpZ2l0JyxcbiAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgc2Vjb25kOiAnMi1kaWdpdCdcbiAgfVxuXG4gIGlmICh0aW1lWm9uZSkge1xuICAgIG9yZGVyRGF0ZVRpbWVGb3JtYXQudGltZVpvbmUgPSB0aW1lWm9uZVxuICB9XG5cbiAgLy8gQSBiYWQgaGFja1xuICBjb25zdCBkYXRlU3RyaW5nID0gZHQudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIG9yZGVyRGF0ZVRpbWVGb3JtYXQpXG4gIGNvbnN0IG5ld0R0ID0gbmV3IERhdGUoZGF0ZVN0cmluZylcblxuICBjb25zdCB5ZWFyID0gbmV3RHQuZ2V0RnVsbFllYXIoKVxuICBsZXQgbW9udGggPSBsZWZ0UGFkKChuZXdEdC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKSwgMiwgJzAnKVxuICBsZXQgZGF5ID0gbGVmdFBhZChuZXdEdC5nZXREYXRlKCkudG9TdHJpbmcoKSwgMiwgJzAnKVxuICBsZXQgaG91cnMgPSBsZWZ0UGFkKG5ld0R0LmdldEhvdXJzKCkudG9TdHJpbmcoKSwgMiwgJzAnKVxuICBsZXQgbWludXRlcyA9IGxlZnRQYWQobmV3RHQuZ2V0TWludXRlcygpLnRvU3RyaW5nKCksIDIsICcwJylcblxuICByZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cnN9OiR7bWludXRlc31gXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/date.js\n");

/***/ }),

/***/ "./src/utils/document.js":
/*!*******************************!*\
  !*** ./src/utils/document.js ***!
  \*******************************/
/*! exports provided: calculateDocumentTotals */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateDocumentTotals\", function() { return calculateDocumentTotals; });\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! big.js */ \"./node_modules/big.js/big.js\");\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(big_js__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction calculateDocumentTotals (document) {\n  return document.rows.reduce((totals, row) => {\n    const netPrice = new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(row.finalNetPrice).times(new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(row.amount))\n    const priceWithVat = new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(row.finalPriceWithVAT).times(new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(row.amount))\n\n    totals.netTotal = totals.netTotal.plus(netPrice)\n    totals.total = totals.total.plus(priceWithVat)\n\n    return totals\n  }, {\n    netTotal: new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(0.0),\n    total: new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(0.0)\n  })\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvZG9jdW1lbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZG9jdW1lbnQuanM/NjBhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmlnIGZyb20gJ2JpZy5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZURvY3VtZW50VG90YWxzIChkb2N1bWVudCkge1xuICByZXR1cm4gZG9jdW1lbnQucm93cy5yZWR1Y2UoKHRvdGFscywgcm93KSA9PiB7XG4gICAgY29uc3QgbmV0UHJpY2UgPSBuZXcgQmlnKHJvdy5maW5hbE5ldFByaWNlKS50aW1lcyhuZXcgQmlnKHJvdy5hbW91bnQpKVxuICAgIGNvbnN0IHByaWNlV2l0aFZhdCA9IG5ldyBCaWcocm93LmZpbmFsUHJpY2VXaXRoVkFUKS50aW1lcyhuZXcgQmlnKHJvdy5hbW91bnQpKVxuXG4gICAgdG90YWxzLm5ldFRvdGFsID0gdG90YWxzLm5ldFRvdGFsLnBsdXMobmV0UHJpY2UpXG4gICAgdG90YWxzLnRvdGFsID0gdG90YWxzLnRvdGFsLnBsdXMocHJpY2VXaXRoVmF0KVxuXG4gICAgcmV0dXJuIHRvdGFsc1xuICB9LCB7XG4gICAgbmV0VG90YWw6IG5ldyBCaWcoMC4wKSxcbiAgICB0b3RhbDogbmV3IEJpZygwLjApXG4gIH0pXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/document.js\n");

/***/ }),

/***/ "./src/utils/notification.js":
/*!***********************************!*\
  !*** ./src/utils/notification.js ***!
  \***********************************/
/*! exports provided: toErrorNotification */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toErrorNotification\", function() { return toErrorNotification; });\nfunction toErrorNotification (notification, message, time = 2.5) {\n  notification\n    .setError()\n    .setMessage(message)\n\n  if (time) {\n    notification.delayedClose(time)\n  }\n\n  return notification\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvbm90aWZpY2F0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL25vdGlmaWNhdGlvbi5qcz8yMWFjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiB0b0Vycm9yTm90aWZpY2F0aW9uIChub3RpZmljYXRpb24sIG1lc3NhZ2UsIHRpbWUgPSAyLjUpIHtcbiAgbm90aWZpY2F0aW9uXG4gICAgLnNldEVycm9yKClcbiAgICAuc2V0TWVzc2FnZShtZXNzYWdlKVxuXG4gIGlmICh0aW1lKSB7XG4gICAgbm90aWZpY2F0aW9uLmRlbGF5ZWRDbG9zZSh0aW1lKVxuICB9XG5cbiAgcmV0dXJuIG5vdGlmaWNhdGlvblxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/notification.js\n");

/***/ }),

/***/ "./src/utils/print.js":
/*!****************************!*\
  !*** ./src/utils/print.js ***!
  \****************************/
/*! exports provided: printHtml */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"printHtml\", function() { return printHtml; });\nfunction printHtml (html) {\n  const printWindow = window.open()\n\n  printWindow.opener = null\n  printWindow.document.write(html)\n\n  printWindow.focus()\n  printWindow.print()\n  printWindow.close()\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvcHJpbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcHJpbnQuanM/ZmU2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcHJpbnRIdG1sIChodG1sKSB7XG4gIGNvbnN0IHByaW50V2luZG93ID0gd2luZG93Lm9wZW4oKVxuXG4gIHByaW50V2luZG93Lm9wZW5lciA9IG51bGxcbiAgcHJpbnRXaW5kb3cuZG9jdW1lbnQud3JpdGUoaHRtbClcblxuICBwcmludFdpbmRvdy5mb2N1cygpXG4gIHByaW50V2luZG93LnByaW50KClcbiAgcHJpbnRXaW5kb3cuY2xvc2UoKVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/print.js\n");

/***/ }),

/***/ "./src/utils/promise.js":
/*!******************************!*\
  !*** ./src/utils/promise.js ***!
  \******************************/
/*! exports provided: promisify */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"promisify\", function() { return promisify; });\nfunction promisify (jQueryPromise) {\n  return new Promise((resolve, reject) => jQueryPromise.then(resolve, reject))\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvcHJvbWlzZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9wcm9taXNlLmpzP2Y4MjUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHByb21pc2lmeSAoalF1ZXJ5UHJvbWlzZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4galF1ZXJ5UHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCkpXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/promise.js\n");

/***/ }),

/***/ "./src/utils/string.js":
/*!*****************************!*\
  !*** ./src/utils/string.js ***!
  \*****************************/
/*! exports provided: leftPad */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"leftPad\", function() { return leftPad; });\nfunction leftPad (str, targetLength, padString = ' ') {\n  if (str.length >= targetLength) {\n    return str\n  }\n\n  targetLength = targetLength - str.length\n\n  if (targetLength > padString.length) {\n    padString += padString.repeat(targetLength / padString.length)\n  }\n\n  return padString.slice(0, targetLength) + str\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvc3RyaW5nLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3N0cmluZy5qcz83ZjQ2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBsZWZ0UGFkIChzdHIsIHRhcmdldExlbmd0aCwgcGFkU3RyaW5nID0gJyAnKSB7XG4gIGlmIChzdHIubGVuZ3RoID49IHRhcmdldExlbmd0aCkge1xuICAgIHJldHVybiBzdHJcbiAgfVxuXG4gIHRhcmdldExlbmd0aCA9IHRhcmdldExlbmd0aCAtIHN0ci5sZW5ndGhcblxuICBpZiAodGFyZ2V0TGVuZ3RoID4gcGFkU3RyaW5nLmxlbmd0aCkge1xuICAgIHBhZFN0cmluZyArPSBwYWRTdHJpbmcucmVwZWF0KHRhcmdldExlbmd0aCAvIHBhZFN0cmluZy5sZW5ndGgpXG4gIH1cblxuICByZXR1cm4gcGFkU3RyaW5nLnNsaWNlKDAsIHRhcmdldExlbmd0aCkgKyBzdHJcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/string.js\n");

/***/ }),

/***/ "./src/utils/view.js":
/*!***************************!*\
  !*** ./src/utils/view.js ***!
  \***************************/
/*! exports provided: renderStoredView, isViewOpen, renderView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderStoredView\", function() { return renderStoredView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isViewOpen\", function() { return isViewOpen; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderView\", function() { return renderView; });\nfunction renderStoredView (params) {\n  Template[params.viewType] = window.onm.views[params.viewType].render()\n\n  const view = TSPOS.UI.openView(params)\n\n  view.on('close', window.onm.views[params.viewType].onClose || (() => { TSPOS.UI.closeCurrentView() }))\n\n  return view\n}\n\nfunction isViewOpen (name) {\n  const result = TSPOS.UI.openViews\n    .find(view => view.originalParams.viewType === name)\n\n  if (result) {\n    return true\n  }\n\n  return false\n}\n\n/**\n * Adds a new template and renders it\n * @param {Object} viewParams\n * @returns {Object}\n */\nfunction renderView (viewParams) {\n  Template[viewParams.viewType] = viewParams.content\n\n  return TSPOS.UI.openView(viewParams)\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvdmlldy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy92aWV3LmpzP2M3ZDkiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclN0b3JlZFZpZXcgKHBhcmFtcykge1xuICBUZW1wbGF0ZVtwYXJhbXMudmlld1R5cGVdID0gd2luZG93Lm9ubS52aWV3c1twYXJhbXMudmlld1R5cGVdLnJlbmRlcigpXG5cbiAgY29uc3QgdmlldyA9IFRTUE9TLlVJLm9wZW5WaWV3KHBhcmFtcylcblxuICB2aWV3Lm9uKCdjbG9zZScsIHdpbmRvdy5vbm0udmlld3NbcGFyYW1zLnZpZXdUeXBlXS5vbkNsb3NlIHx8ICgoKSA9PiB7IFRTUE9TLlVJLmNsb3NlQ3VycmVudFZpZXcoKSB9KSlcblxuICByZXR1cm4gdmlld1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWaWV3T3BlbiAobmFtZSkge1xuICBjb25zdCByZXN1bHQgPSBUU1BPUy5VSS5vcGVuVmlld3NcbiAgICAuZmluZCh2aWV3ID0+IHZpZXcub3JpZ2luYWxQYXJhbXMudmlld1R5cGUgPT09IG5hbWUpXG5cbiAgaWYgKHJlc3VsdCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuLyoqXG4gKiBBZGRzIGEgbmV3IHRlbXBsYXRlIGFuZCByZW5kZXJzIGl0XG4gKiBAcGFyYW0ge09iamVjdH0gdmlld1BhcmFtc1xuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclZpZXcgKHZpZXdQYXJhbXMpIHtcbiAgVGVtcGxhdGVbdmlld1BhcmFtcy52aWV3VHlwZV0gPSB2aWV3UGFyYW1zLmNvbnRlbnRcblxuICByZXR1cm4gVFNQT1MuVUkub3BlblZpZXcodmlld1BhcmFtcylcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/view.js\n");

/***/ }),

/***/ "./src/views/recent-orders/list.js":
/*!*****************************************!*\
  !*** ./src/views/recent-orders/list.js ***!
  \*****************************************/
/*! exports provided: RecentOrdersList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RecentOrdersList\", function() { return RecentOrdersList; });\n/* harmony import */ var _templates_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../templates/modal */ \"./src/templates/modal.js\");\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../localization */ \"./src/localization/index.js\");\n/* harmony import */ var _orders_delivery_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../orders/delivery-type */ \"./src/orders/delivery-type.js\");\n/* harmony import */ var _utils_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/view */ \"./src/utils/view.js\");\n/* harmony import */ var _view_order__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./view-order */ \"./src/views/recent-orders/view-order.js\");\n/* harmony import */ var _constants_templates__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../constants/templates */ \"./src/constants/templates.js\");\n/* harmony import */ var _api_erply_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../api/erply/api */ \"./src/api/erply/api.js\");\n/* harmony import */ var _utils_notification__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/notification */ \"./src/utils/notification.js\");\n/* harmony import */ var _utils_date__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/date */ \"./src/utils/date.js\");\n\n\n\n\n\n\n\n\n\n\n/**\n * @param {Object} params\n * @param {Object} params.order\n * @returns {string}\n */\nconst RecentOrderRow = ({ order }) => {\n  return `<tr data-id=\"${order.id}\" style=\"cursor: default;\">\n    <td class=\"onm-history-view-order pointer\" style=\"text-decoration: underline;\">${_.escape(order.number)}</td>\n    <td>${_.escape(order.date)}</td>\n    <td>${_.escape(Object(_utils_date__WEBPACK_IMPORTED_MODULE_8__[\"getOrderDateTime\"])(order.getAttributeValue('pickupDateTime')))}</td>\n    <td>${_.escape(order.clientName)}</td>\n    <td>${_.escape(Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_2__[\"getDeliveryType\"])(order))}</td>\n    <td class=\"recent-order-print\" style=\"text-align: center; color: #999; cursor: pointer;\">\n      <i class=\"icon_printer text-24px onm-print-recent-order\"></i>\n    </td>\n  </tr>`\n}\n\n/**\n * Creates a new recent orders template\n * @param {Object} params\n * @param {Object[]} params.orders\n * @returns {string}\n */\nconst RecentOrdersList = ({ orders }) => {\n  const content = $(Object(_templates_modal__WEBPACK_IMPORTED_MODULE_0__[\"Modal\"])({\n    id: 'onm-recent-orders',\n    title: Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.list.title'),\n    body: `\n      <div class=\"toggle-button-actions\">\n        <div>\n          <button type=\"button\" style=\"width:50%!important\" class=\"btn btn-transparent bold\" id=\"onm-current-button\">\n            ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.tab.unfinished')}\n          </button>\n          <button type=\"button\" style=\"width:50%!important\" class=\"btn bold btn-transparent active\" id=\"onm-history-button\">\n            ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.tab.history')}\n          </button>\n        </div>\n      </div>\n      <table id=\"onm-recent-orders-table\" class=\"table table-white\">\n        <thead>\n          <tr>\n            <th data-sort=\"int\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.number')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.date.created')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.pickup.date.time')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('customer')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.pickup.type')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.action.heading')}</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${orders.map(order => RecentOrderRow({ order })).join('')}\n        </tbody>\n      </table>\n    `\n  }))\n\n  content.addClass('customer-add-modal')\n  content.find('.recent-order-print').hover(function () {\n    $(this).css({ color: 'black' })\n  }, function () {\n    $(this).css({ color: '#999' })\n  })\n\n  const handlePrint = async evt => {\n    const id = $(evt.target).closest('tr').data('id')\n    const order = orders.find(order => parseInt(order.id) === parseInt(id))\n\n    const notification = ERPLY.Alert(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.print.action.progress'))\n\n    if (order.type === 'ORDER') {\n      const receiptIds = order.followUpDocuments.map(receipt => receipt.id)\n\n      if (receiptIds.length === 0) {\n        return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_7__[\"toErrorNotification\"])(notification, Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.print.receipts.missing'))\n      }\n\n      let receipts\n\n      try {\n        receipts = (await _api_erply_api__WEBPACK_IMPORTED_MODULE_6__[\"ErplyApi\"].sendRequest('getSalesDocuments', {\n          ids: receiptIds.join(',')\n        })).getRecords()\n      } catch (err) {\n        return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_7__[\"toErrorNotification\"])(notification, Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.print.receipts.fetch.error'))\n      }\n\n      try {\n        receipts.forEach(receipt => TSPOS.Print.printData({\n          url: receipt.invoiceLink,\n          payload: {\n            warehouseName: receipt.warehouseName,\n            warehouseID: receipt.warehouseID,\n            posName: receipt.pointOfSaleName || TSPOS.Model.POS.name,\n            invoiceNo: receipt.number,\n            type: receipt.type,\n            documentType: receipt.type,\n            customerName: receipt.clientName,\n            customerID: receipt.clientID,\n            customerCardNumber: receipt.clientCardNumber,\n            employeeName: receipt.employeeName,\n            notes: receipt.notes,\n            items: receipt.rows,\n            dateTime: receipt.date + ' ' + receipt.time,\n            netTotal: receipt.netTotal,\n            total: receipt.total\n          }\n        }))\n      } catch (err) {\n        Ember.Logger.error(err)\n        return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_7__[\"toErrorNotification\"])(notification, Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.print.action.failure'))\n      }\n    } else {\n      try {\n        TSPOS.Print.printData({\n          url: order.invoiceLink,\n          payload: {\n            warehouseName: order.warehouseName,\n            warehouseID: order.warehouseID,\n            posName: order.pointOfSaleName,\n            invoiceNo: order.number,\n            type: order.type,\n            customerName: order.clientName,\n            customerID: order.clientID,\n            customerCardNumber: order.clientCardNumber,\n            employeeName: order.employeeName,\n            notes: order.notes,\n            items: order.rows,\n            dateTime: order.date + ' ' + order.time,\n            netTotal: order.netTotal,\n            total: order.total\n          }\n        })\n      } catch (err) {\n        Ember.Logger.error(err)\n        return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_7__[\"toErrorNotification\"])(notification, Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.print.action.failure'))\n      }\n    }\n\n    notification.delayedClose(2.5)\n  }\n\n  const handleCurrentClick = () => {\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_3__[\"renderStoredView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_5__[\"UNPROCESSED_ORDERS_LIST\"],\n      modal: false,\n      dismiss: false\n    })\n  }\n\n  const handleNumberClick = evt => {\n    const id = $(evt.target).closest('tr').data('id')\n    const order = orders.find(order => parseInt(order.id) === parseInt(id))\n\n    const view = Object(_utils_view__WEBPACK_IMPORTED_MODULE_3__[\"renderView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_5__[\"VIEW_FINISHED_ORDER\"],\n      dismiss: false,\n      modal: false,\n      content: Object(_view_order__WEBPACK_IMPORTED_MODULE_4__[\"ViewRecentOrder\"])({ order })\n    })\n\n    view.on('close', async () => {\n      Object(_utils_view__WEBPACK_IMPORTED_MODULE_3__[\"renderView\"])({\n        viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_5__[\"FINISHED_ORDERS_LIST\"],\n        dismiss: true,\n        modal: false,\n        content: RecentOrdersList({\n          orders\n        })\n      })\n    })\n  }\n\n  content.find('.onm-print-recent-order').on('click', handlePrint)\n  content.find('#onm-current-button').on('click', handleCurrentClick)\n  content.find('.onm-history-view-order').on('click', handleNumberClick)\n  content.find('#onm-recent-orders-table').stupidtable()\n\n  return content\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvcmVjZW50LW9yZGVycy9saXN0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3JlY2VudC1vcmRlcnMvbGlzdC5qcz8yMDUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi4vLi4vdGVtcGxhdGVzL21vZGFsJ1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2xvY2FsaXphdGlvbidcbmltcG9ydCB7IGdldERlbGl2ZXJ5VHlwZSB9IGZyb20gJy4uLy4uL29yZGVycy9kZWxpdmVyeS10eXBlJ1xuaW1wb3J0IHsgcmVuZGVyU3RvcmVkVmlldywgcmVuZGVyVmlldyB9IGZyb20gJy4uLy4uL3V0aWxzL3ZpZXcnXG5pbXBvcnQgeyBWaWV3UmVjZW50T3JkZXIgfSBmcm9tICcuL3ZpZXctb3JkZXInXG5pbXBvcnQgeyBVTlBST0NFU1NFRF9PUkRFUlNfTElTVCwgVklFV19GSU5JU0hFRF9PUkRFUiwgRklOSVNIRURfT1JERVJTX0xJU1QgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvdGVtcGxhdGVzJ1xuaW1wb3J0IHsgRXJwbHlBcGkgfSBmcm9tICcuLi8uLi9hcGkvZXJwbHkvYXBpJ1xuaW1wb3J0IHsgdG9FcnJvck5vdGlmaWNhdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL25vdGlmaWNhdGlvbidcbmltcG9ydCB7IGdldE9yZGVyRGF0ZVRpbWUgfSBmcm9tICcuLi8uLi91dGlscy9kYXRlJ1xuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMub3JkZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmNvbnN0IFJlY2VudE9yZGVyUm93ID0gKHsgb3JkZXIgfSkgPT4ge1xuICByZXR1cm4gYDx0ciBkYXRhLWlkPVwiJHtvcmRlci5pZH1cIiBzdHlsZT1cImN1cnNvcjogZGVmYXVsdDtcIj5cbiAgICA8dGQgY2xhc3M9XCJvbm0taGlzdG9yeS12aWV3LW9yZGVyIHBvaW50ZXJcIiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1wiPiR7Xy5lc2NhcGUob3JkZXIubnVtYmVyKX08L3RkPlxuICAgIDx0ZD4ke18uZXNjYXBlKG9yZGVyLmRhdGUpfTwvdGQ+XG4gICAgPHRkPiR7Xy5lc2NhcGUoZ2V0T3JkZXJEYXRlVGltZShvcmRlci5nZXRBdHRyaWJ1dGVWYWx1ZSgncGlja3VwRGF0ZVRpbWUnKSkpfTwvdGQ+XG4gICAgPHRkPiR7Xy5lc2NhcGUob3JkZXIuY2xpZW50TmFtZSl9PC90ZD5cbiAgICA8dGQ+JHtfLmVzY2FwZShnZXREZWxpdmVyeVR5cGUob3JkZXIpKX08L3RkPlxuICAgIDx0ZCBjbGFzcz1cInJlY2VudC1vcmRlci1wcmludFwiIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzk5OTsgY3Vyc29yOiBwb2ludGVyO1wiPlxuICAgICAgPGkgY2xhc3M9XCJpY29uX3ByaW50ZXIgdGV4dC0yNHB4IG9ubS1wcmludC1yZWNlbnQtb3JkZXJcIj48L2k+XG4gICAgPC90ZD5cbiAgPC90cj5gXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyByZWNlbnQgb3JkZXJzIHRlbXBsYXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge09iamVjdFtdfSBwYXJhbXMub3JkZXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgUmVjZW50T3JkZXJzTGlzdCA9ICh7IG9yZGVycyB9KSA9PiB7XG4gIGNvbnN0IGNvbnRlbnQgPSAkKE1vZGFsKHtcbiAgICBpZDogJ29ubS1yZWNlbnQtb3JkZXJzJyxcbiAgICB0aXRsZTogdCgnb3JkZXJzLmxpc3QudGl0bGUnKSxcbiAgICBib2R5OiBgXG4gICAgICA8ZGl2IGNsYXNzPVwidG9nZ2xlLWJ1dHRvbi1hY3Rpb25zXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgc3R5bGU9XCJ3aWR0aDo1MCUhaW1wb3J0YW50XCIgY2xhc3M9XCJidG4gYnRuLXRyYW5zcGFyZW50IGJvbGRcIiBpZD1cIm9ubS1jdXJyZW50LWJ1dHRvblwiPlxuICAgICAgICAgICAgJHt0KCdvcmRlcnMudGFiLnVuZmluaXNoZWQnKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBzdHlsZT1cIndpZHRoOjUwJSFpbXBvcnRhbnRcIiBjbGFzcz1cImJ0biBib2xkIGJ0bi10cmFuc3BhcmVudCBhY3RpdmVcIiBpZD1cIm9ubS1oaXN0b3J5LWJ1dHRvblwiPlxuICAgICAgICAgICAgJHt0KCdvcmRlcnMudGFiLmhpc3RvcnknKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDx0YWJsZSBpZD1cIm9ubS1yZWNlbnQtb3JkZXJzLXRhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS13aGl0ZVwiPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoIGRhdGEtc29ydD1cImludFwiPiR7dCgnb3JkZXIubnVtYmVyJyl9PC90aD5cbiAgICAgICAgICAgIDx0aCBkYXRhLXNvcnQ9XCJzdHJpbmdcIj4ke3QoJ29yZGVyLmRhdGUuY3JlYXRlZCcpfTwvdGg+XG4gICAgICAgICAgICA8dGggZGF0YS1zb3J0PVwic3RyaW5nXCI+JHt0KCdvcmRlci5waWNrdXAuZGF0ZS50aW1lJyl9PC90aD5cbiAgICAgICAgICAgIDx0aCBkYXRhLXNvcnQ9XCJzdHJpbmdcIj4ke3QoJ2N1c3RvbWVyJyl9PC90aD5cbiAgICAgICAgICAgIDx0aCBkYXRhLXNvcnQ9XCJzdHJpbmdcIj4ke3QoJ29yZGVyLnBpY2t1cC50eXBlJyl9PC90aD5cbiAgICAgICAgICAgIDx0aD4ke3QoJ29yZGVyLmFjdGlvbi5oZWFkaW5nJyl9PC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgJHtvcmRlcnMubWFwKG9yZGVyID0+IFJlY2VudE9yZGVyUm93KHsgb3JkZXIgfSkpLmpvaW4oJycpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICBgXG4gIH0pKVxuXG4gIGNvbnRlbnQuYWRkQ2xhc3MoJ2N1c3RvbWVyLWFkZC1tb2RhbCcpXG4gIGNvbnRlbnQuZmluZCgnLnJlY2VudC1vcmRlci1wcmludCcpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLmNzcyh7IGNvbG9yOiAnYmxhY2snIH0pXG4gIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLmNzcyh7IGNvbG9yOiAnIzk5OScgfSlcbiAgfSlcblxuICBjb25zdCBoYW5kbGVQcmludCA9IGFzeW5jIGV2dCA9PiB7XG4gICAgY29uc3QgaWQgPSAkKGV2dC50YXJnZXQpLmNsb3Nlc3QoJ3RyJykuZGF0YSgnaWQnKVxuICAgIGNvbnN0IG9yZGVyID0gb3JkZXJzLmZpbmQob3JkZXIgPT4gcGFyc2VJbnQob3JkZXIuaWQpID09PSBwYXJzZUludChpZCkpXG5cbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBFUlBMWS5BbGVydCh0KCdvcmRlci5wcmludC5hY3Rpb24ucHJvZ3Jlc3MnKSlcblxuICAgIGlmIChvcmRlci50eXBlID09PSAnT1JERVInKSB7XG4gICAgICBjb25zdCByZWNlaXB0SWRzID0gb3JkZXIuZm9sbG93VXBEb2N1bWVudHMubWFwKHJlY2VpcHQgPT4gcmVjZWlwdC5pZClcblxuICAgICAgaWYgKHJlY2VpcHRJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB2b2lkIHRvRXJyb3JOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCB0KCdvcmRlci5wcmludC5yZWNlaXB0cy5taXNzaW5nJykpXG4gICAgICB9XG5cbiAgICAgIGxldCByZWNlaXB0c1xuXG4gICAgICB0cnkge1xuICAgICAgICByZWNlaXB0cyA9IChhd2FpdCBFcnBseUFwaS5zZW5kUmVxdWVzdCgnZ2V0U2FsZXNEb2N1bWVudHMnLCB7XG4gICAgICAgICAgaWRzOiByZWNlaXB0SWRzLmpvaW4oJywnKVxuICAgICAgICB9KSkuZ2V0UmVjb3JkcygpXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgdG9FcnJvck5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHQoJ29yZGVyLnByaW50LnJlY2VpcHRzLmZldGNoLmVycm9yJykpXG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJlY2VpcHRzLmZvckVhY2gocmVjZWlwdCA9PiBUU1BPUy5QcmludC5wcmludERhdGEoe1xuICAgICAgICAgIHVybDogcmVjZWlwdC5pbnZvaWNlTGluayxcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICB3YXJlaG91c2VOYW1lOiByZWNlaXB0LndhcmVob3VzZU5hbWUsXG4gICAgICAgICAgICB3YXJlaG91c2VJRDogcmVjZWlwdC53YXJlaG91c2VJRCxcbiAgICAgICAgICAgIHBvc05hbWU6IHJlY2VpcHQucG9pbnRPZlNhbGVOYW1lIHx8IFRTUE9TLk1vZGVsLlBPUy5uYW1lLFxuICAgICAgICAgICAgaW52b2ljZU5vOiByZWNlaXB0Lm51bWJlcixcbiAgICAgICAgICAgIHR5cGU6IHJlY2VpcHQudHlwZSxcbiAgICAgICAgICAgIGRvY3VtZW50VHlwZTogcmVjZWlwdC50eXBlLFxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lOiByZWNlaXB0LmNsaWVudE5hbWUsXG4gICAgICAgICAgICBjdXN0b21lcklEOiByZWNlaXB0LmNsaWVudElELFxuICAgICAgICAgICAgY3VzdG9tZXJDYXJkTnVtYmVyOiByZWNlaXB0LmNsaWVudENhcmROdW1iZXIsXG4gICAgICAgICAgICBlbXBsb3llZU5hbWU6IHJlY2VpcHQuZW1wbG95ZWVOYW1lLFxuICAgICAgICAgICAgbm90ZXM6IHJlY2VpcHQubm90ZXMsXG4gICAgICAgICAgICBpdGVtczogcmVjZWlwdC5yb3dzLFxuICAgICAgICAgICAgZGF0ZVRpbWU6IHJlY2VpcHQuZGF0ZSArICcgJyArIHJlY2VpcHQudGltZSxcbiAgICAgICAgICAgIG5ldFRvdGFsOiByZWNlaXB0Lm5ldFRvdGFsLFxuICAgICAgICAgICAgdG90YWw6IHJlY2VpcHQudG90YWxcbiAgICAgICAgICB9XG4gICAgICAgIH0pKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIpXG4gICAgICAgIHJldHVybiB2b2lkIHRvRXJyb3JOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCB0KCdvcmRlci5wcmludC5hY3Rpb24uZmFpbHVyZScpKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBUU1BPUy5QcmludC5wcmludERhdGEoe1xuICAgICAgICAgIHVybDogb3JkZXIuaW52b2ljZUxpbmssXG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgd2FyZWhvdXNlTmFtZTogb3JkZXIud2FyZWhvdXNlTmFtZSxcbiAgICAgICAgICAgIHdhcmVob3VzZUlEOiBvcmRlci53YXJlaG91c2VJRCxcbiAgICAgICAgICAgIHBvc05hbWU6IG9yZGVyLnBvaW50T2ZTYWxlTmFtZSxcbiAgICAgICAgICAgIGludm9pY2VObzogb3JkZXIubnVtYmVyLFxuICAgICAgICAgICAgdHlwZTogb3JkZXIudHlwZSxcbiAgICAgICAgICAgIGN1c3RvbWVyTmFtZTogb3JkZXIuY2xpZW50TmFtZSxcbiAgICAgICAgICAgIGN1c3RvbWVySUQ6IG9yZGVyLmNsaWVudElELFxuICAgICAgICAgICAgY3VzdG9tZXJDYXJkTnVtYmVyOiBvcmRlci5jbGllbnRDYXJkTnVtYmVyLFxuICAgICAgICAgICAgZW1wbG95ZWVOYW1lOiBvcmRlci5lbXBsb3llZU5hbWUsXG4gICAgICAgICAgICBub3Rlczogb3JkZXIubm90ZXMsXG4gICAgICAgICAgICBpdGVtczogb3JkZXIucm93cyxcbiAgICAgICAgICAgIGRhdGVUaW1lOiBvcmRlci5kYXRlICsgJyAnICsgb3JkZXIudGltZSxcbiAgICAgICAgICAgIG5ldFRvdGFsOiBvcmRlci5uZXRUb3RhbCxcbiAgICAgICAgICAgIHRvdGFsOiBvcmRlci50b3RhbFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBFbWJlci5Mb2dnZXIuZXJyb3IoZXJyKVxuICAgICAgICByZXR1cm4gdm9pZCB0b0Vycm9yTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgdCgnb3JkZXIucHJpbnQuYWN0aW9uLmZhaWx1cmUnKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBub3RpZmljYXRpb24uZGVsYXllZENsb3NlKDIuNSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUN1cnJlbnRDbGljayA9ICgpID0+IHtcbiAgICByZW5kZXJTdG9yZWRWaWV3KHtcbiAgICAgIHZpZXdUeXBlOiBVTlBST0NFU1NFRF9PUkRFUlNfTElTVCxcbiAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgIGRpc21pc3M6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZU51bWJlckNsaWNrID0gZXZ0ID0+IHtcbiAgICBjb25zdCBpZCA9ICQoZXZ0LnRhcmdldCkuY2xvc2VzdCgndHInKS5kYXRhKCdpZCcpXG4gICAgY29uc3Qgb3JkZXIgPSBvcmRlcnMuZmluZChvcmRlciA9PiBwYXJzZUludChvcmRlci5pZCkgPT09IHBhcnNlSW50KGlkKSlcblxuICAgIGNvbnN0IHZpZXcgPSByZW5kZXJWaWV3KHtcbiAgICAgIHZpZXdUeXBlOiBWSUVXX0ZJTklTSEVEX09SREVSLFxuICAgICAgZGlzbWlzczogZmFsc2UsXG4gICAgICBtb2RhbDogZmFsc2UsXG4gICAgICBjb250ZW50OiBWaWV3UmVjZW50T3JkZXIoeyBvcmRlciB9KVxuICAgIH0pXG5cbiAgICB2aWV3Lm9uKCdjbG9zZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlclZpZXcoe1xuICAgICAgICB2aWV3VHlwZTogRklOSVNIRURfT1JERVJTX0xJU1QsXG4gICAgICAgIGRpc21pc3M6IHRydWUsXG4gICAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgICAgY29udGVudDogUmVjZW50T3JkZXJzTGlzdCh7XG4gICAgICAgICAgb3JkZXJzXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjb250ZW50LmZpbmQoJy5vbm0tcHJpbnQtcmVjZW50LW9yZGVyJykub24oJ2NsaWNrJywgaGFuZGxlUHJpbnQpXG4gIGNvbnRlbnQuZmluZCgnI29ubS1jdXJyZW50LWJ1dHRvbicpLm9uKCdjbGljaycsIGhhbmRsZUN1cnJlbnRDbGljaylcbiAgY29udGVudC5maW5kKCcub25tLWhpc3Rvcnktdmlldy1vcmRlcicpLm9uKCdjbGljaycsIGhhbmRsZU51bWJlckNsaWNrKVxuICBjb250ZW50LmZpbmQoJyNvbm0tcmVjZW50LW9yZGVycy10YWJsZScpLnN0dXBpZHRhYmxlKClcblxuICByZXR1cm4gY29udGVudFxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/recent-orders/list.js\n");

/***/ }),

/***/ "./src/views/recent-orders/view-order.js":
/*!***********************************************!*\
  !*** ./src/views/recent-orders/view-order.js ***!
  \***********************************************/
/*! exports provided: ViewRecentOrder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ViewRecentOrder\", function() { return ViewRecentOrder; });\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! big.js */ \"./node_modules/big.js/big.js\");\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(big_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _templates_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates/modal */ \"./src/templates/modal.js\");\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../localization */ \"./src/localization/index.js\");\n/* harmony import */ var _orders_delivery_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../orders/delivery-type */ \"./src/orders/delivery-type.js\");\n/* harmony import */ var _utils_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/config */ \"./src/utils/config.js\");\n/* harmony import */ var _utils_date__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/date */ \"./src/utils/date.js\");\n/* harmony import */ var _utils_document__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/document */ \"./src/utils/document.js\");\n\n\n\n\n\n\n\n\nconst OrderRow = ({ row }) => {\n  const price = new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(Object(_utils_config__WEBPACK_IMPORTED_MODULE_4__[\"pricesDisplayedWithTax\"])() ? row.finalPriceWithVAT : row.finalNetPrice)\n  const total = new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(row.amount).times(price)\n\n  return `<tr>\n    <td>${_.escape(row.itemName)}</td>\n    <td>${_.escape(row.amount)}</td>\n    <td>${price.toFixed(2)}</td>\n    <td>${total.toFixed(2)}</td>\n  </tr>`\n}\n\nconst ViewRecentOrder = ({ order }) => {\n  const totals = Object(_utils_document__WEBPACK_IMPORTED_MODULE_6__[\"calculateDocumentTotals\"])(order)\n  const content = $(Object(_templates_modal__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"])({\n    id: 'onm-view-recent-order',\n    title: `<span>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.with.number', { number: order.number })}</span>`,\n    body: `<div>\n      <div>\n        <table class=\"table table-white table-customer\">\n          <tr>\n            <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.number')}</strong></td>\n            <td>${_.escape(order.number)}</td>\n          </tr>\n          <tr>\n            <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.pickup.type')}</strong></td>\n            <td>${_.escape(Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_3__[\"getDeliveryType\"])(order))}</td>\n          </tr>\n          <tr>\n            <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.date.created')}</strong></td>\n            <td>${_.escape(order.date)}</td>\n          </tr>\n          <tr>\n            <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.pickup.date.time')}</strong></td>\n            <td>${_.escape(Object(_utils_date__WEBPACK_IMPORTED_MODULE_5__[\"getOrderDateTime\"])(order.getAttributeValue('pickupDateTime')))}</td>\n          </tr>\n          <tr>\n            <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.delivery.date.time')}</strong></td>\n            <td>${_.escape(Object(_utils_date__WEBPACK_IMPORTED_MODULE_5__[\"getOrderDateTime\"])(order.getAttributeValue('deliveryDateTime')))}</td>\n          </tr>\n          <tr>\n            <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('customer')}</strong></td>\n            <td>${_.escape(order.clientName)}</td>\n          </tr>\n          <tr>\n              <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('customer.card.number')}</strong></td>\n              <td>${_.escape(order.clientCardNumber)}</td>\n          </tr>\n          <tr>\n            <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.status')}</strong></td>\n            <td id=\"onm-view-order-status\">\n              ${_.escape(Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])(Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"getPickupStatusKey\"])(order.getAttributeValue('pickupStatus'))))}\n            </td>\n          </tr>\n          <tr>\n            <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.return.documents')}</strong></td>\n            <td>${_.escape(order.getAttributeValue('returnDocumentNumbers') || '')}</td>\n          </tr>\n          <tr>\n            <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.notes')}</strong></td>\n            <td>${_.escape(order.notes)}</td>\n          </tr>\n        </table>\n      </div>\n      <div>\n        <table class=\"table table-striped\">\n          <tr>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.row.product.name')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.row.quantity')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.row.price')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.row.total')}</th>\n          </tr>\n          ${order.rows.map(row => OrderRow({ row })).join('')}\n        </table>\n        <hr/>\n        <p class=\"text-right\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.subtotal.with.value', { value: totals.netTotal.toFixed(2) })}\n        </p>\n        <p class=\"text-right\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.tax.total.with.value', { value: totals.total.minus(totals.netTotal).toFixed(2) })}\n        </p>\n        <p class=\"text-right bold\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.total.with.value', { value: totals.total.toFixed(2) })}\n        </p>\n      </div>\n    </div>`,\n    dismissable: true\n  }))\n\n  return content\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvcmVjZW50LW9yZGVycy92aWV3LW9yZGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3JlY2VudC1vcmRlcnMvdmlldy1vcmRlci5qcz9hMDlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCaWcgZnJvbSAnYmlnLmpzJ1xuaW1wb3J0IHsgTW9kYWwgfSBmcm9tICcuLi8uLi90ZW1wbGF0ZXMvbW9kYWwnXG5pbXBvcnQgeyB0LCBnZXRQaWNrdXBTdGF0dXNLZXkgfSBmcm9tICcuLi8uLi9sb2NhbGl6YXRpb24nXG5pbXBvcnQgeyBnZXREZWxpdmVyeVR5cGUgfSBmcm9tICcuLi8uLi9vcmRlcnMvZGVsaXZlcnktdHlwZSdcbmltcG9ydCB7IHByaWNlc0Rpc3BsYXllZFdpdGhUYXggfSBmcm9tICcuLi8uLi91dGlscy9jb25maWcnXG5pbXBvcnQgeyBnZXRPcmRlckRhdGVUaW1lIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGF0ZSdcbmltcG9ydCB7IGNhbGN1bGF0ZURvY3VtZW50VG90YWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMvZG9jdW1lbnQnXG5cbmNvbnN0IE9yZGVyUm93ID0gKHsgcm93IH0pID0+IHtcbiAgY29uc3QgcHJpY2UgPSBuZXcgQmlnKHByaWNlc0Rpc3BsYXllZFdpdGhUYXgoKSA/IHJvdy5maW5hbFByaWNlV2l0aFZBVCA6IHJvdy5maW5hbE5ldFByaWNlKVxuICBjb25zdCB0b3RhbCA9IG5ldyBCaWcocm93LmFtb3VudCkudGltZXMocHJpY2UpXG5cbiAgcmV0dXJuIGA8dHI+XG4gICAgPHRkPiR7Xy5lc2NhcGUocm93Lml0ZW1OYW1lKX08L3RkPlxuICAgIDx0ZD4ke18uZXNjYXBlKHJvdy5hbW91bnQpfTwvdGQ+XG4gICAgPHRkPiR7cHJpY2UudG9GaXhlZCgyKX08L3RkPlxuICAgIDx0ZD4ke3RvdGFsLnRvRml4ZWQoMil9PC90ZD5cbiAgPC90cj5gXG59XG5cbmV4cG9ydCBjb25zdCBWaWV3UmVjZW50T3JkZXIgPSAoeyBvcmRlciB9KSA9PiB7XG4gIGNvbnN0IHRvdGFscyA9IGNhbGN1bGF0ZURvY3VtZW50VG90YWxzKG9yZGVyKVxuICBjb25zdCBjb250ZW50ID0gJChNb2RhbCh7XG4gICAgaWQ6ICdvbm0tdmlldy1yZWNlbnQtb3JkZXInLFxuICAgIHRpdGxlOiBgPHNwYW4+JHt0KCdvcmRlci53aXRoLm51bWJlcicsIHsgbnVtYmVyOiBvcmRlci5udW1iZXIgfSl9PC9zcGFuPmAsXG4gICAgYm9keTogYDxkaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS13aGl0ZSB0YWJsZS1jdXN0b21lclwiPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD48c3Ryb25nPiR7dCgnb3JkZXIubnVtYmVyJyl9PC9zdHJvbmc+PC90ZD5cbiAgICAgICAgICAgIDx0ZD4ke18uZXNjYXBlKG9yZGVyLm51bWJlcil9PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD48c3Ryb25nPiR7dCgnb3JkZXIucGlja3VwLnR5cGUnKX08L3N0cm9uZz48L3RkPlxuICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUoZ2V0RGVsaXZlcnlUeXBlKG9yZGVyKSl9PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD48c3Ryb25nPiR7dCgnb3JkZXIuZGF0ZS5jcmVhdGVkJyl9PC9zdHJvbmc+PC90ZD5cbiAgICAgICAgICAgIDx0ZD4ke18uZXNjYXBlKG9yZGVyLmRhdGUpfTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+PHN0cm9uZz4ke3QoJ29yZGVyLnBpY2t1cC5kYXRlLnRpbWUnKX08L3N0cm9uZz48L3RkPlxuICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUoZ2V0T3JkZXJEYXRlVGltZShvcmRlci5nZXRBdHRyaWJ1dGVWYWx1ZSgncGlja3VwRGF0ZVRpbWUnKSkpfTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+PHN0cm9uZz4ke3QoJ29yZGVyLmRlbGl2ZXJ5LmRhdGUudGltZScpfTwvc3Ryb25nPjwvdGQ+XG4gICAgICAgICAgICA8dGQ+JHtfLmVzY2FwZShnZXRPcmRlckRhdGVUaW1lKG9yZGVyLmdldEF0dHJpYnV0ZVZhbHVlKCdkZWxpdmVyeURhdGVUaW1lJykpKX08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPjxzdHJvbmc+JHt0KCdjdXN0b21lcicpfTwvc3Ryb25nPjwvdGQ+XG4gICAgICAgICAgICA8dGQ+JHtfLmVzY2FwZShvcmRlci5jbGllbnROYW1lKX08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICA8dGQ+PHN0cm9uZz4ke3QoJ2N1c3RvbWVyLmNhcmQubnVtYmVyJyl9PC9zdHJvbmc+PC90ZD5cbiAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUob3JkZXIuY2xpZW50Q2FyZE51bWJlcil9PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD48c3Ryb25nPiR7dCgnb3JkZXIuc3RhdHVzJyl9PC9zdHJvbmc+PC90ZD5cbiAgICAgICAgICAgIDx0ZCBpZD1cIm9ubS12aWV3LW9yZGVyLXN0YXR1c1wiPlxuICAgICAgICAgICAgICAke18uZXNjYXBlKHQoZ2V0UGlja3VwU3RhdHVzS2V5KG9yZGVyLmdldEF0dHJpYnV0ZVZhbHVlKCdwaWNrdXBTdGF0dXMnKSkpKX1cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+PHN0cm9uZz4ke3QoJ29yZGVyLnJldHVybi5kb2N1bWVudHMnKX08L3N0cm9uZz48L3RkPlxuICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUob3JkZXIuZ2V0QXR0cmlidXRlVmFsdWUoJ3JldHVybkRvY3VtZW50TnVtYmVycycpIHx8ICcnKX08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPjxzdHJvbmc+JHt0KCdvcmRlci5ub3RlcycpfTwvc3Ryb25nPjwvdGQ+XG4gICAgICAgICAgICA8dGQ+JHtfLmVzY2FwZShvcmRlci5ub3Rlcyl9PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1zdHJpcGVkXCI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPiR7dCgnb3JkZXIucm93LnByb2R1Y3QubmFtZScpfTwvdGg+XG4gICAgICAgICAgICA8dGg+JHt0KCdvcmRlci5yb3cucXVhbnRpdHknKX08L3RoPlxuICAgICAgICAgICAgPHRoPiR7dCgnb3JkZXIucm93LnByaWNlJyl9PC90aD5cbiAgICAgICAgICAgIDx0aD4ke3QoJ29yZGVyLnJvdy50b3RhbCcpfTwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICAke29yZGVyLnJvd3MubWFwKHJvdyA9PiBPcmRlclJvdyh7IHJvdyB9KSkuam9pbignJyl9XG4gICAgICAgIDwvdGFibGU+XG4gICAgICAgIDxoci8+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1yaWdodFwiPlxuICAgICAgICAgICR7dCgnb3JkZXIuc3VidG90YWwud2l0aC52YWx1ZScsIHsgdmFsdWU6IHRvdGFscy5uZXRUb3RhbC50b0ZpeGVkKDIpIH0pfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1yaWdodFwiPlxuICAgICAgICAgICR7dCgnb3JkZXIudGF4LnRvdGFsLndpdGgudmFsdWUnLCB7IHZhbHVlOiB0b3RhbHMudG90YWwubWludXModG90YWxzLm5ldFRvdGFsKS50b0ZpeGVkKDIpIH0pfVxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1yaWdodCBib2xkXCI+XG4gICAgICAgICAgJHt0KCdvcmRlci50b3RhbC53aXRoLnZhbHVlJywgeyB2YWx1ZTogdG90YWxzLnRvdGFsLnRvRml4ZWQoMikgfSl9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmAsXG4gICAgZGlzbWlzc2FibGU6IHRydWVcbiAgfSkpXG5cbiAgcmV0dXJuIGNvbnRlbnRcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/recent-orders/view-order.js\n");

/***/ }),

/***/ "./src/views/unprocessed-orders/edit.js":
/*!**********************************************!*\
  !*** ./src/views/unprocessed-orders/edit.js ***!
  \**********************************************/
/*! exports provided: EditUnprocessedOrder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EditUnprocessedOrder\", function() { return EditUnprocessedOrder; });\n/* harmony import */ var _templates_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../templates/modal */ \"./src/templates/modal.js\");\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../localization */ \"./src/localization/index.js\");\n/* harmony import */ var _utils_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/view */ \"./src/utils/view.js\");\n/* harmony import */ var _api_erply_orders__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api/erply/orders */ \"./src/api/erply/orders.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n/* harmony import */ var _api_erply_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../api/erply/utils */ \"./src/api/erply/utils.js\");\n/* harmony import */ var _constants_templates__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../constants/templates */ \"./src/constants/templates.js\");\n/* harmony import */ var _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../actions/unprocessed-orders */ \"./src/actions/unprocessed-orders.js\");\n/* harmony import */ var _utils_notification__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/notification */ \"./src/utils/notification.js\");\n\n\n\n\n\n\n\n\n\n\nconst OrderEditRow = ({ row }) => (\n  `<tr data-row-id=\"${row.rowID}\">\n    <td>${_.escape(row.code)}</td>\n    <td>${_.escape(row.itemName)}</td>\n    <td>\n      <input type=\"text\"\n        name=\"onm-order-row-amount\"\n        class=\"form-control input-sm\"\n        value=\"${_.escape(row.amount)}\"/>\n    </td>\n    <td>\n      <button class=\"btn onm-order-edit-remove-row onm-remove\">\n        ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.action.remove')}\n      </button>\n    </td>\n  </tr>`\n)\n\nclass EditUnprocessedOrder {\n  constructor (store) {\n    this.store = store\n    this.html = $('<div></div>')\n  }\n\n  render () {\n    const order = this.store.getState().unprocessedOrders.selected\n\n    this.html.off('click')\n\n    this.html = $(Object(_templates_modal__WEBPACK_IMPORTED_MODULE_0__[\"Modal\"])({\n      id: 'onm-edit-order',\n      title: `\n        <span id=\"onm-edit-order-${order.id}\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.edit.title', { number: order.number })}\n        </span>`,\n      actions: `\n        <button type=\"button\" class=\"btn-save-view bold text-uppercase\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.action.save')}\n        </button>\n      `,\n      body: `\n        <table id=\"onm-edit-order-table\" class=\"table table-white\">\n          <thead>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.row.product.code')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.row.product.name')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.row.quantity')}</th>\n            <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.edit.actions')}</th>\n          </thead>\n          <tbody id=\"onm-order-edit-rows\">\n            ${order.rows.map(row => OrderEditRow({ row })).join('')}\n          </tbody>\n        </table>\n      `,\n      dismissable: true\n    }))\n\n    this.html.on('click', '.btn-save-view', e => this.onSave(e))\n    this.html.on('click', '.onm-order-edit-remove-row', e => this.onRowRemove(e))\n\n    return this.html\n  }\n\n  onRowRemove (evt) {\n    const target = $(evt.target)\n    const row = target.closest('tr')\n\n    if (row.hasClass('onm-removed')) {\n      target.text(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.action.remove'))\n      row.removeClass('onm-removed')\n      row.css({\n        'text-decoration': 'none'\n      })\n    } else {\n      target.text(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.action.add.back'))\n      row.addClass('onm-removed')\n      row.css({\n        'text-decoration': 'line-through'\n      })\n    }\n  }\n\n  async onSave (evt) {\n    const order = this.store.getState().unprocessedOrders.selected\n\n    let removedProducts = []\n    let rows = this.html\n      .find('[data-row-id]')\n      .map(function () {\n        let amount\n\n        if ($(this).hasClass('onm-removed')) {\n          amount = 0\n        } else {\n          amount = $(this).find('[name=\"onm-order-row-amount\"]').val()\n        }\n\n        const original = _.cloneDeep(order.rows.find(\n          row => parseInt(row.rowID) === parseInt($(this).data('row-id'))\n        ))\n\n        original.amount = amount\n\n        return original\n      })\n      .get()\n      .filter(row => {\n        if (row.amount > 0) {\n          return true\n        }\n\n        removedProducts.push(row.code)\n        return false\n      })\n\n    if (removedProducts.length !== 0) {\n      let message = Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.edit.confirmation.plu.remove', {\n        pluList: removedProducts.join(', ')\n      })\n\n      if (rows.length === 0) {\n        message += (' ' + Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.edit.confirmation.order.cancelled'))\n      }\n\n      ERPLY.Confirm({\n        title: Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.edit.confirmation.title'),\n        body: message + ' ' + Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.edit.confirmation.confirmation.text'),\n        buttons: ['yes', 'cancel'],\n        'on.yes': () => {\n          this.saveEditedOrder(rows, order)\n        }\n      })\n\n      $('#confirmation-modal .modal-content').css({\n        'border': '1px solid rgba(0, 0, 0, 0.2)'\n      })\n\n      $('#confirmation-modal .button-cancel').css({\n        height: '48px'\n      })\n\n      $('#confirmation-modal .button-yes').css({\n        height: '48px'\n      })\n    } else {\n      await this.saveEditedOrder(rows, order)\n    }\n  }\n\n  async saveEditedOrder (rows, order) {\n    const notification = ERPLY.Alert(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.text'))\n\n    // If no rows are left on the order, cancel it\n    if (rows.length === 0) {\n      try {\n        await _api_erply_orders__WEBPACK_IMPORTED_MODULE_3__[\"Orders\"].updatePickupStatus(order, _constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"].CANCELLED)\n\n        TSPOS.EventManager.runEventListener('onm_after_order_status_update', {\n          order: order,\n          status: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"].CANCELLED\n        })\n      } catch (err) {\n        Ember.Logger.error(err, err.ctx)\n        return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_8__[\"toErrorNotification\"])(\n          notification,\n          Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.error', { error: err.message })\n        )\n      }\n    } else {\n      try {\n        await _api_erply_orders__WEBPACK_IMPORTED_MODULE_3__[\"Orders\"].save(Object.assign({\n          id: order.id,\n          attributeName0: 'pickupStatus',\n          attributeType0: 'text',\n          attributeValue0: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"].PICKED,\n          ignoreLocalSQL: true\n        }, Object(_api_erply_utils__WEBPACK_IMPORTED_MODULE_5__[\"flatten\"])(rows.map(row => {\n          return {\n            productID: row.productID,\n            amount: row.amount\n          }\n        }))))\n\n        this.store.dispatch(Object(_actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_7__[\"pickOrder\"])(order.id, rows))\n      } catch (err) {\n        Ember.Logger.error(err, err.ctx)\n        return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_8__[\"toErrorNotification\"])(\n          notification,\n          Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.error', { error: err.message })\n        )\n      }\n    }\n\n    notification.close()\n\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_2__[\"renderStoredView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_6__[\"UNPROCESSED_ORDERS_LIST\"],\n      modal: false,\n      dismiss: true\n    })\n  }\n\n  onClose () {\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_2__[\"renderStoredView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_6__[\"UNPROCESSED_ORDERS_LIST\"],\n      modal: false,\n      dismiss: true\n    })\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvdW5wcm9jZXNzZWQtb3JkZXJzL2VkaXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvdW5wcm9jZXNzZWQtb3JkZXJzL2VkaXQuanM/YzFmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4uLy4uL3RlbXBsYXRlcy9tb2RhbCdcbmltcG9ydCB7IHQgfSBmcm9tICcuLi8uLi9sb2NhbGl6YXRpb24nXG5pbXBvcnQgeyByZW5kZXJTdG9yZWRWaWV3IH0gZnJvbSAnLi4vLi4vdXRpbHMvdmlldydcbmltcG9ydCB7IE9yZGVycyB9IGZyb20gJy4uLy4uL2FwaS9lcnBseS9vcmRlcnMnXG5pbXBvcnQgeyBQaWNrdXBTdGF0dXMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcGlja3VwLXN0YXR1cydcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuLi8uLi9hcGkvZXJwbHkvdXRpbHMnXG5pbXBvcnQgeyBVTlBST0NFU1NFRF9PUkRFUlNfTElTVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy90ZW1wbGF0ZXMnXG5pbXBvcnQgeyBwaWNrT3JkZXIgfSBmcm9tICcuLi8uLi9hY3Rpb25zL3VucHJvY2Vzc2VkLW9yZGVycydcbmltcG9ydCB7IHRvRXJyb3JOb3RpZmljYXRpb24gfSBmcm9tICcuLi8uLi91dGlscy9ub3RpZmljYXRpb24nXG5cbmNvbnN0IE9yZGVyRWRpdFJvdyA9ICh7IHJvdyB9KSA9PiAoXG4gIGA8dHIgZGF0YS1yb3ctaWQ9XCIke3Jvdy5yb3dJRH1cIj5cbiAgICA8dGQ+JHtfLmVzY2FwZShyb3cuY29kZSl9PC90ZD5cbiAgICA8dGQ+JHtfLmVzY2FwZShyb3cuaXRlbU5hbWUpfTwvdGQ+XG4gICAgPHRkPlxuICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgbmFtZT1cIm9ubS1vcmRlci1yb3ctYW1vdW50XCJcbiAgICAgICAgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaW5wdXQtc21cIlxuICAgICAgICB2YWx1ZT1cIiR7Xy5lc2NhcGUocm93LmFtb3VudCl9XCIvPlxuICAgIDwvdGQ+XG4gICAgPHRkPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBvbm0tb3JkZXItZWRpdC1yZW1vdmUtcm93IG9ubS1yZW1vdmVcIj5cbiAgICAgICAgJHt0KCdvcmRlci5hY3Rpb24ucmVtb3ZlJyl9XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L3RkPlxuICA8L3RyPmBcbilcblxuZXhwb3J0IGNsYXNzIEVkaXRVbnByb2Nlc3NlZE9yZGVyIHtcbiAgY29uc3RydWN0b3IgKHN0b3JlKSB7XG4gICAgdGhpcy5zdG9yZSA9IHN0b3JlXG4gICAgdGhpcy5odG1sID0gJCgnPGRpdj48L2Rpdj4nKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBvcmRlciA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51bnByb2Nlc3NlZE9yZGVycy5zZWxlY3RlZFxuXG4gICAgdGhpcy5odG1sLm9mZignY2xpY2snKVxuXG4gICAgdGhpcy5odG1sID0gJChNb2RhbCh7XG4gICAgICBpZDogJ29ubS1lZGl0LW9yZGVyJyxcbiAgICAgIHRpdGxlOiBgXG4gICAgICAgIDxzcGFuIGlkPVwib25tLWVkaXQtb3JkZXItJHtvcmRlci5pZH1cIj5cbiAgICAgICAgICAke3QoJ29yZGVyLmVkaXQudGl0bGUnLCB7IG51bWJlcjogb3JkZXIubnVtYmVyIH0pfVxuICAgICAgICA8L3NwYW4+YCxcbiAgICAgIGFjdGlvbnM6IGBcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4tc2F2ZS12aWV3IGJvbGQgdGV4dC11cHBlcmNhc2VcIj5cbiAgICAgICAgICAke3QoJ29yZGVyLmFjdGlvbi5zYXZlJyl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgYCxcbiAgICAgIGJvZHk6IGBcbiAgICAgICAgPHRhYmxlIGlkPVwib25tLWVkaXQtb3JkZXItdGFibGVcIiBjbGFzcz1cInRhYmxlIHRhYmxlLXdoaXRlXCI+XG4gICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRoPiR7dCgnb3JkZXIucm93LnByb2R1Y3QuY29kZScpfTwvdGg+XG4gICAgICAgICAgICA8dGg+JHt0KCdvcmRlci5yb3cucHJvZHVjdC5uYW1lJyl9PC90aD5cbiAgICAgICAgICAgIDx0aD4ke3QoJ29yZGVyLnJvdy5xdWFudGl0eScpfTwvdGg+XG4gICAgICAgICAgICA8dGg+JHt0KCdvcmRlci5lZGl0LmFjdGlvbnMnKX08L3RoPlxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRib2R5IGlkPVwib25tLW9yZGVyLWVkaXQtcm93c1wiPlxuICAgICAgICAgICAgJHtvcmRlci5yb3dzLm1hcChyb3cgPT4gT3JkZXJFZGl0Um93KHsgcm93IH0pKS5qb2luKCcnKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgYCxcbiAgICAgIGRpc21pc3NhYmxlOiB0cnVlXG4gICAgfSkpXG5cbiAgICB0aGlzLmh0bWwub24oJ2NsaWNrJywgJy5idG4tc2F2ZS12aWV3JywgZSA9PiB0aGlzLm9uU2F2ZShlKSlcbiAgICB0aGlzLmh0bWwub24oJ2NsaWNrJywgJy5vbm0tb3JkZXItZWRpdC1yZW1vdmUtcm93JywgZSA9PiB0aGlzLm9uUm93UmVtb3ZlKGUpKVxuXG4gICAgcmV0dXJuIHRoaXMuaHRtbFxuICB9XG5cbiAgb25Sb3dSZW1vdmUgKGV2dCkge1xuICAgIGNvbnN0IHRhcmdldCA9ICQoZXZ0LnRhcmdldClcbiAgICBjb25zdCByb3cgPSB0YXJnZXQuY2xvc2VzdCgndHInKVxuXG4gICAgaWYgKHJvdy5oYXNDbGFzcygnb25tLXJlbW92ZWQnKSkge1xuICAgICAgdGFyZ2V0LnRleHQodCgnb3JkZXIuYWN0aW9uLnJlbW92ZScpKVxuICAgICAgcm93LnJlbW92ZUNsYXNzKCdvbm0tcmVtb3ZlZCcpXG4gICAgICByb3cuY3NzKHtcbiAgICAgICAgJ3RleHQtZGVjb3JhdGlvbic6ICdub25lJ1xuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0LnRleHQodCgnb3JkZXIuYWN0aW9uLmFkZC5iYWNrJykpXG4gICAgICByb3cuYWRkQ2xhc3MoJ29ubS1yZW1vdmVkJylcbiAgICAgIHJvdy5jc3Moe1xuICAgICAgICAndGV4dC1kZWNvcmF0aW9uJzogJ2xpbmUtdGhyb3VnaCdcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgb25TYXZlIChldnQpIHtcbiAgICBjb25zdCBvcmRlciA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51bnByb2Nlc3NlZE9yZGVycy5zZWxlY3RlZFxuXG4gICAgbGV0IHJlbW92ZWRQcm9kdWN0cyA9IFtdXG4gICAgbGV0IHJvd3MgPSB0aGlzLmh0bWxcbiAgICAgIC5maW5kKCdbZGF0YS1yb3ctaWRdJylcbiAgICAgIC5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgYW1vdW50XG5cbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ29ubS1yZW1vdmVkJykpIHtcbiAgICAgICAgICBhbW91bnQgPSAwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW1vdW50ID0gJCh0aGlzKS5maW5kKCdbbmFtZT1cIm9ubS1vcmRlci1yb3ctYW1vdW50XCJdJykudmFsKClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gXy5jbG9uZURlZXAob3JkZXIucm93cy5maW5kKFxuICAgICAgICAgIHJvdyA9PiBwYXJzZUludChyb3cucm93SUQpID09PSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ3Jvdy1pZCcpKVxuICAgICAgICApKVxuXG4gICAgICAgIG9yaWdpbmFsLmFtb3VudCA9IGFtb3VudFxuXG4gICAgICAgIHJldHVybiBvcmlnaW5hbFxuICAgICAgfSlcbiAgICAgIC5nZXQoKVxuICAgICAgLmZpbHRlcihyb3cgPT4ge1xuICAgICAgICBpZiAocm93LmFtb3VudCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgcmVtb3ZlZFByb2R1Y3RzLnB1c2gocm93LmNvZGUpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSlcblxuICAgIGlmIChyZW1vdmVkUHJvZHVjdHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IHQoJ29yZGVyLmVkaXQuY29uZmlybWF0aW9uLnBsdS5yZW1vdmUnLCB7XG4gICAgICAgIHBsdUxpc3Q6IHJlbW92ZWRQcm9kdWN0cy5qb2luKCcsICcpXG4gICAgICB9KVxuXG4gICAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbWVzc2FnZSArPSAoJyAnICsgdCgnb3JkZXIuZWRpdC5jb25maXJtYXRpb24ub3JkZXIuY2FuY2VsbGVkJykpXG4gICAgICB9XG5cbiAgICAgIEVSUExZLkNvbmZpcm0oe1xuICAgICAgICB0aXRsZTogdCgnb3JkZXIuZWRpdC5jb25maXJtYXRpb24udGl0bGUnKSxcbiAgICAgICAgYm9keTogbWVzc2FnZSArICcgJyArIHQoJ29yZGVyLmVkaXQuY29uZmlybWF0aW9uLmNvbmZpcm1hdGlvbi50ZXh0JyksXG4gICAgICAgIGJ1dHRvbnM6IFsneWVzJywgJ2NhbmNlbCddLFxuICAgICAgICAnb24ueWVzJzogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2F2ZUVkaXRlZE9yZGVyKHJvd3MsIG9yZGVyKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAkKCcjY29uZmlybWF0aW9uLW1vZGFsIC5tb2RhbC1jb250ZW50JykuY3NzKHtcbiAgICAgICAgJ2JvcmRlcic6ICcxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpJ1xuICAgICAgfSlcblxuICAgICAgJCgnI2NvbmZpcm1hdGlvbi1tb2RhbCAuYnV0dG9uLWNhbmNlbCcpLmNzcyh7XG4gICAgICAgIGhlaWdodDogJzQ4cHgnXG4gICAgICB9KVxuXG4gICAgICAkKCcjY29uZmlybWF0aW9uLW1vZGFsIC5idXR0b24teWVzJykuY3NzKHtcbiAgICAgICAgaGVpZ2h0OiAnNDhweCdcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHRoaXMuc2F2ZUVkaXRlZE9yZGVyKHJvd3MsIG9yZGVyKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNhdmVFZGl0ZWRPcmRlciAocm93cywgb3JkZXIpIHtcbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBFUlBMWS5BbGVydCh0KCdvcmRlci5zYXZlLmFjdGlvbi50ZXh0JykpXG5cbiAgICAvLyBJZiBubyByb3dzIGFyZSBsZWZ0IG9uIHRoZSBvcmRlciwgY2FuY2VsIGl0XG4gICAgaWYgKHJvd3MubGVuZ3RoID09PSAwKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBPcmRlcnMudXBkYXRlUGlja3VwU3RhdHVzKG9yZGVyLCBQaWNrdXBTdGF0dXMuQ0FOQ0VMTEVEKVxuXG4gICAgICAgIFRTUE9TLkV2ZW50TWFuYWdlci5ydW5FdmVudExpc3RlbmVyKCdvbm1fYWZ0ZXJfb3JkZXJfc3RhdHVzX3VwZGF0ZScsIHtcbiAgICAgICAgICBvcmRlcjogb3JkZXIsXG4gICAgICAgICAgc3RhdHVzOiBQaWNrdXBTdGF0dXMuQ0FOQ0VMTEVEXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgRW1iZXIuTG9nZ2VyLmVycm9yKGVyciwgZXJyLmN0eClcbiAgICAgICAgcmV0dXJuIHZvaWQgdG9FcnJvck5vdGlmaWNhdGlvbihcbiAgICAgICAgICBub3RpZmljYXRpb24sXG4gICAgICAgICAgdCgnb3JkZXIuc2F2ZS5hY3Rpb24uZXJyb3InLCB7IGVycm9yOiBlcnIubWVzc2FnZSB9KVxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IE9yZGVycy5zYXZlKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGlkOiBvcmRlci5pZCxcbiAgICAgICAgICBhdHRyaWJ1dGVOYW1lMDogJ3BpY2t1cFN0YXR1cycsXG4gICAgICAgICAgYXR0cmlidXRlVHlwZTA6ICd0ZXh0JyxcbiAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZTA6IFBpY2t1cFN0YXR1cy5QSUNLRUQsXG4gICAgICAgICAgaWdub3JlTG9jYWxTUUw6IHRydWVcbiAgICAgICAgfSwgZmxhdHRlbihyb3dzLm1hcChyb3cgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9kdWN0SUQ6IHJvdy5wcm9kdWN0SUQsXG4gICAgICAgICAgICBhbW91bnQ6IHJvdy5hbW91bnRcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSkpXG5cbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChwaWNrT3JkZXIob3JkZXIuaWQsIHJvd3MpKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIsIGVyci5jdHgpXG4gICAgICAgIHJldHVybiB2b2lkIHRvRXJyb3JOb3RpZmljYXRpb24oXG4gICAgICAgICAgbm90aWZpY2F0aW9uLFxuICAgICAgICAgIHQoJ29yZGVyLnNhdmUuYWN0aW9uLmVycm9yJywgeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIG5vdGlmaWNhdGlvbi5jbG9zZSgpXG5cbiAgICByZW5kZXJTdG9yZWRWaWV3KHtcbiAgICAgIHZpZXdUeXBlOiBVTlBST0NFU1NFRF9PUkRFUlNfTElTVCxcbiAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgIGRpc21pc3M6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgb25DbG9zZSAoKSB7XG4gICAgcmVuZGVyU3RvcmVkVmlldyh7XG4gICAgICB2aWV3VHlwZTogVU5QUk9DRVNTRURfT1JERVJTX0xJU1QsXG4gICAgICBtb2RhbDogZmFsc2UsXG4gICAgICBkaXNtaXNzOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/views/unprocessed-orders/edit.js\n");

/***/ }),

/***/ "./src/views/unprocessed-orders/list.js":
/*!**********************************************!*\
  !*** ./src/views/unprocessed-orders/list.js ***!
  \**********************************************/
/*! exports provided: UnprocessedOrdersList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UnprocessedOrdersList\", function() { return UnprocessedOrdersList; });\n/* harmony import */ var _templates_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../templates/modal */ \"./src/templates/modal.js\");\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../localization */ \"./src/localization/index.js\");\n/* harmony import */ var _utils_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/view */ \"./src/utils/view.js\");\n/* harmony import */ var _orders_delivery_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../orders/delivery-type */ \"./src/orders/delivery-type.js\");\n/* harmony import */ var _orders_pickup_status__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../orders/pickup-status */ \"./src/orders/pickup-status.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n/* harmony import */ var _api_erply_orders__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../api/erply/orders */ \"./src/api/erply/orders.js\");\n/* harmony import */ var _orders_init_order_model__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../orders/init-order-model */ \"./src/orders/init-order-model.js\");\n/* harmony import */ var _templates_print_template__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../templates/print-template */ \"./src/templates/print-template.js\");\n/* harmony import */ var _utils_print__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/print */ \"./src/utils/print.js\");\n/* harmony import */ var _recent_orders_list__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../recent-orders/list */ \"./src/views/recent-orders/list.js\");\n/* harmony import */ var _constants_templates__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../constants/templates */ \"./src/constants/templates.js\");\n/* harmony import */ var _actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../actions/unprocessed-orders */ \"./src/actions/unprocessed-orders.js\");\n/* harmony import */ var _utils_notification__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../utils/notification */ \"./src/utils/notification.js\");\n/* harmony import */ var _utils_date__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../utils/date */ \"./src/utils/date.js\");\n/* harmony import */ var _api_erply_api__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../api/erply/api */ \"./src/api/erply/api.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass UnprocessedOrdersList {\n  constructor (store) {\n    this.store = store\n    this.html = $(Object(_templates_modal__WEBPACK_IMPORTED_MODULE_0__[\"Modal\"])({\n      id: 'order-notifications-unprocessed-orders',\n      title: Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.list.title'),\n      actions: `\n        <button type=\"button\" class=\"btn-save-view bold text-uppercase\" id=\"onm-refresh-button\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.list.refresh.button')}\n        </button>\n      `,\n      body: `\n      <table id=\"onm-unfulfilled-orders-table\" class=\"table table-white\">\n        <thead>\n          <tr>\n            <th data-sort=\"int\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.number')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.pickup.date.time')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('customer')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.status')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.pickup.type')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.action.heading')}</th>\n          </tr>\n         </thead>\n        <tbody id=\"onm-unfulfilled-orders\">\n        </tbody>\n      </table>`\n    }))\n\n    this.html.addClass('customer-add-modal')\n    this.sortedIndex = 0\n    this.sortingDirection = 'desc'\n\n    TSPOS.EventManager.addEventListener('onm_after_orders_update', () => {\n      if (Object(_utils_view__WEBPACK_IMPORTED_MODULE_2__[\"isViewOpen\"])(_constants_templates__WEBPACK_IMPORTED_MODULE_11__[\"UNPROCESSED_ORDERS_LIST\"])) {\n        this.render()\n      }\n    })\n  }\n\n  render () {\n    const body = this.html.find('.modal-body')\n    const state = this.store.getState()\n    const orders = state.unprocessedOrders.orders\n\n    const header = $(`\n      <span class=\"modal-header-title text-24px\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.list.title')}</span>\n      <div class=\"modal-actions pull-right\">\n        <button type=\"button\" class=\"btn-save-view bold text-uppercase\" id=\"onm-refresh-button\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.list.refresh.button')}\n        </button>\n        <button type=\"button\" class=\"close\">×</button>\n      </div>\n    `)\n\n    this.html.find('.modal-header').html(header)\n\n    const table = $(`\n    <div class=\"toggle-button-actions\">\n      <div>\n        <button type=\"button\" style=\"width:50%!important\" class=\"btn btn-transparent bold active\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.tab.unfinished')}\n        </button>\n        <button type=\"button\" style=\"width:50%!important\" class=\"btn bold btn-transparent\" id=\"onm-history-button\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.tab.history')}\n        </button>\n      </div>\n    </div>\n      <table id=\"onm-unfulfilled-orders-table\" class=\"table table-white\">\n        <thead>\n          <tr>\n            <th data-sort=\"int\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.number')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.pickup.date.time')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('customer')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.status')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.pickup.type')}</th>\n            <th data-sort=\"string\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.action.heading')}</th>\n          </tr>\n        </thead>\n        <tbody id=\"onm-unfulfilled-orders\">\n          ${orders.map(order => `\n          <tr data-order-id=\"${order.id}\" style=\"cursor: default;\">\n            <td class=\"onm-view-order pointer\" style=\"text-decoration: underline;\">${order.number}</td>\n            <td>${Object(_utils_date__WEBPACK_IMPORTED_MODULE_14__[\"getOrderDateTime\"])(order.getAttributeValue('pickupDateTime'))}</td>\n            <td>${order.clientName}</td>\n            <td>${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"getPickupStatusKey\"])(order.getAttributeValue('pickupStatus')))}</td>\n            <td>${Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_3__[\"getDeliveryType\"])(order)}</td>\n            <td>\n              <button type=\"button\" class=\"btn onm-table-action\" style=\"white-space: normal; max-width: 110px;\">\n                ${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])(Object(_orders_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"getActionTextForStatus\"])(order.getAttributeValue('pickupStatus')))}\n              </button>\n            </td>\n          </tr>\n          `).join('')}\n        </tbody>\n      </table>\n    `)\n\n    table.find('thead th').eq(this.sortedIndex).attr('data-sort-onload', 'yes')\n    table.find('thead th').eq(this.sortedIndex).attr('data-sort-default', this.sortingDirection)\n\n    table.bind('aftertablesort', (evt, data) => {\n      this.sortedIndex = data.column\n      this.sortingDirection = data.direction\n    })\n\n    table.stupidtable()\n\n    $('body').off('click', '.onm-view-order')\n    $('body').off('click', '.onm-table-action')\n    $('body').off('click', '#onm-refresh-button')\n    $('body').off('click', '#onm-history-button')\n\n    $('body').on('click', '.onm-view-order', this.handleRowClick.bind(this))\n    $('body').on('click', '.onm-table-action', this.handleActionClick.bind(this))\n    $('body').on('click', '#onm-refresh-button', this.refreshList.bind(this))\n    $('body').on('click', '#onm-history-button', this.handleHistoryClick.bind(this))\n\n    body.html(table)\n\n    return this.html\n  }\n\n  async handleHistoryClick (evt) {\n    let orders = []\n\n    const notification = ERPLY.Alert(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.fetch.recent.orders'))\n\n    try {\n      orders = await _api_erply_orders__WEBPACK_IMPORTED_MODULE_6__[\"Orders\"].getRecentOrders({\n        orderBy: 'lastChanged',\n        orderByDir: 'desc',\n        getCustomerInformation: 1,\n        recordsOnPage: 20\n      })\n    } catch (err) {\n      Ember.Logger.error(err, err.ctx)\n      return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_13__[\"toErrorNotification\"])(\n        notification,\n        Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.fetch.recent.orders.error', { error: err.message })\n      )\n    }\n\n    notification.close()\n\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_2__[\"renderView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_11__[\"FINISHED_ORDERS_LIST\"],\n      dismiss: true,\n      modal: false,\n      content: Object(_recent_orders_list__WEBPACK_IMPORTED_MODULE_10__[\"RecentOrdersList\"])({\n        orders\n      })\n    })\n  }\n\n  handleRowClick (evt) {\n    const id = $(evt.target).closest('tr').data('order-id')\n\n    this.store.dispatch(Object(_actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_12__[\"selectOrder\"])(id))\n\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_2__[\"renderStoredView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_11__[\"VIEW_UNPROCESSED_ORDER\"],\n      dismiss: true,\n      modal: false\n    })\n  }\n\n  async refreshList () {\n    const notification = ERPLY.Alert(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.fetch.unprocessed.orders'))\n\n    let response\n\n    try {\n      response = await _api_erply_orders__WEBPACK_IMPORTED_MODULE_6__[\"Orders\"].all({\n        warehouseID: TSPOS.Model.POS.selectedWarehouseID,\n        confirmed: 1,\n        searchAttributeName0: 'pickupProcessed',\n        searchAttributeValue0: 0\n      })\n\n      this.store.dispatch(Object(_actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_12__[\"updateOrders\"])(response.getRecords()))\n\n      TSPOS.EventManager.runEventListener('onm_after_orders_update', {\n        orders: response.getRecords()\n      })\n    } catch (err) {\n      Ember.Logger.error(err, err.ctx)\n      return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_13__[\"toErrorNotification\"])(\n        notification,\n        Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('orders.fetch.unprocessed.orders.error', { error: err.message })\n      )\n    }\n\n    notification.close()\n  }\n\n  async handleActionClick (evt) {\n    const id = $(evt.target).closest('tr').data('order-id')\n    const order = this.store.getState().unprocessedOrders.orders.find(order => parseInt(order.id) === parseInt(id))\n\n    switch (order.getAttributeValue('pickupStatus')) {\n      case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__[\"PickupStatus\"].NEW:\n        await this.printPickingList(order)\n        break\n      case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__[\"PickupStatus\"].PICKING:\n        await this.finishPicking(order)\n        break\n      case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__[\"PickupStatus\"].PICKED:\n        await this.confirmOrder(order)\n        break\n      case _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__[\"PickupStatus\"].CANCELLED:\n        await this.moveCancelledOrderToHistory(order)\n        break\n    }\n  }\n\n  async printPickingList (order) {\n    // const customerInfo = (await ErplyApi.sendRequest('getCustomers', {\n    //   customerID: order.clientID\n    // })).getFirstRecord()\n\n    const notification = ERPLY.Alert(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.print.generate'))\n\n    try {\n      Object(_utils_print__WEBPACK_IMPORTED_MODULE_9__[\"printHtml\"])(Object(_templates_print_template__WEBPACK_IMPORTED_MODULE_8__[\"PrintTemplate\"])({ order }))\n    } catch (err) {\n      Ember.Logger.error(err)\n      return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_13__[\"toErrorNotification\"])(notification, Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.print.generate.error'))\n    }\n\n    notification.setMessage(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.text'))\n\n    try {\n      await _api_erply_orders__WEBPACK_IMPORTED_MODULE_6__[\"Orders\"].updatePickupStatus(order, _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__[\"PickupStatus\"].PICKING)\n      TSPOS.EventManager.runEventListener('onm_after_order_status_update', {\n        order: order,\n        status: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__[\"PickupStatus\"].PICKING\n      })\n\n      notification.close()\n    } catch (err) {\n      Ember.Logger.error(err, err.ctx)\n      Object(_utils_notification__WEBPACK_IMPORTED_MODULE_13__[\"toErrorNotification\"])(\n        notification,\n        Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.error', { error: err.message })\n      )\n    }\n\n    notification.close()\n  }\n\n  async finishPicking (order) {\n    this.store.dispatch(Object(_actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_12__[\"selectOrder\"])(order.id))\n\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_2__[\"renderStoredView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_11__[\"PICKING_CONFIRMATION\"],\n      dismiss: true,\n      modal: true\n    })\n  }\n\n  async confirmOrder (order) {\n    // Client needs to pay for an order, CASHINVOICE has already been paid for\n    if (order.type === 'ORDER') {\n      Object(_orders_init_order_model__WEBPACK_IMPORTED_MODULE_7__[\"initOrderModel\"])(order)\n      TSPOS.UI.closeCurrentView()\n      $('#button-return').addClass('hidden')\n      $('#button-nosale').removeClass('hidden')\n    } else {\n      const notification = ERPLY.Alert(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.text'))\n\n      try {\n        TSPOS.Print.printData({\n          url: order.invoiceLink,\n          payload: {\n            warehouseName: order.warehouseName,\n            warehouseID: order.warehouseID,\n            posName: order.pointOfSaleName,\n            invoiceNo: order.number,\n            type: order.type,\n            customerName: order.clientName,\n            customerID: order.clientID,\n            customerCardNumber: order.clientCardNumber,\n            employeeName: order.employeeName,\n            notes: order.notes,\n            items: order.rows,\n            dateTime: order.date + ' ' + order.time,\n            netTotal: order.netTotal,\n            total: order.total\n          }\n        })\n        await _api_erply_orders__WEBPACK_IMPORTED_MODULE_6__[\"Orders\"].updatePickupStatus(order, _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__[\"PickupStatus\"].CONFIRMED)\n        TSPOS.EventManager.runEventListener('onm_after_order_status_update', {\n          order: order,\n          status: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__[\"PickupStatus\"].CONFIRMED\n        })\n      } catch (err) {\n        Ember.Logger.error(err, err.ctx)\n        return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_13__[\"toErrorNotification\"])(\n          notification,\n          Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.error', { error: err.message })\n        )\n      }\n\n      notification.close()\n    }\n  }\n  async moveCancelledOrderToHistory (order) {\n    const notification = ERPLY.Alert(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.text'))\n\n    try {\n      await _api_erply_orders__WEBPACK_IMPORTED_MODULE_6__[\"Orders\"].save({\n        id: order.id,\n        attributeName0: 'pickupProcessed',\n        attributeType0: 'int',\n        attributeValue0: 1,\n        ignoreLocalSQL: true\n      })\n\n      this.store.dispatch(Object(_actions_unprocessed_orders__WEBPACK_IMPORTED_MODULE_12__[\"updateOrderStatus\"])(order.id, _constants_pickup_status__WEBPACK_IMPORTED_MODULE_5__[\"PickupStatus\"].CANCELLED))\n\n      TSPOS.EventManager.runEventListener('onm_after_orders_update', {\n        orders: this.store.getState().unprocessedOrders.orders\n      })\n    } catch (err) {\n      Ember.Logger.error(err, err.ctx)\n      return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_13__[\"toErrorNotification\"])(\n        notification,\n        Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.error', { error: err.message })\n      )\n    }\n\n    notification.close()\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvdW5wcm9jZXNzZWQtb3JkZXJzL2xpc3QuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvdW5wcm9jZXNzZWQtb3JkZXJzL2xpc3QuanM/ZDUyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2RhbCB9IGZyb20gJy4uLy4uL3RlbXBsYXRlcy9tb2RhbCdcbmltcG9ydCB7IHQsIGdldFBpY2t1cFN0YXR1c0tleSB9IGZyb20gJy4uLy4uL2xvY2FsaXphdGlvbidcbmltcG9ydCB7IHJlbmRlclN0b3JlZFZpZXcsIHJlbmRlclZpZXcsIGlzVmlld09wZW4gfSBmcm9tICcuLi8uLi91dGlscy92aWV3J1xuaW1wb3J0IHsgZ2V0RGVsaXZlcnlUeXBlIH0gZnJvbSAnLi4vLi4vb3JkZXJzL2RlbGl2ZXJ5LXR5cGUnXG5pbXBvcnQgeyBnZXRBY3Rpb25UZXh0Rm9yU3RhdHVzIH0gZnJvbSAnLi4vLi4vb3JkZXJzL3BpY2t1cC1zdGF0dXMnXG5pbXBvcnQgeyBQaWNrdXBTdGF0dXMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcGlja3VwLXN0YXR1cydcbmltcG9ydCB7IE9yZGVycyB9IGZyb20gJy4uLy4uL2FwaS9lcnBseS9vcmRlcnMnXG5pbXBvcnQgeyBpbml0T3JkZXJNb2RlbCB9IGZyb20gJy4uLy4uL29yZGVycy9pbml0LW9yZGVyLW1vZGVsJ1xuaW1wb3J0IHsgUHJpbnRUZW1wbGF0ZSB9IGZyb20gJy4uLy4uL3RlbXBsYXRlcy9wcmludC10ZW1wbGF0ZSdcbmltcG9ydCB7IHByaW50SHRtbCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaW50J1xuaW1wb3J0IHsgUmVjZW50T3JkZXJzTGlzdCB9IGZyb20gJy4uL3JlY2VudC1vcmRlcnMvbGlzdCdcbmltcG9ydCB7IFZJRVdfVU5QUk9DRVNTRURfT1JERVIsIFBJQ0tJTkdfQ09ORklSTUFUSU9OLCBGSU5JU0hFRF9PUkRFUlNfTElTVCwgVU5QUk9DRVNTRURfT1JERVJTX0xJU1QgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvdGVtcGxhdGVzJ1xuaW1wb3J0IHsgdXBkYXRlT3JkZXJzLCBzZWxlY3RPcmRlciwgdXBkYXRlT3JkZXJTdGF0dXMgfSBmcm9tICcuLi8uLi9hY3Rpb25zL3VucHJvY2Vzc2VkLW9yZGVycydcbmltcG9ydCB7IHRvRXJyb3JOb3RpZmljYXRpb24gfSBmcm9tICcuLi8uLi91dGlscy9ub3RpZmljYXRpb24nXG5pbXBvcnQgeyBnZXRPcmRlckRhdGVUaW1lIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGF0ZSdcbmltcG9ydCB7IEVycGx5QXBpIH0gZnJvbSAnLi4vLi4vYXBpL2VycGx5L2FwaSdcblxuZXhwb3J0IGNsYXNzIFVucHJvY2Vzc2VkT3JkZXJzTGlzdCB7XG4gIGNvbnN0cnVjdG9yIChzdG9yZSkge1xuICAgIHRoaXMuc3RvcmUgPSBzdG9yZVxuICAgIHRoaXMuaHRtbCA9ICQoTW9kYWwoe1xuICAgICAgaWQ6ICdvcmRlci1ub3RpZmljYXRpb25zLXVucHJvY2Vzc2VkLW9yZGVycycsXG4gICAgICB0aXRsZTogdCgnb3JkZXJzLmxpc3QudGl0bGUnKSxcbiAgICAgIGFjdGlvbnM6IGBcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4tc2F2ZS12aWV3IGJvbGQgdGV4dC11cHBlcmNhc2VcIiBpZD1cIm9ubS1yZWZyZXNoLWJ1dHRvblwiPlxuICAgICAgICAgICR7dCgnb3JkZXJzLmxpc3QucmVmcmVzaC5idXR0b24nKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICBgLFxuICAgICAgYm9keTogYFxuICAgICAgPHRhYmxlIGlkPVwib25tLXVuZnVsZmlsbGVkLW9yZGVycy10YWJsZVwiIGNsYXNzPVwidGFibGUgdGFibGUtd2hpdGVcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aCBkYXRhLXNvcnQ9XCJpbnRcIj4ke3QoJ29yZGVyLm51bWJlcicpfTwvdGg+XG4gICAgICAgICAgICA8dGggZGF0YS1zb3J0PVwic3RyaW5nXCI+JHt0KCdvcmRlci5waWNrdXAuZGF0ZS50aW1lJyl9PC90aD5cbiAgICAgICAgICAgIDx0aCBkYXRhLXNvcnQ9XCJzdHJpbmdcIj4ke3QoJ2N1c3RvbWVyJyl9PC90aD5cbiAgICAgICAgICAgIDx0aCBkYXRhLXNvcnQ9XCJzdHJpbmdcIj4ke3QoJ29yZGVyLnN0YXR1cycpfTwvdGg+XG4gICAgICAgICAgICA8dGggZGF0YS1zb3J0PVwic3RyaW5nXCI+JHt0KCdvcmRlci5waWNrdXAudHlwZScpfTwvdGg+XG4gICAgICAgICAgICA8dGggZGF0YS1zb3J0PVwic3RyaW5nXCI+JHt0KCdvcmRlci5hY3Rpb24uaGVhZGluZycpfTwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0Ym9keSBpZD1cIm9ubS11bmZ1bGZpbGxlZC1vcmRlcnNcIj5cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+YFxuICAgIH0pKVxuXG4gICAgdGhpcy5odG1sLmFkZENsYXNzKCdjdXN0b21lci1hZGQtbW9kYWwnKVxuICAgIHRoaXMuc29ydGVkSW5kZXggPSAwXG4gICAgdGhpcy5zb3J0aW5nRGlyZWN0aW9uID0gJ2Rlc2MnXG5cbiAgICBUU1BPUy5FdmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcignb25tX2FmdGVyX29yZGVyc191cGRhdGUnLCAoKSA9PiB7XG4gICAgICBpZiAoaXNWaWV3T3BlbihVTlBST0NFU1NFRF9PUkRFUlNfTElTVCkpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IGJvZHkgPSB0aGlzLmh0bWwuZmluZCgnLm1vZGFsLWJvZHknKVxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpXG4gICAgY29uc3Qgb3JkZXJzID0gc3RhdGUudW5wcm9jZXNzZWRPcmRlcnMub3JkZXJzXG5cbiAgICBjb25zdCBoZWFkZXIgPSAkKGBcbiAgICAgIDxzcGFuIGNsYXNzPVwibW9kYWwtaGVhZGVyLXRpdGxlIHRleHQtMjRweFwiPiR7dCgnb3JkZXJzLmxpc3QudGl0bGUnKX08L3NwYW4+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYWN0aW9ucyBwdWxsLXJpZ2h0XCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuLXNhdmUtdmlldyBib2xkIHRleHQtdXBwZXJjYXNlXCIgaWQ9XCJvbm0tcmVmcmVzaC1idXR0b25cIj5cbiAgICAgICAgICAke3QoJ29yZGVycy5saXN0LnJlZnJlc2guYnV0dG9uJyl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCI+w5c8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIGApXG5cbiAgICB0aGlzLmh0bWwuZmluZCgnLm1vZGFsLWhlYWRlcicpLmh0bWwoaGVhZGVyKVxuXG4gICAgY29uc3QgdGFibGUgPSAkKGBcbiAgICA8ZGl2IGNsYXNzPVwidG9nZ2xlLWJ1dHRvbi1hY3Rpb25zXCI+XG4gICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBzdHlsZT1cIndpZHRoOjUwJSFpbXBvcnRhbnRcIiBjbGFzcz1cImJ0biBidG4tdHJhbnNwYXJlbnQgYm9sZCBhY3RpdmVcIj5cbiAgICAgICAgICAke3QoJ29yZGVycy50YWIudW5maW5pc2hlZCcpfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgc3R5bGU9XCJ3aWR0aDo1MCUhaW1wb3J0YW50XCIgY2xhc3M9XCJidG4gYm9sZCBidG4tdHJhbnNwYXJlbnRcIiBpZD1cIm9ubS1oaXN0b3J5LWJ1dHRvblwiPlxuICAgICAgICAgICR7dCgnb3JkZXJzLnRhYi5oaXN0b3J5Jyl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgICA8dGFibGUgaWQ9XCJvbm0tdW5mdWxmaWxsZWQtb3JkZXJzLXRhYmxlXCIgY2xhc3M9XCJ0YWJsZSB0YWJsZS13aGl0ZVwiPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoIGRhdGEtc29ydD1cImludFwiPiR7dCgnb3JkZXIubnVtYmVyJyl9PC90aD5cbiAgICAgICAgICAgIDx0aCBkYXRhLXNvcnQ9XCJzdHJpbmdcIj4ke3QoJ29yZGVyLnBpY2t1cC5kYXRlLnRpbWUnKX08L3RoPlxuICAgICAgICAgICAgPHRoIGRhdGEtc29ydD1cInN0cmluZ1wiPiR7dCgnY3VzdG9tZXInKX08L3RoPlxuICAgICAgICAgICAgPHRoIGRhdGEtc29ydD1cInN0cmluZ1wiPiR7dCgnb3JkZXIuc3RhdHVzJyl9PC90aD5cbiAgICAgICAgICAgIDx0aCBkYXRhLXNvcnQ9XCJzdHJpbmdcIj4ke3QoJ29yZGVyLnBpY2t1cC50eXBlJyl9PC90aD5cbiAgICAgICAgICAgIDx0aCBkYXRhLXNvcnQ9XCJzdHJpbmdcIj4ke3QoJ29yZGVyLmFjdGlvbi5oZWFkaW5nJyl9PC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHkgaWQ9XCJvbm0tdW5mdWxmaWxsZWQtb3JkZXJzXCI+XG4gICAgICAgICAgJHtvcmRlcnMubWFwKG9yZGVyID0+IGBcbiAgICAgICAgICA8dHIgZGF0YS1vcmRlci1pZD1cIiR7b3JkZXIuaWR9XCIgc3R5bGU9XCJjdXJzb3I6IGRlZmF1bHQ7XCI+XG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJvbm0tdmlldy1vcmRlciBwb2ludGVyXCIgc3R5bGU9XCJ0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcIj4ke29yZGVyLm51bWJlcn08L3RkPlxuICAgICAgICAgICAgPHRkPiR7Z2V0T3JkZXJEYXRlVGltZShvcmRlci5nZXRBdHRyaWJ1dGVWYWx1ZSgncGlja3VwRGF0ZVRpbWUnKSl9PC90ZD5cbiAgICAgICAgICAgIDx0ZD4ke29yZGVyLmNsaWVudE5hbWV9PC90ZD5cbiAgICAgICAgICAgIDx0ZD4ke3QoZ2V0UGlja3VwU3RhdHVzS2V5KG9yZGVyLmdldEF0dHJpYnV0ZVZhbHVlKCdwaWNrdXBTdGF0dXMnKSkpfTwvdGQ+XG4gICAgICAgICAgICA8dGQ+JHtnZXREZWxpdmVyeVR5cGUob3JkZXIpfTwvdGQ+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIG9ubS10YWJsZS1hY3Rpb25cIiBzdHlsZT1cIndoaXRlLXNwYWNlOiBub3JtYWw7IG1heC13aWR0aDogMTEwcHg7XCI+XG4gICAgICAgICAgICAgICAgJHt0KGdldEFjdGlvblRleHRGb3JTdGF0dXMob3JkZXIuZ2V0QXR0cmlidXRlVmFsdWUoJ3BpY2t1cFN0YXR1cycpKSl9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIGApLmpvaW4oJycpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICBgKVxuXG4gICAgdGFibGUuZmluZCgndGhlYWQgdGgnKS5lcSh0aGlzLnNvcnRlZEluZGV4KS5hdHRyKCdkYXRhLXNvcnQtb25sb2FkJywgJ3llcycpXG4gICAgdGFibGUuZmluZCgndGhlYWQgdGgnKS5lcSh0aGlzLnNvcnRlZEluZGV4KS5hdHRyKCdkYXRhLXNvcnQtZGVmYXVsdCcsIHRoaXMuc29ydGluZ0RpcmVjdGlvbilcblxuICAgIHRhYmxlLmJpbmQoJ2FmdGVydGFibGVzb3J0JywgKGV2dCwgZGF0YSkgPT4ge1xuICAgICAgdGhpcy5zb3J0ZWRJbmRleCA9IGRhdGEuY29sdW1uXG4gICAgICB0aGlzLnNvcnRpbmdEaXJlY3Rpb24gPSBkYXRhLmRpcmVjdGlvblxuICAgIH0pXG5cbiAgICB0YWJsZS5zdHVwaWR0YWJsZSgpXG5cbiAgICAkKCdib2R5Jykub2ZmKCdjbGljaycsICcub25tLXZpZXctb3JkZXInKVxuICAgICQoJ2JvZHknKS5vZmYoJ2NsaWNrJywgJy5vbm0tdGFibGUtYWN0aW9uJylcbiAgICAkKCdib2R5Jykub2ZmKCdjbGljaycsICcjb25tLXJlZnJlc2gtYnV0dG9uJylcbiAgICAkKCdib2R5Jykub2ZmKCdjbGljaycsICcjb25tLWhpc3RvcnktYnV0dG9uJylcblxuICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLm9ubS12aWV3LW9yZGVyJywgdGhpcy5oYW5kbGVSb3dDbGljay5iaW5kKHRoaXMpKVxuICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLm9ubS10YWJsZS1hY3Rpb24nLCB0aGlzLmhhbmRsZUFjdGlvbkNsaWNrLmJpbmQodGhpcykpXG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsICcjb25tLXJlZnJlc2gtYnV0dG9uJywgdGhpcy5yZWZyZXNoTGlzdC5iaW5kKHRoaXMpKVxuICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnI29ubS1oaXN0b3J5LWJ1dHRvbicsIHRoaXMuaGFuZGxlSGlzdG9yeUNsaWNrLmJpbmQodGhpcykpXG5cbiAgICBib2R5Lmh0bWwodGFibGUpXG5cbiAgICByZXR1cm4gdGhpcy5odG1sXG4gIH1cblxuICBhc3luYyBoYW5kbGVIaXN0b3J5Q2xpY2sgKGV2dCkge1xuICAgIGxldCBvcmRlcnMgPSBbXVxuXG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gRVJQTFkuQWxlcnQodCgnb3JkZXJzLmZldGNoLnJlY2VudC5vcmRlcnMnKSlcblxuICAgIHRyeSB7XG4gICAgICBvcmRlcnMgPSBhd2FpdCBPcmRlcnMuZ2V0UmVjZW50T3JkZXJzKHtcbiAgICAgICAgb3JkZXJCeTogJ2xhc3RDaGFuZ2VkJyxcbiAgICAgICAgb3JkZXJCeURpcjogJ2Rlc2MnLFxuICAgICAgICBnZXRDdXN0b21lckluZm9ybWF0aW9uOiAxLFxuICAgICAgICByZWNvcmRzT25QYWdlOiAyMFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIsIGVyci5jdHgpXG4gICAgICByZXR1cm4gdm9pZCB0b0Vycm9yTm90aWZpY2F0aW9uKFxuICAgICAgICBub3RpZmljYXRpb24sXG4gICAgICAgIHQoJ29yZGVycy5mZXRjaC5yZWNlbnQub3JkZXJzLmVycm9yJywgeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICBub3RpZmljYXRpb24uY2xvc2UoKVxuXG4gICAgcmVuZGVyVmlldyh7XG4gICAgICB2aWV3VHlwZTogRklOSVNIRURfT1JERVJTX0xJU1QsXG4gICAgICBkaXNtaXNzOiB0cnVlLFxuICAgICAgbW9kYWw6IGZhbHNlLFxuICAgICAgY29udGVudDogUmVjZW50T3JkZXJzTGlzdCh7XG4gICAgICAgIG9yZGVyc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlUm93Q2xpY2sgKGV2dCkge1xuICAgIGNvbnN0IGlkID0gJChldnQudGFyZ2V0KS5jbG9zZXN0KCd0cicpLmRhdGEoJ29yZGVyLWlkJylcblxuICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2VsZWN0T3JkZXIoaWQpKVxuXG4gICAgcmVuZGVyU3RvcmVkVmlldyh7XG4gICAgICB2aWV3VHlwZTogVklFV19VTlBST0NFU1NFRF9PUkRFUixcbiAgICAgIGRpc21pc3M6IHRydWUsXG4gICAgICBtb2RhbDogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgcmVmcmVzaExpc3QgKCkge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IEVSUExZLkFsZXJ0KHQoJ29yZGVycy5mZXRjaC51bnByb2Nlc3NlZC5vcmRlcnMnKSlcblxuICAgIGxldCByZXNwb25zZVxuXG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgT3JkZXJzLmFsbCh7XG4gICAgICAgIHdhcmVob3VzZUlEOiBUU1BPUy5Nb2RlbC5QT1Muc2VsZWN0ZWRXYXJlaG91c2VJRCxcbiAgICAgICAgY29uZmlybWVkOiAxLFxuICAgICAgICBzZWFyY2hBdHRyaWJ1dGVOYW1lMDogJ3BpY2t1cFByb2Nlc3NlZCcsXG4gICAgICAgIHNlYXJjaEF0dHJpYnV0ZVZhbHVlMDogMFxuICAgICAgfSlcblxuICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh1cGRhdGVPcmRlcnMocmVzcG9uc2UuZ2V0UmVjb3JkcygpKSlcblxuICAgICAgVFNQT1MuRXZlbnRNYW5hZ2VyLnJ1bkV2ZW50TGlzdGVuZXIoJ29ubV9hZnRlcl9vcmRlcnNfdXBkYXRlJywge1xuICAgICAgICBvcmRlcnM6IHJlc3BvbnNlLmdldFJlY29yZHMoKVxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIsIGVyci5jdHgpXG4gICAgICByZXR1cm4gdm9pZCB0b0Vycm9yTm90aWZpY2F0aW9uKFxuICAgICAgICBub3RpZmljYXRpb24sXG4gICAgICAgIHQoJ29yZGVycy5mZXRjaC51bnByb2Nlc3NlZC5vcmRlcnMuZXJyb3InLCB7IGVycm9yOiBlcnIubWVzc2FnZSB9KVxuICAgICAgKVxuICAgIH1cblxuICAgIG5vdGlmaWNhdGlvbi5jbG9zZSgpXG4gIH1cblxuICBhc3luYyBoYW5kbGVBY3Rpb25DbGljayAoZXZ0KSB7XG4gICAgY29uc3QgaWQgPSAkKGV2dC50YXJnZXQpLmNsb3Nlc3QoJ3RyJykuZGF0YSgnb3JkZXItaWQnKVxuICAgIGNvbnN0IG9yZGVyID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnVucHJvY2Vzc2VkT3JkZXJzLm9yZGVycy5maW5kKG9yZGVyID0+IHBhcnNlSW50KG9yZGVyLmlkKSA9PT0gcGFyc2VJbnQoaWQpKVxuXG4gICAgc3dpdGNoIChvcmRlci5nZXRBdHRyaWJ1dGVWYWx1ZSgncGlja3VwU3RhdHVzJykpIHtcbiAgICAgIGNhc2UgUGlja3VwU3RhdHVzLk5FVzpcbiAgICAgICAgYXdhaXQgdGhpcy5wcmludFBpY2tpbmdMaXN0KG9yZGVyKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBQaWNrdXBTdGF0dXMuUElDS0lORzpcbiAgICAgICAgYXdhaXQgdGhpcy5maW5pc2hQaWNraW5nKG9yZGVyKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSBQaWNrdXBTdGF0dXMuUElDS0VEOlxuICAgICAgICBhd2FpdCB0aGlzLmNvbmZpcm1PcmRlcihvcmRlcilcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgUGlja3VwU3RhdHVzLkNBTkNFTExFRDpcbiAgICAgICAgYXdhaXQgdGhpcy5tb3ZlQ2FuY2VsbGVkT3JkZXJUb0hpc3Rvcnkob3JkZXIpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcHJpbnRQaWNraW5nTGlzdCAob3JkZXIpIHtcbiAgICAvLyBjb25zdCBjdXN0b21lckluZm8gPSAoYXdhaXQgRXJwbHlBcGkuc2VuZFJlcXVlc3QoJ2dldEN1c3RvbWVycycsIHtcbiAgICAvLyAgIGN1c3RvbWVySUQ6IG9yZGVyLmNsaWVudElEXG4gICAgLy8gfSkpLmdldEZpcnN0UmVjb3JkKClcblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IEVSUExZLkFsZXJ0KHQoJ29yZGVyLnByaW50LmdlbmVyYXRlJykpXG5cbiAgICB0cnkge1xuICAgICAgcHJpbnRIdG1sKFByaW50VGVtcGxhdGUoeyBvcmRlciB9KSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIpXG4gICAgICByZXR1cm4gdm9pZCB0b0Vycm9yTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgdCgnb3JkZXIucHJpbnQuZ2VuZXJhdGUuZXJyb3InKSlcbiAgICB9XG5cbiAgICBub3RpZmljYXRpb24uc2V0TWVzc2FnZSh0KCdvcmRlci5zYXZlLmFjdGlvbi50ZXh0JykpXG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgT3JkZXJzLnVwZGF0ZVBpY2t1cFN0YXR1cyhvcmRlciwgUGlja3VwU3RhdHVzLlBJQ0tJTkcpXG4gICAgICBUU1BPUy5FdmVudE1hbmFnZXIucnVuRXZlbnRMaXN0ZW5lcignb25tX2FmdGVyX29yZGVyX3N0YXR1c191cGRhdGUnLCB7XG4gICAgICAgIG9yZGVyOiBvcmRlcixcbiAgICAgICAgc3RhdHVzOiBQaWNrdXBTdGF0dXMuUElDS0lOR1xuICAgICAgfSlcblxuICAgICAgbm90aWZpY2F0aW9uLmNsb3NlKClcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIsIGVyci5jdHgpXG4gICAgICB0b0Vycm9yTm90aWZpY2F0aW9uKFxuICAgICAgICBub3RpZmljYXRpb24sXG4gICAgICAgIHQoJ29yZGVyLnNhdmUuYWN0aW9uLmVycm9yJywgeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICBub3RpZmljYXRpb24uY2xvc2UoKVxuICB9XG5cbiAgYXN5bmMgZmluaXNoUGlja2luZyAob3JkZXIpIHtcbiAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNlbGVjdE9yZGVyKG9yZGVyLmlkKSlcblxuICAgIHJlbmRlclN0b3JlZFZpZXcoe1xuICAgICAgdmlld1R5cGU6IFBJQ0tJTkdfQ09ORklSTUFUSU9OLFxuICAgICAgZGlzbWlzczogdHJ1ZSxcbiAgICAgIG1vZGFsOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGNvbmZpcm1PcmRlciAob3JkZXIpIHtcbiAgICAvLyBDbGllbnQgbmVlZHMgdG8gcGF5IGZvciBhbiBvcmRlciwgQ0FTSElOVk9JQ0UgaGFzIGFscmVhZHkgYmVlbiBwYWlkIGZvclxuICAgIGlmIChvcmRlci50eXBlID09PSAnT1JERVInKSB7XG4gICAgICBpbml0T3JkZXJNb2RlbChvcmRlcilcbiAgICAgIFRTUE9TLlVJLmNsb3NlQ3VycmVudFZpZXcoKVxuICAgICAgJCgnI2J1dHRvbi1yZXR1cm4nKS5hZGRDbGFzcygnaGlkZGVuJylcbiAgICAgICQoJyNidXR0b24tbm9zYWxlJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IEVSUExZLkFsZXJ0KHQoJ29yZGVyLnNhdmUuYWN0aW9uLnRleHQnKSlcblxuICAgICAgdHJ5IHtcbiAgICAgICAgVFNQT1MuUHJpbnQucHJpbnREYXRhKHtcbiAgICAgICAgICB1cmw6IG9yZGVyLmludm9pY2VMaW5rLFxuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHdhcmVob3VzZU5hbWU6IG9yZGVyLndhcmVob3VzZU5hbWUsXG4gICAgICAgICAgICB3YXJlaG91c2VJRDogb3JkZXIud2FyZWhvdXNlSUQsXG4gICAgICAgICAgICBwb3NOYW1lOiBvcmRlci5wb2ludE9mU2FsZU5hbWUsXG4gICAgICAgICAgICBpbnZvaWNlTm86IG9yZGVyLm51bWJlcixcbiAgICAgICAgICAgIHR5cGU6IG9yZGVyLnR5cGUsXG4gICAgICAgICAgICBjdXN0b21lck5hbWU6IG9yZGVyLmNsaWVudE5hbWUsXG4gICAgICAgICAgICBjdXN0b21lcklEOiBvcmRlci5jbGllbnRJRCxcbiAgICAgICAgICAgIGN1c3RvbWVyQ2FyZE51bWJlcjogb3JkZXIuY2xpZW50Q2FyZE51bWJlcixcbiAgICAgICAgICAgIGVtcGxveWVlTmFtZTogb3JkZXIuZW1wbG95ZWVOYW1lLFxuICAgICAgICAgICAgbm90ZXM6IG9yZGVyLm5vdGVzLFxuICAgICAgICAgICAgaXRlbXM6IG9yZGVyLnJvd3MsXG4gICAgICAgICAgICBkYXRlVGltZTogb3JkZXIuZGF0ZSArICcgJyArIG9yZGVyLnRpbWUsXG4gICAgICAgICAgICBuZXRUb3RhbDogb3JkZXIubmV0VG90YWwsXG4gICAgICAgICAgICB0b3RhbDogb3JkZXIudG90YWxcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGF3YWl0IE9yZGVycy51cGRhdGVQaWNrdXBTdGF0dXMob3JkZXIsIFBpY2t1cFN0YXR1cy5DT05GSVJNRUQpXG4gICAgICAgIFRTUE9TLkV2ZW50TWFuYWdlci5ydW5FdmVudExpc3RlbmVyKCdvbm1fYWZ0ZXJfb3JkZXJfc3RhdHVzX3VwZGF0ZScsIHtcbiAgICAgICAgICBvcmRlcjogb3JkZXIsXG4gICAgICAgICAgc3RhdHVzOiBQaWNrdXBTdGF0dXMuQ09ORklSTUVEXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgRW1iZXIuTG9nZ2VyLmVycm9yKGVyciwgZXJyLmN0eClcbiAgICAgICAgcmV0dXJuIHZvaWQgdG9FcnJvck5vdGlmaWNhdGlvbihcbiAgICAgICAgICBub3RpZmljYXRpb24sXG4gICAgICAgICAgdCgnb3JkZXIuc2F2ZS5hY3Rpb24uZXJyb3InLCB7IGVycm9yOiBlcnIubWVzc2FnZSB9KVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIG5vdGlmaWNhdGlvbi5jbG9zZSgpXG4gICAgfVxuICB9XG4gIGFzeW5jIG1vdmVDYW5jZWxsZWRPcmRlclRvSGlzdG9yeSAob3JkZXIpIHtcbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBFUlBMWS5BbGVydCh0KCdvcmRlci5zYXZlLmFjdGlvbi50ZXh0JykpXG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgT3JkZXJzLnNhdmUoe1xuICAgICAgICBpZDogb3JkZXIuaWQsXG4gICAgICAgIGF0dHJpYnV0ZU5hbWUwOiAncGlja3VwUHJvY2Vzc2VkJyxcbiAgICAgICAgYXR0cmlidXRlVHlwZTA6ICdpbnQnLFxuICAgICAgICBhdHRyaWJ1dGVWYWx1ZTA6IDEsXG4gICAgICAgIGlnbm9yZUxvY2FsU1FMOiB0cnVlXG4gICAgICB9KVxuXG4gICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHVwZGF0ZU9yZGVyU3RhdHVzKG9yZGVyLmlkLCBQaWNrdXBTdGF0dXMuQ0FOQ0VMTEVEKSlcblxuICAgICAgVFNQT1MuRXZlbnRNYW5hZ2VyLnJ1bkV2ZW50TGlzdGVuZXIoJ29ubV9hZnRlcl9vcmRlcnNfdXBkYXRlJywge1xuICAgICAgICBvcmRlcnM6IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51bnByb2Nlc3NlZE9yZGVycy5vcmRlcnNcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBFbWJlci5Mb2dnZXIuZXJyb3IoZXJyLCBlcnIuY3R4KVxuICAgICAgcmV0dXJuIHZvaWQgdG9FcnJvck5vdGlmaWNhdGlvbihcbiAgICAgICAgbm90aWZpY2F0aW9uLFxuICAgICAgICB0KCdvcmRlci5zYXZlLmFjdGlvbi5lcnJvcicsIHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pXG4gICAgICApXG4gICAgfVxuXG4gICAgbm90aWZpY2F0aW9uLmNsb3NlKClcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/unprocessed-orders/list.js\n");

/***/ }),

/***/ "./src/views/unprocessed-orders/picking-confirmation.js":
/*!**************************************************************!*\
  !*** ./src/views/unprocessed-orders/picking-confirmation.js ***!
  \**************************************************************/
/*! exports provided: PickingConfirmation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PickingConfirmation\", function() { return PickingConfirmation; });\n/* harmony import */ var _templates_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../templates/modal */ \"./src/templates/modal.js\");\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../localization */ \"./src/localization/index.js\");\n/* harmony import */ var _api_erply_orders__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/erply/orders */ \"./src/api/erply/orders.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n/* harmony import */ var _utils_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/view */ \"./src/utils/view.js\");\n/* harmony import */ var _api_erply_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../api/erply/api */ \"./src/api/erply/api.js\");\n/* harmony import */ var _constants_templates__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../constants/templates */ \"./src/constants/templates.js\");\n/* harmony import */ var _utils_notification__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/notification */ \"./src/utils/notification.js\");\n\n\n\n\n\n\n\n\n\nclass PickingConfirmation {\n  constructor (store) {\n    this.store = store\n    this.html = $('<div></div>')\n  }\n\n  render () {\n    this.html = $(Object(_templates_modal__WEBPACK_IMPORTED_MODULE_0__[\"Modal\"])({\n      id: 'onm-picking-confirmation',\n      title: Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.picking.title'),\n      dismissable: true,\n      body: `<h4>${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.picking.text')}</h4>`,\n      footer: `\n          <button id=\"onm-confirm-yes\" class=\"btn btn-save-view bold text-uppercase\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('confirm.yes')}</button>\n          <button id=\"onm-confirm-no\" class=\"btn btn-cancel bold text-uppercase\">${Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('confirm.no')}</button>`\n    }))\n\n    this.html.on('click', '#onm-confirm-yes', e => this.onYes(e))\n    this.html.on('click', '#onm-confirm-no', e => this.onNo(e))\n\n    return this.html\n  }\n\n  async onYes (evt) {\n    const order = this.store.getState().unprocessedOrders.selected\n    const notification = ERPLY.Alert(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.text'))\n\n    try {\n      await _api_erply_orders__WEBPACK_IMPORTED_MODULE_2__[\"Orders\"].updatePickupStatus(order, _constants_pickup_status__WEBPACK_IMPORTED_MODULE_3__[\"PickupStatus\"].PICKED)\n\n      TSPOS.EventManager.runEventListener('onm_after_order_status_update', {\n        order: order,\n        status: _constants_pickup_status__WEBPACK_IMPORTED_MODULE_3__[\"PickupStatus\"].PICKED\n      })\n    } catch (err) {\n      Ember.Logger.error(err, err.ctx)\n      return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_7__[\"toErrorNotification\"])(\n        notification,\n        Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.save.action.error', { error: err.message })\n      )\n    }\n\n    notification.close()\n    TSPOS.UI.closeCurrentView()\n\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_4__[\"renderStoredView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_6__[\"UNPROCESSED_ORDERS_LIST\"],\n      dismiss: true,\n      modal: false\n    })\n  }\n\n  onClose () {\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_4__[\"renderStoredView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_6__[\"UNPROCESSED_ORDERS_LIST\"],\n      dismiss: true,\n      modal: false\n    })\n  }\n\n  async onNo () {\n    const order = this.store.getState().unprocessedOrders.selected\n\n    if (order.type === 'ORDER') {\n      TSPOS.UI.closeCurrentView()\n\n      Object(_utils_view__WEBPACK_IMPORTED_MODULE_4__[\"renderStoredView\"])({\n        viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_6__[\"EDIT_UNPROCESSED_ORDER\"],\n        dismiss: true,\n        modal: false\n      })\n    } else {\n      let payments = []\n\n      try {\n        payments = (await _api_erply_api__WEBPACK_IMPORTED_MODULE_5__[\"ErplyApi\"].sendRequest('getPayments', {\n          documentID: order.id\n        })).getRecords()\n      } catch (err) {}\n\n      if (payments.length === 0) {\n        ERPLY.Error(Object(_localization__WEBPACK_IMPORTED_MODULE_1__[\"t\"])('order.invalid.cashinvoice.error')).delayedClose(4)\n        return void TSPOS.UI.closeCurrentView()\n      }\n\n      TSPOS.UI.closeCurrentView()\n      TSPOS.Model.Document.documentReturn()\n\n      $('body').find('#search-return-document-field').val(order.number)\n      setTimeout(() => {\n        $('body').find('.search-return-document').trigger('click')\n      }, 100)\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvdW5wcm9jZXNzZWQtb3JkZXJzL3BpY2tpbmctY29uZmlybWF0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdzL3VucHJvY2Vzc2VkLW9yZGVycy9waWNraW5nLWNvbmZpcm1hdGlvbi5qcz84YmU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi4vLi4vdGVtcGxhdGVzL21vZGFsJ1xuaW1wb3J0IHsgdCB9IGZyb20gJy4uLy4uL2xvY2FsaXphdGlvbidcbmltcG9ydCB7IE9yZGVycyB9IGZyb20gJy4uLy4uL2FwaS9lcnBseS9vcmRlcnMnXG5pbXBvcnQgeyBQaWNrdXBTdGF0dXMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcGlja3VwLXN0YXR1cydcbmltcG9ydCB7IHJlbmRlclN0b3JlZFZpZXcgfSBmcm9tICcuLi8uLi91dGlscy92aWV3J1xuaW1wb3J0IHsgRXJwbHlBcGkgfSBmcm9tICcuLi8uLi9hcGkvZXJwbHkvYXBpJ1xuaW1wb3J0IHsgVU5QUk9DRVNTRURfT1JERVJTX0xJU1QsIEVESVRfVU5QUk9DRVNTRURfT1JERVIgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvdGVtcGxhdGVzJ1xuaW1wb3J0IHsgdG9FcnJvck5vdGlmaWNhdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzL25vdGlmaWNhdGlvbidcblxuZXhwb3J0IGNsYXNzIFBpY2tpbmdDb25maXJtYXRpb24ge1xuICBjb25zdHJ1Y3RvciAoc3RvcmUpIHtcbiAgICB0aGlzLnN0b3JlID0gc3RvcmVcbiAgICB0aGlzLmh0bWwgPSAkKCc8ZGl2PjwvZGl2PicpXG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHRoaXMuaHRtbCA9ICQoTW9kYWwoe1xuICAgICAgaWQ6ICdvbm0tcGlja2luZy1jb25maXJtYXRpb24nLFxuICAgICAgdGl0bGU6IHQoJ29yZGVyLnBpY2tpbmcudGl0bGUnKSxcbiAgICAgIGRpc21pc3NhYmxlOiB0cnVlLFxuICAgICAgYm9keTogYDxoND4ke3QoJ29yZGVyLnBpY2tpbmcudGV4dCcpfTwvaDQ+YCxcbiAgICAgIGZvb3RlcjogYFxuICAgICAgICAgIDxidXR0b24gaWQ9XCJvbm0tY29uZmlybS15ZXNcIiBjbGFzcz1cImJ0biBidG4tc2F2ZS12aWV3IGJvbGQgdGV4dC11cHBlcmNhc2VcIj4ke3QoJ2NvbmZpcm0ueWVzJyl9PC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBpZD1cIm9ubS1jb25maXJtLW5vXCIgY2xhc3M9XCJidG4gYnRuLWNhbmNlbCBib2xkIHRleHQtdXBwZXJjYXNlXCI+JHt0KCdjb25maXJtLm5vJyl9PC9idXR0b24+YFxuICAgIH0pKVxuXG4gICAgdGhpcy5odG1sLm9uKCdjbGljaycsICcjb25tLWNvbmZpcm0teWVzJywgZSA9PiB0aGlzLm9uWWVzKGUpKVxuICAgIHRoaXMuaHRtbC5vbignY2xpY2snLCAnI29ubS1jb25maXJtLW5vJywgZSA9PiB0aGlzLm9uTm8oZSkpXG5cbiAgICByZXR1cm4gdGhpcy5odG1sXG4gIH1cblxuICBhc3luYyBvblllcyAoZXZ0KSB7XG4gICAgY29uc3Qgb3JkZXIgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkudW5wcm9jZXNzZWRPcmRlcnMuc2VsZWN0ZWRcbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBFUlBMWS5BbGVydCh0KCdvcmRlci5zYXZlLmFjdGlvbi50ZXh0JykpXG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgT3JkZXJzLnVwZGF0ZVBpY2t1cFN0YXR1cyhvcmRlciwgUGlja3VwU3RhdHVzLlBJQ0tFRClcblxuICAgICAgVFNQT1MuRXZlbnRNYW5hZ2VyLnJ1bkV2ZW50TGlzdGVuZXIoJ29ubV9hZnRlcl9vcmRlcl9zdGF0dXNfdXBkYXRlJywge1xuICAgICAgICBvcmRlcjogb3JkZXIsXG4gICAgICAgIHN0YXR1czogUGlja3VwU3RhdHVzLlBJQ0tFRFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIsIGVyci5jdHgpXG4gICAgICByZXR1cm4gdm9pZCB0b0Vycm9yTm90aWZpY2F0aW9uKFxuICAgICAgICBub3RpZmljYXRpb24sXG4gICAgICAgIHQoJ29yZGVyLnNhdmUuYWN0aW9uLmVycm9yJywgeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICBub3RpZmljYXRpb24uY2xvc2UoKVxuICAgIFRTUE9TLlVJLmNsb3NlQ3VycmVudFZpZXcoKVxuXG4gICAgcmVuZGVyU3RvcmVkVmlldyh7XG4gICAgICB2aWV3VHlwZTogVU5QUk9DRVNTRURfT1JERVJTX0xJU1QsXG4gICAgICBkaXNtaXNzOiB0cnVlLFxuICAgICAgbW9kYWw6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIG9uQ2xvc2UgKCkge1xuICAgIHJlbmRlclN0b3JlZFZpZXcoe1xuICAgICAgdmlld1R5cGU6IFVOUFJPQ0VTU0VEX09SREVSU19MSVNULFxuICAgICAgZGlzbWlzczogdHJ1ZSxcbiAgICAgIG1vZGFsOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBhc3luYyBvbk5vICgpIHtcbiAgICBjb25zdCBvcmRlciA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51bnByb2Nlc3NlZE9yZGVycy5zZWxlY3RlZFxuXG4gICAgaWYgKG9yZGVyLnR5cGUgPT09ICdPUkRFUicpIHtcbiAgICAgIFRTUE9TLlVJLmNsb3NlQ3VycmVudFZpZXcoKVxuXG4gICAgICByZW5kZXJTdG9yZWRWaWV3KHtcbiAgICAgICAgdmlld1R5cGU6IEVESVRfVU5QUk9DRVNTRURfT1JERVIsXG4gICAgICAgIGRpc21pc3M6IHRydWUsXG4gICAgICAgIG1vZGFsOiBmYWxzZVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHBheW1lbnRzID0gW11cblxuICAgICAgdHJ5IHtcbiAgICAgICAgcGF5bWVudHMgPSAoYXdhaXQgRXJwbHlBcGkuc2VuZFJlcXVlc3QoJ2dldFBheW1lbnRzJywge1xuICAgICAgICAgIGRvY3VtZW50SUQ6IG9yZGVyLmlkXG4gICAgICAgIH0pKS5nZXRSZWNvcmRzKClcbiAgICAgIH0gY2F0Y2ggKGVycikge31cblxuICAgICAgaWYgKHBheW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBFUlBMWS5FcnJvcih0KCdvcmRlci5pbnZhbGlkLmNhc2hpbnZvaWNlLmVycm9yJykpLmRlbGF5ZWRDbG9zZSg0KVxuICAgICAgICByZXR1cm4gdm9pZCBUU1BPUy5VSS5jbG9zZUN1cnJlbnRWaWV3KClcbiAgICAgIH1cblxuICAgICAgVFNQT1MuVUkuY2xvc2VDdXJyZW50VmlldygpXG4gICAgICBUU1BPUy5Nb2RlbC5Eb2N1bWVudC5kb2N1bWVudFJldHVybigpXG5cbiAgICAgICQoJ2JvZHknKS5maW5kKCcjc2VhcmNoLXJldHVybi1kb2N1bWVudC1maWVsZCcpLnZhbChvcmRlci5udW1iZXIpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJCgnYm9keScpLmZpbmQoJy5zZWFyY2gtcmV0dXJuLWRvY3VtZW50JykudHJpZ2dlcignY2xpY2snKVxuICAgICAgfSwgMTAwKVxuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/unprocessed-orders/picking-confirmation.js\n");

/***/ }),

/***/ "./src/views/unprocessed-orders/view-order.js":
/*!****************************************************!*\
  !*** ./src/views/unprocessed-orders/view-order.js ***!
  \****************************************************/
/*! exports provided: ViewUnprocessedOrder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ViewUnprocessedOrder\", function() { return ViewUnprocessedOrder; });\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! big.js */ \"./node_modules/big.js/big.js\");\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(big_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _templates_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../templates/modal */ \"./src/templates/modal.js\");\n/* harmony import */ var _localization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../localization */ \"./src/localization/index.js\");\n/* harmony import */ var _utils_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/view */ \"./src/utils/view.js\");\n/* harmony import */ var _constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../constants/pickup-status */ \"./src/constants/pickup-status.js\");\n/* harmony import */ var _api_erply_orders__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../api/erply/orders */ \"./src/api/erply/orders.js\");\n/* harmony import */ var _constants_templates__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../constants/templates */ \"./src/constants/templates.js\");\n/* harmony import */ var _orders_delivery_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../orders/delivery-type */ \"./src/orders/delivery-type.js\");\n/* harmony import */ var _utils_notification__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils/notification */ \"./src/utils/notification.js\");\n/* harmony import */ var _utils_config__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/config */ \"./src/utils/config.js\");\n/* harmony import */ var _utils_date__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/date */ \"./src/utils/date.js\");\n/* harmony import */ var _utils_document__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/document */ \"./src/utils/document.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst OrderRow = ({ row }) => {\n  const price = new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(Object(_utils_config__WEBPACK_IMPORTED_MODULE_9__[\"pricesDisplayedWithTax\"])() ? row.finalPriceWithVAT : row.finalNetPrice)\n  const total = new big_js__WEBPACK_IMPORTED_MODULE_0___default.a(row.amount).times(price)\n\n  return `<tr>\n    <td>${_.escape(row.itemName)}</td>\n    <td>${_.escape(row.amount)}</td>\n    <td>${price.toFixed(2)}</td>\n    <td>${total.toFixed(2)}</td>\n  </tr>`\n}\n\nconst PickupStatusSelect = ({ order, value }) => (\n  `<select class=\"form-control mx-sm-3\" name=\"onm-edit-pickup-status\">\n  ${Object.keys(_constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"]).filter(key => {\n    // Disable confirmed and delivered status changes\n    if (_constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"][key] === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"].CONFIRMED || _constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"][key] === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"].DELIVERED) {\n      return false\n    }\n\n    if (_constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"][key] === _constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"].CANCELLED && order.type === 'CASHINVOICE') {\n      return false\n    }\n\n    return true\n  }).map(key => (\n    `<option value=\"${key}\" ${_constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"][key] === value ? 'selected' : ''}>\n        ${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])(Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"getPickupStatusKey\"])(_constants_pickup_status__WEBPACK_IMPORTED_MODULE_4__[\"PickupStatus\"][key]))}\n      </option>`\n  )).join('')}\n  </select>`\n)\n\nclass ViewUnprocessedOrder {\n  constructor (store) {\n    this.store = store\n    this.html = $(`<div></div>`)\n  }\n\n  render () {\n    const order = this.store.getState().unprocessedOrders.selected\n    const totals = Object(_utils_document__WEBPACK_IMPORTED_MODULE_11__[\"calculateDocumentTotals\"])(order)\n\n    this.html.find('.btn-save-view').off('click')\n\n    this.html = $(Object(_templates_modal__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"])({\n      id: 'onm-view-order',\n      title: `<span>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.with.number', { number: order.number })}<span>`,\n      actions: `\n        <button type=\"button\" class=\"btn-save-view bold text-uppercase\">\n          ${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.action.save')}\n        </button>\n      `,\n      body: `\n        <div>\n          <div>\n            <table class=\"table table-white table-customer\">\n              <tr>\n                <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.number')}</strong></td>\n                <td>${_.escape(order.number)}</td>\n              </tr>\n              <tr>\n                <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.pickup.type')}</strong></td>\n                <td>${Object(_orders_delivery_type__WEBPACK_IMPORTED_MODULE_7__[\"getDeliveryType\"])(order)}</td>\n              </tr>\n              <tr>\n                <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.date.created')}</strong></td>\n                <td>${_.escape(order.date)}</td>\n              </tr>\n              <tr>\n                <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.pickup.date.time')}</strong></td>\n                <td>${_.escape(Object(_utils_date__WEBPACK_IMPORTED_MODULE_10__[\"getOrderDateTime\"])(order.getAttributeValue('pickupDateTime')))}</td>\n              </tr>\n              <tr>\n                <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.delivery.date.time')}</strong></td>\n                <td>${_.escape(Object(_utils_date__WEBPACK_IMPORTED_MODULE_10__[\"getOrderDateTime\"])(order.getAttributeValue('deliveryDateTime')))}</td>\n              </tr>\n              <tr>\n                <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('customer')}</strong></td>\n                <td>${_.escape(order.clientName)}</td>\n              </tr>\n              <tr>\n                <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('customer.card.number')}</strong></td>\n                <td>${_.escape(order.clientCardNumber)}</td>\n              </tr>\n              <tr>\n                <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.status')}</strong></td>\n                <td id=\"onm-view-order-status\">\n                  ${PickupStatusSelect({ order: order, value: order.getAttributeValue('pickupStatus') })}\n                </td>\n              </tr>\n              <tr>\n                <td><strong>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.notes')}</strong></td>\n                <td>${_.escape(order.notes)}</td>\n              </tr>\n            </table>\n          </div>\n          <div>\n            <table class=\"table table-striped\">\n              <tr>\n                <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.row.product.name')}</th>\n                <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.row.quantity')}</th>\n                <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.row.price')}</th>\n                <th>${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.row.total')}</th>\n              </tr>\n              ${order.rows.map(row => OrderRow({ row })).join('')}\n            </table>\n            <hr/>\n            <p class=\"text-right\">\n              ${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.subtotal.with.value', { value: totals.netTotal.toFixed(2) })}\n            </p>\n            <p class=\"text-right\">\n              ${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.tax.total.with.value', { value: totals.total.minus(totals.netTotal).toFixed(2) })}\n            </p>\n            <p class=\"text-right bold\">\n              ${Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.total.with.value', { value: totals.total.toFixed(2) })}\n            </p>\n          </div>\n        </div>`,\n      dismissable: true\n    }))\n\n    this.html.find('.close').on('click', e => this.onClose(e))\n    this.html.find('.btn-save-view').on('click', e => this.onSave(e))\n\n    return this.html\n  }\n\n  async onSave (evt) {\n    const order = this.store.getState().unprocessedOrders.selected\n    const status = this.html.find('[name=\"onm-edit-pickup-status\"]').val()\n\n    if (status !== order.getAttributeValue('pickupStatus')) {\n      const notification = ERPLY.Alert(Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.save.action.text'))\n\n      try {\n        await _api_erply_orders__WEBPACK_IMPORTED_MODULE_5__[\"Orders\"].updatePickupStatus(order, status)\n        TSPOS.EventManager.runEventListener('onm_after_order_status_update', {\n          order: order,\n          status: status\n        })\n\n        notification.close()\n      } catch (err) {\n        Ember.Logger.error(err, err.ctx)\n        return void Object(_utils_notification__WEBPACK_IMPORTED_MODULE_8__[\"toErrorNotification\"])(\n          notification,\n          Object(_localization__WEBPACK_IMPORTED_MODULE_2__[\"t\"])('order.save.action.error', { error: err.message })\n        )\n      }\n    }\n\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_3__[\"renderStoredView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_6__[\"UNPROCESSED_ORDERS_LIST\"],\n      dismiss: true,\n      modal: false\n    })\n  }\n\n  onClose () {\n    Object(_utils_view__WEBPACK_IMPORTED_MODULE_3__[\"renderStoredView\"])({\n      viewType: _constants_templates__WEBPACK_IMPORTED_MODULE_6__[\"UNPROCESSED_ORDERS_LIST\"],\n      dismiss: true,\n      modal: false\n    })\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvdW5wcm9jZXNzZWQtb3JkZXJzL3ZpZXctb3JkZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvdW5wcm9jZXNzZWQtb3JkZXJzL3ZpZXctb3JkZXIuanM/MWM5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmlnIGZyb20gJ2JpZy5qcydcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi4vLi4vdGVtcGxhdGVzL21vZGFsJ1xuaW1wb3J0IHsgdCwgZ2V0UGlja3VwU3RhdHVzS2V5IH0gZnJvbSAnLi4vLi4vbG9jYWxpemF0aW9uJ1xuaW1wb3J0IHsgcmVuZGVyU3RvcmVkVmlldyB9IGZyb20gJy4uLy4uL3V0aWxzL3ZpZXcnXG5pbXBvcnQgeyBQaWNrdXBTdGF0dXMgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvcGlja3VwLXN0YXR1cydcbmltcG9ydCB7IE9yZGVycyB9IGZyb20gJy4uLy4uL2FwaS9lcnBseS9vcmRlcnMnXG5pbXBvcnQgeyBVTlBST0NFU1NFRF9PUkRFUlNfTElTVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy90ZW1wbGF0ZXMnXG5pbXBvcnQgeyBnZXREZWxpdmVyeVR5cGUgfSBmcm9tICcuLi8uLi9vcmRlcnMvZGVsaXZlcnktdHlwZSdcbmltcG9ydCB7IHRvRXJyb3JOb3RpZmljYXRpb24gfSBmcm9tICcuLi8uLi91dGlscy9ub3RpZmljYXRpb24nXG5pbXBvcnQgeyBwcmljZXNEaXNwbGF5ZWRXaXRoVGF4IH0gZnJvbSAnLi4vLi4vdXRpbHMvY29uZmlnJ1xuaW1wb3J0IHsgZ2V0T3JkZXJEYXRlVGltZSB9IGZyb20gJy4uLy4uL3V0aWxzL2RhdGUnXG5pbXBvcnQgeyBjYWxjdWxhdGVEb2N1bWVudFRvdGFscyB9IGZyb20gJy4uLy4uL3V0aWxzL2RvY3VtZW50JztcblxuY29uc3QgT3JkZXJSb3cgPSAoeyByb3cgfSkgPT4ge1xuICBjb25zdCBwcmljZSA9IG5ldyBCaWcocHJpY2VzRGlzcGxheWVkV2l0aFRheCgpID8gcm93LmZpbmFsUHJpY2VXaXRoVkFUIDogcm93LmZpbmFsTmV0UHJpY2UpXG4gIGNvbnN0IHRvdGFsID0gbmV3IEJpZyhyb3cuYW1vdW50KS50aW1lcyhwcmljZSlcblxuICByZXR1cm4gYDx0cj5cbiAgICA8dGQ+JHtfLmVzY2FwZShyb3cuaXRlbU5hbWUpfTwvdGQ+XG4gICAgPHRkPiR7Xy5lc2NhcGUocm93LmFtb3VudCl9PC90ZD5cbiAgICA8dGQ+JHtwcmljZS50b0ZpeGVkKDIpfTwvdGQ+XG4gICAgPHRkPiR7dG90YWwudG9GaXhlZCgyKX08L3RkPlxuICA8L3RyPmBcbn1cblxuY29uc3QgUGlja3VwU3RhdHVzU2VsZWN0ID0gKHsgb3JkZXIsIHZhbHVlIH0pID0+IChcbiAgYDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2wgbXgtc20tM1wiIG5hbWU9XCJvbm0tZWRpdC1waWNrdXAtc3RhdHVzXCI+XG4gICR7T2JqZWN0LmtleXMoUGlja3VwU3RhdHVzKS5maWx0ZXIoa2V5ID0+IHtcbiAgICAvLyBEaXNhYmxlIGNvbmZpcm1lZCBhbmQgZGVsaXZlcmVkIHN0YXR1cyBjaGFuZ2VzXG4gICAgaWYgKFBpY2t1cFN0YXR1c1trZXldID09PSBQaWNrdXBTdGF0dXMuQ09ORklSTUVEIHx8IFBpY2t1cFN0YXR1c1trZXldID09PSBQaWNrdXBTdGF0dXMuREVMSVZFUkVEKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoUGlja3VwU3RhdHVzW2tleV0gPT09IFBpY2t1cFN0YXR1cy5DQU5DRUxMRUQgJiYgb3JkZXIudHlwZSA9PT0gJ0NBU0hJTlZPSUNFJykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfSkubWFwKGtleSA9PiAoXG4gICAgYDxvcHRpb24gdmFsdWU9XCIke2tleX1cIiAke1BpY2t1cFN0YXR1c1trZXldID09PSB2YWx1ZSA/ICdzZWxlY3RlZCcgOiAnJ30+XG4gICAgICAgICR7dChnZXRQaWNrdXBTdGF0dXNLZXkoUGlja3VwU3RhdHVzW2tleV0pKX1cbiAgICAgIDwvb3B0aW9uPmBcbiAgKSkuam9pbignJyl9XG4gIDwvc2VsZWN0PmBcbilcblxuZXhwb3J0IGNsYXNzIFZpZXdVbnByb2Nlc3NlZE9yZGVyIHtcbiAgY29uc3RydWN0b3IgKHN0b3JlKSB7XG4gICAgdGhpcy5zdG9yZSA9IHN0b3JlXG4gICAgdGhpcy5odG1sID0gJChgPGRpdj48L2Rpdj5gKVxuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBjb25zdCBvcmRlciA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS51bnByb2Nlc3NlZE9yZGVycy5zZWxlY3RlZFxuICAgIGNvbnN0IHRvdGFscyA9IGNhbGN1bGF0ZURvY3VtZW50VG90YWxzKG9yZGVyKVxuXG4gICAgdGhpcy5odG1sLmZpbmQoJy5idG4tc2F2ZS12aWV3Jykub2ZmKCdjbGljaycpXG5cbiAgICB0aGlzLmh0bWwgPSAkKE1vZGFsKHtcbiAgICAgIGlkOiAnb25tLXZpZXctb3JkZXInLFxuICAgICAgdGl0bGU6IGA8c3Bhbj4ke3QoJ29yZGVyLndpdGgubnVtYmVyJywgeyBudW1iZXI6IG9yZGVyLm51bWJlciB9KX08c3Bhbj5gLFxuICAgICAgYWN0aW9uczogYFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bi1zYXZlLXZpZXcgYm9sZCB0ZXh0LXVwcGVyY2FzZVwiPlxuICAgICAgICAgICR7dCgnb3JkZXIuYWN0aW9uLnNhdmUnKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICBgLFxuICAgICAgYm9keTogYFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS13aGl0ZSB0YWJsZS1jdXN0b21lclwiPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRkPjxzdHJvbmc+JHt0KCdvcmRlci5udW1iZXInKX08L3N0cm9uZz48L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD4ke18uZXNjYXBlKG9yZGVyLm51bWJlcil9PC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZD48c3Ryb25nPiR7dCgnb3JkZXIucGlja3VwLnR5cGUnKX08L3N0cm9uZz48L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD4ke2dldERlbGl2ZXJ5VHlwZShvcmRlcil9PC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZD48c3Ryb25nPiR7dCgnb3JkZXIuZGF0ZS5jcmVhdGVkJyl9PC9zdHJvbmc+PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+JHtfLmVzY2FwZShvcmRlci5kYXRlKX08L3RkPlxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRkPjxzdHJvbmc+JHt0KCdvcmRlci5waWNrdXAuZGF0ZS50aW1lJyl9PC9zdHJvbmc+PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+JHtfLmVzY2FwZShnZXRPcmRlckRhdGVUaW1lKG9yZGVyLmdldEF0dHJpYnV0ZVZhbHVlKCdwaWNrdXBEYXRlVGltZScpKSl9PC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZD48c3Ryb25nPiR7dCgnb3JkZXIuZGVsaXZlcnkuZGF0ZS50aW1lJyl9PC9zdHJvbmc+PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+JHtfLmVzY2FwZShnZXRPcmRlckRhdGVUaW1lKG9yZGVyLmdldEF0dHJpYnV0ZVZhbHVlKCdkZWxpdmVyeURhdGVUaW1lJykpKX08L3RkPlxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRkPjxzdHJvbmc+JHt0KCdjdXN0b21lcicpfTwvc3Ryb25nPjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUob3JkZXIuY2xpZW50TmFtZSl9PC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZD48c3Ryb25nPiR7dCgnY3VzdG9tZXIuY2FyZC5udW1iZXInKX08L3N0cm9uZz48L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD4ke18uZXNjYXBlKG9yZGVyLmNsaWVudENhcmROdW1iZXIpfTwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGQ+PHN0cm9uZz4ke3QoJ29yZGVyLnN0YXR1cycpfTwvc3Ryb25nPjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGlkPVwib25tLXZpZXctb3JkZXItc3RhdHVzXCI+XG4gICAgICAgICAgICAgICAgICAke1BpY2t1cFN0YXR1c1NlbGVjdCh7IG9yZGVyOiBvcmRlciwgdmFsdWU6IG9yZGVyLmdldEF0dHJpYnV0ZVZhbHVlKCdwaWNrdXBTdGF0dXMnKSB9KX1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRkPjxzdHJvbmc+JHt0KCdvcmRlci5ub3RlcycpfTwvc3Ryb25nPjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPiR7Xy5lc2NhcGUob3JkZXIubm90ZXMpfTwvdGQ+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1zdHJpcGVkXCI+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGg+JHt0KCdvcmRlci5yb3cucHJvZHVjdC5uYW1lJyl9PC90aD5cbiAgICAgICAgICAgICAgICA8dGg+JHt0KCdvcmRlci5yb3cucXVhbnRpdHknKX08L3RoPlxuICAgICAgICAgICAgICAgIDx0aD4ke3QoJ29yZGVyLnJvdy5wcmljZScpfTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPiR7dCgnb3JkZXIucm93LnRvdGFsJyl9PC90aD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgJHtvcmRlci5yb3dzLm1hcChyb3cgPT4gT3JkZXJSb3coeyByb3cgfSkpLmpvaW4oJycpfVxuICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgIDxoci8+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgJHt0KCdvcmRlci5zdWJ0b3RhbC53aXRoLnZhbHVlJywgeyB2YWx1ZTogdG90YWxzLm5ldFRvdGFsLnRvRml4ZWQoMikgfSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgJHt0KCdvcmRlci50YXgudG90YWwud2l0aC52YWx1ZScsIHsgdmFsdWU6IHRvdGFscy50b3RhbC5taW51cyh0b3RhbHMubmV0VG90YWwpLnRvRml4ZWQoMikgfSl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtcmlnaHQgYm9sZFwiPlxuICAgICAgICAgICAgICAke3QoJ29yZGVyLnRvdGFsLndpdGgudmFsdWUnLCB7IHZhbHVlOiB0b3RhbHMudG90YWwudG9GaXhlZCgyKSB9KX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgICAgIGRpc21pc3NhYmxlOiB0cnVlXG4gICAgfSkpXG5cbiAgICB0aGlzLmh0bWwuZmluZCgnLmNsb3NlJykub24oJ2NsaWNrJywgZSA9PiB0aGlzLm9uQ2xvc2UoZSkpXG4gICAgdGhpcy5odG1sLmZpbmQoJy5idG4tc2F2ZS12aWV3Jykub24oJ2NsaWNrJywgZSA9PiB0aGlzLm9uU2F2ZShlKSlcblxuICAgIHJldHVybiB0aGlzLmh0bWxcbiAgfVxuXG4gIGFzeW5jIG9uU2F2ZSAoZXZ0KSB7XG4gICAgY29uc3Qgb3JkZXIgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkudW5wcm9jZXNzZWRPcmRlcnMuc2VsZWN0ZWRcbiAgICBjb25zdCBzdGF0dXMgPSB0aGlzLmh0bWwuZmluZCgnW25hbWU9XCJvbm0tZWRpdC1waWNrdXAtc3RhdHVzXCJdJykudmFsKClcblxuICAgIGlmIChzdGF0dXMgIT09IG9yZGVyLmdldEF0dHJpYnV0ZVZhbHVlKCdwaWNrdXBTdGF0dXMnKSkge1xuICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gRVJQTFkuQWxlcnQodCgnb3JkZXIuc2F2ZS5hY3Rpb24udGV4dCcpKVxuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBPcmRlcnMudXBkYXRlUGlja3VwU3RhdHVzKG9yZGVyLCBzdGF0dXMpXG4gICAgICAgIFRTUE9TLkV2ZW50TWFuYWdlci5ydW5FdmVudExpc3RlbmVyKCdvbm1fYWZ0ZXJfb3JkZXJfc3RhdHVzX3VwZGF0ZScsIHtcbiAgICAgICAgICBvcmRlcjogb3JkZXIsXG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXNcbiAgICAgICAgfSlcblxuICAgICAgICBub3RpZmljYXRpb24uY2xvc2UoKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIEVtYmVyLkxvZ2dlci5lcnJvcihlcnIsIGVyci5jdHgpXG4gICAgICAgIHJldHVybiB2b2lkIHRvRXJyb3JOb3RpZmljYXRpb24oXG4gICAgICAgICAgbm90aWZpY2F0aW9uLFxuICAgICAgICAgIHQoJ29yZGVyLnNhdmUuYWN0aW9uLmVycm9yJywgeyBlcnJvcjogZXJyLm1lc3NhZ2UgfSlcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclN0b3JlZFZpZXcoe1xuICAgICAgdmlld1R5cGU6IFVOUFJPQ0VTU0VEX09SREVSU19MSVNULFxuICAgICAgZGlzbWlzczogdHJ1ZSxcbiAgICAgIG1vZGFsOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICBvbkNsb3NlICgpIHtcbiAgICByZW5kZXJTdG9yZWRWaWV3KHtcbiAgICAgIHZpZXdUeXBlOiBVTlBST0NFU1NFRF9PUkRFUlNfTElTVCxcbiAgICAgIGRpc21pc3M6IHRydWUsXG4gICAgICBtb2RhbDogZmFsc2VcbiAgICB9KVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/views/unprocessed-orders/view-order.js\n");

/***/ })

/******/ });